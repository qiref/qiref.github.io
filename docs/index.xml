<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>å¤§é“è‡³ç®€</title>
    <link>https://qiref.github.io/</link>
    <description>Recent content on å¤§é“è‡³ç®€</description>
    <generator>Hugo</generator>
    <language>cn-zh</language>
    <lastBuildDate>Thu, 25 Sep 2025 10:24:40 +0800</lastBuildDate>
    <atom:link href="https://qiref.github.io/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>çº¢æ¥¼æ¢¦äººç‰©å…³ç³»</title>
      <link>https://qiref.github.io/note/2025/09/25/%E7%BA%A2%E6%A5%BC%E6%A2%A6%E4%BA%BA%E7%89%A9%E5%85%B3%E7%B3%BB/</link>
      <pubDate>Thu, 25 Sep 2025 10:24:40 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/09/25/%E7%BA%A2%E6%A5%BC%E6%A2%A6%E4%BA%BA%E7%89%A9%E5%85%B3%E7%B3%BB/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://qiref.github.io/assets/img/%E7%BA%A2%E6%A5%BC%E6%A2%A6%E4%BA%BA%E7%89%A9%E5%85%B3%E7%B3%BB.svg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>20250725 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/07/25/20250725-english-learning-journal/</link>
      <pubDate>Fri, 25 Jul 2025 10:24:40 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/07/25/20250725-english-learning-journal/</guid>
      <description>&lt;p&gt;In this weekend, I felt not so good, the sleep time was too late, I spent much time on the useless things, such as shopping apps , social media and so on. I didn&amp;rsquo;t know the reason and I tried to figure it out.&lt;/p&gt;&#xA;&lt;p&gt;I lost my self-control, and I asked deepseek, It was said self-control was not against youself, but turn around your attention, If you desired sth, bought sth you not really needed. or delayed sth importan. or watched social media for a long time, just turning around, do sth passitive to replace it and change now, you can eat some fruits and take a walk , or take a deep breath and start your task . Oh, thank the deepseek, That really help.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Chuck Based åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡è°ƒåº¦</title>
      <link>https://qiref.github.io/post/2025/07/18/chuck-based-%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6/</link>
      <pubDate>Fri, 18 Jul 2025 17:12:09 +0800</pubDate>
      <guid>https://qiref.github.io/post/2025/07/18/chuck-based-%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6/</guid>
      <description>&lt;h2 id=&#34;é—®é¢˜èƒŒæ™¯&#34;&gt;é—®é¢˜èƒŒæ™¯&lt;/h2&gt;&#xA;&lt;p&gt;æœ‰ä¸ªeventè¡¨çš„æ•°æ®ï¼Œéœ€è¦ç”¨å®šæ—¶ä»»åŠ¡å®šæœŸå¤„ç†ï¼Œå¤„ç†åçŠ¶æ€æ”¹ä¸ºå·²å®Œæˆï¼›&#xA;å®šæ—¶ä»»åŠ¡æ‰€åœ¨çš„ç¨‹åºæ˜¯å¤šå®ä¾‹çš„ï¼Œå¸Œæœ›èƒ½é€šè¿‡æ¨ªå‘æ‰©å±•ï¼ŒåŠ é€Ÿå®šæ—¶ä»»åŠ¡å¤„ç†çš„ååé‡ï¼›&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://qiref.github.io/assets/img/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6-1.svg&#34; alt=&#34;åŸå§‹é—®é¢˜&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;å½“ scheduler task æ¨ªå‘æ‰©å®¹ï¼Œå‡ºç°å¤šä¸ªå®ä¾‹æ—¶ï¼Œå¤šä¸ªå®šæ—¶ä»»åŠ¡åŒæ—¶æ‰§è¡Œï¼Œä¸ºäº†ä¿è¯åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªå®ä¾‹æ‰§è¡Œå®šæ—¶ä»»åŠ¡ï¼Œå¤šä¸ªå®šæ—¶ä»»åŠ¡ä¹‹é—´éœ€è¦åŠ é”ï¼Œå¹¶å‘é‡ä¸å¤§çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç”¨æ•°æ®åº“å®ç°ä¸€ä¸ªç®€å•çš„åˆ†å¸ƒå¼é”ï¼›&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;CREATE TABLE `locker` (&#xA;  `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT &#39;ID&#39;,&#xA;  `bizType` varchar(100) NOT NULL,&#xA;  `bizId` varchar(100) NOT NULL,&#xA;  `createTime` datetime DEFAULT CURRENT_TIMESTAMP,&#xA;  `updateTime` datetime DEFAULT CURRENT_TIMESTAMP,&#xA;  `unlockTime` datetime DEFAULT &#39;0000-00-00 00:00:00&#39;,&#xA;  PRIMARY KEY (`id`),&#xA;  UNIQUE KEY `bizType` (`bizType`,`bizId`)&#xA;) ENGINE=InnoDB AUTO_INCREMENT=2593578 DEFAULT CHARSET=utf8mb3 COMMENT=&#39;locker&#39;;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;ç›¸åŒå®šæ—¶ä»»åŠ¡ä½¿ç”¨ç›¸åŒçš„ bizType+bizIdï¼›é€šè¿‡UNIQUE KEY çº¦æŸï¼ŒåŒæ—¶åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹å†™å…¥æ•°æ®ï¼›å†™å…¥æˆåŠŸåˆ™è·å–åˆ°é”ï¼›&lt;/li&gt;&#xA;&lt;li&gt;è·å–åˆ°é”æ—¶ï¼Œå†™å…¥ä¸€ä¸ªè¿‡æœŸæ—¶é—´ï¼Œä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸æ–­å¯¹é”è¿›è¡Œç»­æœŸï¼›&lt;/li&gt;&#xA;&lt;li&gt;å¦èµ·å®šæ—¶ä»»åŠ¡ï¼Œæ‰«æè¿‡æœŸçš„é”è¿›è¡Œæ¸…é™¤ï¼›&lt;/li&gt;&#xA;&lt;li&gt;å®šæ—¶ä»»åŠ¡ç»“æŸåï¼Œæ¸…é™¤é”ï¼›&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œå¤šä¸ªå®šæ—¶ä»»åŠ¡è¿›ç¨‹ä¸­ï¼ŒåŒæ—¶åªæœ‰ä¸€ä¸ªå®ä¾‹æ‰§è¡Œï¼›å½“åŸå§‹é—®é¢˜ä¸­çš„ Event table æ•°æ®é‡å¾ˆå¤§ï¼Œéœ€è¦å¢åŠ å¤„ç†ååé‡æ—¶ï¼Œæ— æ³•é€šè¿‡æ¨ªå‘æ‰©å®¹è§£å†³ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;å®šæ—¶ä»»åŠ¡æ‹†åˆ†&#34;&gt;å®šæ—¶ä»»åŠ¡æ‹†åˆ†&lt;/h2&gt;&#xA;&lt;p&gt;å— DBLog è®ºæ–‡å¯å‘ï¼Œå¯ä»¥æå‰å¯¹æ•°æ®è¿›è¡Œåˆ†ç‰‡ï¼Œä¸åŒåˆ†ç‰‡äº¤ç»™ä¸åŒçš„å®ä¾‹è¿›è¡Œå¤„ç†ï¼Œä»è€Œæé«˜ååé‡ï¼›&lt;/p&gt;&#xA;&lt;p&gt;å…·ä½“æ€è·¯å¦‚ä¸‹:&lt;/p&gt;</description>
    </item>
    <item>
      <title>20250709 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/07/09/20250709-english-learning-journal/</link>
      <pubDate>Wed, 09 Jul 2025 20:08:00 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/07/09/20250709-english-learning-journal/</guid>
      <description>&lt;p&gt;Everything in this life is impermanent. Today, unfortunately,  I heard many bad news,  a young woman who is my wifeâ€˜s colleague, after her second child was born today. I was so sad to hear the news, the poor babies. the poor woman.  Life is uncertain, people never knew what will be in the next day. The traffic accident, the disease, the deathâ€¦ human were vulnerable while facing the natural.&lt;/p&gt;</description>
    </item>
    <item>
      <title>20250707 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/07/07/20250707-english-learning-journal/</link>
      <pubDate>Mon, 07 Jul 2025 21:02:27 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/07/07/20250707-english-learning-journal/</guid>
      <description>&lt;p&gt;Today was Monday,  the first day int a week.  It was hard to get down to business, I enjoyed last weekend. I made a lot of delicious food in the last weekend. As the old saying said, If you enjoy your food, you must love your life. That was true.&lt;/p&gt;&#xA;&lt;p&gt;By the way, My wife prepared her exam in these days, and felt stressful. I knew It was difficult and important for her, but I trust her , she can pass the exam, I often share my journal to her, but not this one. I was afraid those word make her felt more stressful , good luck to my dear.&lt;/p&gt;</description>
    </item>
    <item>
      <title>20250701 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/07/01/20250701-english-learning-journal/</link>
      <pubDate>Tue, 01 Jul 2025 21:14:37 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/07/01/20250701-english-learning-journal/</guid>
      <description>&lt;p&gt;Today, I found I love to stay alone. Iâ€™m not outgoing sometimes. In these days, I ate lunch alone, walked alone, and felt free. I could do anything what I want without concerning others. just took on my earphone, and watched some TV shows or read some books. When I was younger, I liked to stay with friends all day, after graduated , found that was hard to make friends, and the old friends was busy, most of them lived in different city and communicated less with each other. They already had their own families , me too. the more I was older, the more I spent more time on family, and the other time, I just wanted to stay alone , and concerned nothing. Now , I wonder Is that life? Iâ€™m not sure, but what I believe in is  everything is going to be better.&lt;/p&gt;</description>
    </item>
    <item>
      <title>20250630 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/30/20250630-english-learning-journal/</link>
      <pubDate>Mon, 30 Jun 2025 20:52:23 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/30/20250630-english-learning-journal/</guid>
      <description>&lt;p&gt;Today, It was so hot. I took a walk alone after dinner . I often do that in recent days, and liked the feeling. last week, I have checked my body on hospital , the doctor told me  I shouldnâ€™t eat too much and take exercise. that true. after finished my walk. I felt comfortable.&lt;/p&gt;&#xA;&lt;p&gt;The day, I learnt a new word â€œaccumulateâ€, and now ,  I&amp;rsquo;ll practice the new word in a sentence:&lt;/p&gt;</description>
    </item>
    <item>
      <title>20250625 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/25/20250625-english-learning-journal/</link>
      <pubDate>Wed, 25 Jun 2025 22:14:48 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/25/20250625-english-learning-journal/</guid>
      <description>&lt;p&gt;Today, I watched a video in the youtube, Itâ€™s said wasting time is killing your life. Thatâ€™s sound horrible. But when I rethought about it, I understood . Every time I said Iâ€™ll do it later, the fact is Iâ€™ll never do it. thatâ€˜s human nature, people always want to stay comfortable zones. so do I, In these days, I realized how important the time is. There are so manny great thing I want to do, but I spent so much time to the useless thing in the past.&lt;/p&gt;</description>
    </item>
    <item>
      <title>20250624 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/24/20250624-english-learning-journal/</link>
      <pubDate>Tue, 24 Jun 2025 18:02:56 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/24/20250624-english-learning-journal/</guid>
      <description>&lt;p&gt;Today, I resolved a complex problem, now, I reviewed the process, found a lot of experience I could learn .&lt;/p&gt;&#xA;&lt;p&gt;First, when facing to complication that I have never seen. I should be more patient , the problem that I resolved cost one day to finish. In the process, I felt anxious , frustrating, but never gave up. in the end, I found the solution.&lt;/p&gt;&#xA;&lt;p&gt;Second, I must gather enough information before starting, in other words, the context of the problem must be clear. so , I could analyse the problem with the full context. and repeat it.&lt;/p&gt;</description>
    </item>
    <item>
      <title>20250619 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/19/20250619-english-learning-journal/</link>
      <pubDate>Thu, 19 Jun 2025 22:30:42 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/19/20250619-english-learning-journal/</guid>
      <description>&lt;p&gt;Today, I didnâ€™t know what to write. It was difficult to write English journal everyday. But thatâ€™s what matters. see it. that phrase I have used yesterday. The best way is practicing constantly while learning English.&lt;/p&gt;&#xA;&lt;p&gt;Let me see, what is the most impressive thing today. The first thing I can remember is  â€¦.&lt;/p&gt;&#xA;&lt;p&gt;Unfortunately, 10 min later, I still cannot know what to write.  ğŸ˜‚ğŸ˜‚&lt;/p&gt;&#xA;&lt;p&gt;I list some  alternatives to words amazing , this what I have learnt today.&lt;/p&gt;</description>
    </item>
    <item>
      <title>20250618 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/18/20250618-english-learning-journal/</link>
      <pubDate>Wed, 18 Jun 2025 21:18:08 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/18/20250618-english-learning-journal/</guid>
      <description>&lt;p&gt;I often think that I was stupid in the past life. It will be better If I did something or not did something at that time. so, I regred my dicision, But when I rethink that, That was me too, those things are apart of my life, I should accept it eventhought it was not so perfect . I cannot always be right. But I should know what is better, what is a wrong decision.&lt;/p&gt;</description>
    </item>
    <item>
      <title>20250617 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/17/20250617-english-learning-journal/</link>
      <pubDate>Tue, 17 Jun 2025 10:50:56 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/17/20250617-english-learning-journal/</guid>
      <description>&lt;p&gt;Today I watched a presentation of TED on youtube, and it said we human beings can make friends with stress. In someway, The stress is benefit to our bodies. It depends on how we consider it. If we think stress is bad for our life, yes , those who will often be anxious while being stressed. But ,on the other hand, If we are under stress, it means that we are ready to handle it, speed of heart is higher, so we can resolve the difficult situations, weâ€™ll not be anxious about it.&lt;/p&gt;</description>
    </item>
    <item>
      <title>20250616 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/16/20250616-english-learning-journal/</link>
      <pubDate>Mon, 16 Jun 2025 11:15:43 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/16/20250616-english-learning-journal/</guid>
      <description>&lt;p&gt;Today, I showed my English journal to my darling, I wanted to shared my thought to her because of trusting. But her reaction astonished me , &amp;ldquo;why not me in your first journal?&amp;rdquo; she said, what a amazing girl she was! she always gave me surprise.&lt;/p&gt;&#xA;&lt;p&gt;Util now, she envy our son, Yesterday was father&amp;rsquo;s day, we went shopping in the evening, And she bought expensive clothes that&amp;rsquo;s suit me fine , I was so cheerful that day, After that, we went home, she said to me that I was worth owning its, and I was so moving to heard that.&lt;br&gt;&#xA;That was my darling , I didn&amp;rsquo;t know how to describe her, just like little shining star in my life.&lt;/p&gt;</description>
    </item>
    <item>
      <title>20250615 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/15/20250615-english-learning-journal/</link>
      <pubDate>Sun, 15 Jun 2025 10:26:11 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/15/20250615-english-learning-journal/</guid>
      <description>&lt;p&gt;This is weekend, As usaul , I went home after finished my work, My son ran to me and hugged me , I loved that moment!&lt;/p&gt;&#xA;&lt;p&gt;The next day, After lunch, he looked so tired, and wanted to go sleep, but he was too young to sleep by himself, just a two years old baby. Then , I picked the baby up, he lay on my shoulder, and we hung out in the room,  5 min later, he felt asleep almostly, he saw a peice of cookie on the table, and wanted to eat it, Thenï¼Œ I gave the cookie to him, he slept while eating cookies, Wow, He looked so busy.&lt;/p&gt;</description>
    </item>
    <item>
      <title>20250613 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/13/20250613-english-learning-journal/</link>
      <pubDate>Fri, 13 Jun 2025 10:18:38 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/13/20250613-english-learning-journal/</guid>
      <description>&lt;p&gt;Today is a sunny day ï¼ŒI walked to my company as usual in the morning. And listening the POC English audio. I saw a lot of mushrooms on the ground, and One of them was so big its looked asdonished. At the time,I wanted to say something using my poor English , Unfortunately I forgot the vocabulary of mushroom, I felt disappointed of myself. But when I arrived at my company, began to took off my earphones, I heard a word mushroom, Suddenly it was seem like remember something, I opened a dictionary APP, checking the vocabulary , That was amazing. Itâ€™s mushroom!&lt;/p&gt;</description>
    </item>
    <item>
      <title>20250612 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/12/20250612-english-learning-journal/</link>
      <pubDate>Thu, 12 Jun 2025 21:19:25 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/12/20250612-english-learning-journal/</guid>
      <description>&lt;p&gt;Today, I begin to write my journal of English Learning. And this is the first one.&lt;/p&gt;&#xA;&lt;p&gt;I will write my thoughts or some new words, phrase about my learning English every day. In theses days, I have listened POC ENGLISH video in the youtube, that&amp;rsquo;s is high quality video about English learning. I will pay more attention to the video. By the way , the POC ENGLISH has their own website, there is a lot of blogs in that website, all of them are pretty good .&lt;/p&gt;</description>
    </item>
    <item>
      <title>å®¹å™¨ç½‘ç»œåŸç†åˆ†æ-å•ä¸»æœºå®¹å™¨ç½‘ç»œ</title>
      <link>https://qiref.github.io/post/2025/05/30/%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90-%E5%8D%95%E4%B8%BB%E6%9C%BA%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C/</link>
      <pubDate>Fri, 30 May 2025 16:28:12 +0800</pubDate>
      <guid>https://qiref.github.io/post/2025/05/30/%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90-%E5%8D%95%E4%B8%BB%E6%9C%BA%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C/</guid>
      <description>&lt;h2 id=&#34;å•ä¸»æœºå®¹å™¨é€šä¿¡&#34;&gt;å•ä¸»æœºå®¹å™¨é€šä¿¡&lt;/h2&gt;&#xA;&lt;p&gt;åœ¨å®¹å™¨ç¯å¢ƒä¸­ï¼Œå¯åŠ¨ä¸¤ä¸ªcontainerï¼ŒC1ï¼ŒC2ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒC1 å’Œ C2 ç½‘ç»œæ˜¯é€šçš„ï¼Œä½†æ˜¯åœ¨ C1 å’Œ C2 ä¸­ï¼Œéƒ½åˆ†é…äº†è‡ªå·±çš„ IPï¼›&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# å¯åŠ¨ä¸¤ä¸ªå®¹å™¨ç¯å¢ƒ&#xA;&#xA;# 172.17.0.3&#xA;docker run -d --name containerA nginx:alpine&#xA;&#xA;# 172.17.0.2&#xA;docker run -d --name containerB nginx:alpine&#xA;&#xA;# ç™»å½•containerA ping containerBï¼Œç½‘ç»œèƒ½é€š&#xA;docker exec -it containerA sh&#xA;&#xA;# ping 172.17.0.2&#xA;PING 172.17.0.2 (172.17.0.2): 56 data bytes&#xA;64 bytes from 172.17.0.2: seq=0 ttl=64 time=0.076 ms&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;ä¸ºä»€ä¹ˆåœ¨ä¸¤ä¸ª container ä¸­ï¼Œç½‘ç»œéƒ½æ˜¯äº’é€šçš„å‘¢ï¼Ÿ&lt;/p&gt;&#xA;&lt;p&gt;åœ¨ contaner ä¸­ï¼ŒæŸ¥çœ‹ç½‘ç»œé…ç½®ï¼š&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;docker exec -it containerA sh&#xA;ifconfig&#xA;eth0      Link encap:Ethernet  HWaddr 02:42:AC:11:00:03&#xA;          inet addr:172.17.0.3  Bcast:172.17.255.255  Mask:255.255.0.0&#xA;          inet6 addr: fe80::42:acff:fe11:3/64 Scope:Link&#xA;          inet6 addr: fd00:dead:beef:c0:0:242:ac11:3/80 Scope:Global&#xA;          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1&#xA;          RX packets:275 errors:0 dropped:0 overruns:0 frame:0&#xA;          TX packets:139 errors:0 dropped:0 overruns:0 carrier:0&#xA;          collisions:0 txqueuelen:0&#xA;          RX bytes:19546 (19.0 KiB)  TX bytes:9854 (9.6 KiB)&#xA;&#xA;lo        Link encap:Local Loopback&#xA;          inet addr:127.0.0.1  Mask:255.0.0.0&#xA;          inet6 addr: ::1/128 Scope:Host&#xA;          UP LOOPBACK RUNNING  MTU:65536  Metric:1&#xA;          RX packets:0 errors:0 dropped:0 overruns:0 frame:0&#xA;          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0&#xA;          collisions:0 txqueuelen:1000&#xA;          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)&#xA;&#xA;route -n&#xA;Kernel IP routing table&#xA;Destination     Gateway         Genmask         Flags Metric Ref    Use Iface&#xA;0.0.0.0         172.17.0.1      0.0.0.0         UG    0      0        0 eth0&#xA;172.17.0.0      0.0.0.0         255.255.0.0     U     0      0        0 eth0&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;ä»å®¹å™¨ä¸­çš„é…ç½®æ¥çœ‹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Paxosæ¨å¯¼è¿‡ç¨‹</title>
      <link>https://qiref.github.io/post/2025/01/01/paxos%E6%8E%A8%E5%AF%BC%E8%BF%87%E7%A8%8B/</link>
      <pubDate>Wed, 01 Jan 2025 16:29:06 +0800</pubDate>
      <guid>https://qiref.github.io/post/2025/01/01/paxos%E6%8E%A8%E5%AF%BC%E8%BF%87%E7%A8%8B/</guid>
      <description>&lt;p&gt;paxos æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼å…±è¯†ç®—æ³•, å°±æ˜¯ç”¨æ¥è§£å†³åˆ†å¸ƒå¼ç³»ç»Ÿä¸­, å¤šå‰¯æœ¬æ•°æ®å¦‚ä½•ä¿è¯è¯»å†™ä¸€è‡´æ€§çš„é—®é¢˜.&lt;/p&gt;&#xA;&lt;h3 id=&#34;ä¸å®Œç¾çš„å‰¯æœ¬æ•°æ®åŒæ­¥æœºåˆ¶&#34;&gt;ä¸å®Œç¾çš„å‰¯æœ¬æ•°æ®åŒæ­¥æœºåˆ¶&lt;/h3&gt;&#xA;&lt;p&gt;å‡è®¾æˆ‘ä»¬æœ‰ä¸ªåˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿ, æ•°æ®åœ¨å†™å…¥æ—¶, éœ€è¦æŠŠæ•°æ®å†™å…¥åˆ°å…¶ä»–èŠ‚ç‚¹: å‰¯æœ¬æ•°æ®ä»ä¸€ä¸ªèŠ‚ç‚¹å¤åˆ¶åˆ°å…¶ä»–èŠ‚ç‚¹, æœ‰å‡ ç§å¤åˆ¶åŠæ³•:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;åŒæ­¥å¤åˆ¶&lt;/li&gt;&#xA;&lt;li&gt;å¼‚æ­¥å¤åˆ¶&lt;/li&gt;&#xA;&lt;li&gt;åŠåŒæ­¥å¤åˆ¶&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;åŒæ­¥å¤åˆ¶&#34;&gt;åŒæ­¥å¤åˆ¶&lt;/h4&gt;&#xA;&lt;pre&gt;&lt;code&gt;# node1, node2, node3 &#xA;&#xA;a=x --&amp;gt; node1 --&amp;gt; node2&#xA;              ------&amp;gt; node3&#xA;                           --&amp;gt; done&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;æ•°æ®åœ¨ä¸€æ¬¡å†™å…¥æ—¶, éœ€è¦åŒæ—¶å†™å…¥ node1, node2, node3 ä¸‰ä¸ªèŠ‚ç‚¹, å†™å…¥å®Œæˆæ‰ç®—æ˜¯ä¸€æ¬¡å†™å…¥æˆåŠŸ;&lt;/p&gt;&#xA;&lt;p&gt;åŒæ­¥å¤åˆ¶æœ‰ä»€ä¹ˆé—®é¢˜:&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;æ€§èƒ½ä½ä¸‹; å†™å…¥æ€§èƒ½ä¼šå—åˆ¶äºèŠ‚ç‚¹æ•°é‡;&lt;/li&gt;&#xA;&lt;li&gt;æ²¡æœ‰å®¹é”™, ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹å†™å…¥å¤±è´¥, åˆ™ç³»ç»Ÿä¸å¯ç”¨;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h4 id=&#34;å¼‚æ­¥å¤åˆ¶&#34;&gt;å¼‚æ­¥å¤åˆ¶&lt;/h4&gt;&#xA;&lt;pre&gt;&lt;code&gt;a=x --&amp;gt; node1 &#xA;             --&amp;gt; done&#xA;             async( node1  --&amp;gt; node2 ; node1  --&amp;gt; node3 ) &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;æ•°æ®åœ¨ä¸€æ¬¡å†™å…¥æ—¶, åªè¦å†™å…¥ä¸€ä¸ªèŠ‚ç‚¹, åˆ™è®¤å®šå†™å…¥æˆåŠŸ, node1 å†™å…¥ node2; node1 å†™å…¥ node3 æ˜¯å¼‚æ­¥å¤åˆ¶, ä¸å½±å“æ•´ä½“å†™å…¥ç»“æœ;&lt;/p&gt;&#xA;&lt;p&gt;å¼‚æ­¥å¤åˆ¶æœ‰ä»€ä¹ˆé—®é¢˜:&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;æ•°æ®å¯èƒ½å­˜åœ¨ä¸ä¸€è‡´, å½“ async( node1  &amp;ndash;&amp;gt; node2) å†™å…¥å¤±è´¥æ—¶, node2 å’Œ node1 ä¸Šçš„æ•°æ®å°±ä¸ä¸€è‡´;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h4 id=&#34;åŠåŒæ­¥å¤åˆ¶&#34;&gt;åŠåŒæ­¥å¤åˆ¶&lt;/h4&gt;&#xA;&lt;p&gt;æ•°æ®åœ¨ä¸€æ¬¡å†™å…¥æ—¶, æ•°æ®å¿…é¡»å†™å…¥ä¸€å®šé‡çš„å‰¯æœ¬(ä¸æ˜¯å…¨éƒ¨), è¿™æ ·å¤šå‰¯æœ¬åˆ™æä¾›äº†è¾ƒé«˜çš„å¯é æ€§;&lt;/p&gt;</description>
    </item>
    <item>
      <title>ä¸¤é˜¶æ®µæäº¤å’Œä¸‰é˜¶æ®µæäº¤</title>
      <link>https://qiref.github.io/post/2024/07/25/%E4%B8%A4%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4%E5%92%8C%E4%B8%89%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4/</link>
      <pubDate>Thu, 25 Jul 2024 20:57:06 +0800</pubDate>
      <guid>https://qiref.github.io/post/2024/07/25/%E4%B8%A4%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4%E5%92%8C%E4%B8%89%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4/</guid>
      <description>&lt;h2 id=&#34;åˆ†å¸ƒå¼å…±è¯†é—®é¢˜&#34;&gt;åˆ†å¸ƒå¼å…±è¯†é—®é¢˜&lt;/h2&gt;&#xA;&lt;p&gt;åˆ†å¸ƒå¼å…±è¯†é—®é¢˜æ˜¯æŒ‡åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå¤šä¸ªèŠ‚ç‚¹æˆ–å‚ä¸è€…éœ€è¦å°±æŸä¸ªå…±åŒçš„ç»“æœè¾¾æˆä¸€è‡´æ„è§çš„é—®é¢˜ã€‚ä¾‹å¦‚ä¸»ä»åŒæ­¥é—®é¢˜, ç®€å•çš„ä¸»ä»åŒæ­¥å¯ä»¥å€ŸåŠ©ä¸¤é˜¶æ®µæäº¤å’Œä¸‰é˜¶æ®µæäº¤æ¥è§£å†³,ç¡®ä¿æ‰€æœ‰èŠ‚ç‚¹ä¸Šçš„äº‹åŠ¡æ“ä½œèƒ½å¤Ÿä¿æŒä¸€è‡´æ€§ï¼Œå³è¦ä¹ˆå…¨éƒ¨æäº¤ï¼Œè¦ä¹ˆå…¨éƒ¨å›æ»šã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;ä¸¤é˜¶æ®µæäº¤&#34;&gt;ä¸¤é˜¶æ®µæäº¤&lt;/h2&gt;&#xA;&lt;p&gt;åœ¨ä¸»ä»åŒæ­¥çš„åœºæ™¯ä¸­, backup éœ€è¦ä» master åŒæ­¥æ•°æ®, ä»æ•°æ®å†™å…¥çš„åœºæ™¯æ¥è¯´, å‡å®šä¸»ä»èŠ‚ç‚¹æ˜¯åŒæ­¥å¤åˆ¶, å®é™…ä¸Šå°±æ˜¯ä¸€æ¬¡åˆ†å¸ƒå¼äº‹åŠ¡, backup å’Œ master çš„ä¸€æ¬¡å†™å…¥è¦ä¹ˆéƒ½æˆåŠŸ, è¦ä¹ˆéƒ½å¤±è´¥, æ‰èƒ½ä¿è¯ä¸»ä»èŠ‚ç‚¹çš„æ•°æ®ä¸€è‡´æ€§;&lt;/p&gt;&#xA;&lt;p&gt;å€ŸåŠ©ä¸¤é˜¶æ®µæäº¤, éœ€è¦å¼•å…¥ä¸€ä¸ªåè°ƒè€…: Coordinator, å¦‚ä¸‹:&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://qiref.github.io/assets/img/2phase-commit-1.svg&#34; alt=&#34;2phase-commit-1&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;å°†æäº¤è¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µ: PreCommitã€commit;&lt;/p&gt;&#xA;&lt;p&gt;åœ¨ PreCommit é˜¶æ®µ, æ‰§è¡Œ WAL æµç¨‹, æŠŠäº‹åŠ¡æ—¥å¿—æå‰å†™å…¥, ç„¶å Coordinator åœ¨æ”¶åˆ°å‚ä¸è€…çš„ PreCommit ack ä¹‹å, å¼€å¯ç¬¬äºŒé˜¶æ®µ commit, commit æˆåŠŸä¹‹å, æ•°æ®æ‰ç®—æ˜¯çœŸæ­£çš„å†™å…¥. å½“ PreCommit å¤±è´¥æ—¶, Coordinator ä¼šå‘èµ·äº‹åŠ¡å›æ»š, æ‰€æœ‰å‚ä¸è€…ä¼šåŸºäº WAL çš„äº‹åŠ¡æ—¥å¿—, å›æ»šæ­¤æ¬¡äº‹åŠ¡;&lt;/p&gt;&#xA;&lt;p&gt;å½“ Coordinator å’Œ Participant ç½‘ç»œå¼‚å¸¸æ—¶, å¦‚æœæ˜¯åœ¨ PreCommit é˜¶æ®µ, é‚£äº‹åŠ¡éƒ½ä¸ä¼šæäº¤, ç›¸å½“äºä¸€æ¬¡å†™å…¥å°±å¤±è´¥äº†;  å¦‚æœåœ¨ commit é˜¶æ®µç½‘ç»œå¼‚å¸¸, Coordinator ä¼šé‡è¯•æ‰§è¡Œ, ç›´åˆ° Participant æ¢å¤, äº‹åŠ¡é‡æ–°æäº¤æˆ–è€…å›æ»š. ä½†åœ¨æ­¤æœŸé—´, å®¢æˆ·ç«¯çš„å†™å…¥éƒ½ä¼šè¢«æ‹’ç», æ­¤æ—¶åˆ†å¸ƒå¼ç³»ç»Ÿå¤„äºä¸å¯ç”¨çŠ¶æ€(ç›¸å½“äºä¿è¯äº†æ•°æ®ä¸€è‡´æ€§, ç‰ºç‰²äº†å¯ç”¨æ€§)&lt;/p&gt;</description>
    </item>
    <item>
      <title>å…³äºé”çš„æ€è€ƒå’Œæ€»ç»“(äºŒ)</title>
      <link>https://qiref.github.io/post/2024/05/21/%E5%85%B3%E4%BA%8E%E9%94%81%E7%9A%84%E6%80%9D%E8%80%83%E5%92%8C%E6%80%BB%E7%BB%93%E4%BA%8C/</link>
      <pubDate>Tue, 21 May 2024 15:53:46 +0800</pubDate>
      <guid>https://qiref.github.io/post/2024/05/21/%E5%85%B3%E4%BA%8E%E9%94%81%E7%9A%84%E6%80%9D%E8%80%83%E5%92%8C%E6%80%BB%E7%BB%93%E4%BA%8C/</guid>
      <description>&lt;p&gt;ä¹¦æ¥ä¸Šæ–‡, åœ¨å•æœºæ¨¡å¼ä¸‹, å¯ä»¥å€ŸåŠ©æ“ä½œç³»ç»Ÿèƒ½åŠ›, ä½¿ç”¨åŸå­æŒ‡ä»¤å»å®ç°é”, ä½†æ˜¯åœ¨åˆ†å¸ƒå¼åœºæ™¯ä¸­, è¿™ç§æ–¹æ¡ˆå°±ä¼šæ— æ³•å®ç°, å› ä¸ºè¦ç«äº‰é”çš„è¿›ç¨‹åœ¨ä¸åŒçš„æœºå™¨ä¸Š, åˆ†å¸ƒå¼é”å› æ­¤è€Œè¯ç”Ÿ.&lt;/p&gt;&#xA;&lt;h2 id=&#34;åˆ†å¸ƒå¼é”çš„å¸¸è§é—®é¢˜&#34;&gt;åˆ†å¸ƒå¼é”çš„å¸¸è§é—®é¢˜&lt;/h2&gt;&#xA;&lt;p&gt;ä¸¾ä¸€ä¸ªå¾ˆå¸¸è§çš„æ¡ˆä¾‹, å¦‚æœæŸä¸ªæœåŠ¡ä¸ºäº†å®ç°é«˜å¯ç”¨è€Œé‡‡ç”¨äº†å¤šå‰¯æœ¬æ¨¡å¼, å½“æœåŠ¡ä¸­å­˜åœ¨å®šæ—¶ä»»åŠ¡, å¦‚ä½•ä¿è¯åŒæ—¶åªæœ‰ä¸€ä¸ªå®šæ—¶ä»»åŠ¡åœ¨è¿è¡Œå‘¢? ä»è¿™é‡Œ, é—®é¢˜å°±å¼€å§‹å˜å¾—å¤æ‚.&lt;/p&gt;&#xA;&lt;p&gt;å¾ˆå¸¸è§„çš„æ€è·¯å°±æ˜¯å€ŸåŠ©æ•°æ®åº“, æ“ä½œç³»ç»Ÿæä¾›äº†åŸå­æŒ‡ä»¤, åŒæ ·, æ•°æ®åº“ä¹Ÿæä¾›äº†äº‹åŠ¡æ¥ä¿è¯åŸå­æ€§, é‚£ä¹ˆæ¡ˆä¾‹ä¸­çš„é—®é¢˜å¯ä»¥è¿™ä¹ˆè§£å†³:&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;å¯ä»¥è®¾è®¡ä¸€å¼ è¡¨ lock, &lt;code&gt;id, key&lt;/code&gt; ä¸¤ä¸ªå­—æ®µ, æŠŠ key è®¾ç½®ä¸ºå”¯ä¸€ç´¢å¼•; key çš„ä¸šåŠ¡æ„ä¹‰æ˜¯å®šæ—¶ä»»åŠ¡çš„å”¯ä¸€æ ‡è¯†;&lt;/li&gt;&#xA;&lt;li&gt;æ¯ä¸ªå®ä¾‹æ‰§è¡Œå®šæ—¶ä»»åŠ¡ä¹‹å‰, å¾€è¡¨é‡Œå†™å…¥ä¸€æ¡æ•°æ®: &lt;code&gt;(1, tastA)&lt;/code&gt;, ç”±äºäº‹åŠ¡æœºåˆ¶çš„å­˜åœ¨, å¦‚æœæ­¤æ—¶æœ‰å…¶ä»–å®ä¾‹å¾€è¿™ä¸ªè¡¨é‡Œå†™æ•°æ®æ—¶å°±ä¼šå¤±è´¥, æ­¤æ—¶è·³è¿‡å½“å‰å®ä¾‹çš„å®šæ—¶ä»»åŠ¡;&lt;/li&gt;&#xA;&lt;li&gt;æ‰§è¡Œå®Œå®šæ—¶ä»»åŠ¡ä¹‹å, æŠŠ (1, taskA) è¿™æ¡è®°å½•åˆ é™¤;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;é—®é¢˜è§£å†³äº†å—? è€ƒè™‘ä¸€ä¸‹å¼‚å¸¸æƒ…å†µ: å½“å®ä¾‹Aæ‹¿åˆ°é”ä¹‹åæŒ‚äº†, é‚£å…¶ä»–å®ä¾‹æ°¸è¿œä¹Ÿæ‹¿ä¸åˆ°é”äº†;&lt;/p&gt;&#xA;&lt;p&gt;ä¸€ä¸ªå¾ˆç›´è§‚çš„æ€è·¯å°±æ˜¯ç»™é”è®¾ç½®è¶…æ—¶æ—¶é—´, ä½†æ˜¯è®¾ç½®è¶…æ—¶æ—¶é—´å°±éœ€è¦æƒè¡¡äº†, å¦‚æœå®šæ—¶ä»»åŠ¡æœ¬èº«çš„è€—æ—¶è·Ÿé”çš„è¶…æ—¶æ—¶é—´è¿˜è¦é•¿, é‚£å°±ä¼šå‡ºç°é”è¶…æ—¶è€Œå¯¼è‡´åŒæ—¶ä¸¤ä¸ªå®ä¾‹åœ¨æ‰§è¡Œå®šæ—¶ä»»åŠ¡, å› æ­¤, è¿™ä¸ªæ–¹æ¡ˆæ˜¯éœ€è¦ä¸€å®šçš„å‰æçš„, è¿™å–å†³äºå®é™…çš„ä¸šåŠ¡åœºæ™¯;&lt;/p&gt;&#xA;&lt;p&gt;å†æ›´è¿›ä¸€æ­¥æ€è€ƒ, å¦‚æœçœŸçš„å®šæ—¶ä»»åŠ¡æ¯”é”çš„è¶…æ—¶æ—¶é—´è¿˜é•¿, æ€ä¹ˆè§£å†³å‘¢?  é”çš„è¶…æ—¶æ—¶é—´å¦‚æœèƒ½åŠ¨æ€å˜åŒ–, è¿™ä¸ªé—®é¢˜å°±å¼•åˆƒè€Œè§£äº†, è¿™å°±æ˜¯é”ç»­æœŸ;&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;lock è¡¨ç»“æ„æ”¹ä¸º: &lt;code&gt;id, key, createTime, expiredTime&lt;/code&gt; ;&lt;/li&gt;&#xA;&lt;li&gt;åœ¨æ‰§è¡Œå®šæ—¶ä»»åŠ¡æ—¶,å¾€è¡¨é‡Œå†™ä¸€æ¡æ•°æ® &lt;code&gt;(1, tastA)&lt;/code&gt;,  åŒæ­¥å¼€ä¸€ä¸ªçº¿ç¨‹å»ç»™é”ç»­æœŸ, expiredTime æ—¶é—´å¢åŠ ;&lt;/li&gt;&#xA;&lt;li&gt;å®šæ—¶ä»»åŠ¡æ‰§è¡Œç»“æŸæ—¶, ç»­æœŸçº¿ç¨‹é€€å‡º, åˆ é™¤è®°å½• &lt;code&gt;(1, tastA)&lt;/code&gt;;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;æ³¨æ„, ç»­æœŸçš„å‰ææ˜¯åŠ äº†é”è¶…æ—¶çš„æœºåˆ¶, å¦‚æœä½¿ç”¨æ•°æ®åº“çš„è¯, éœ€è¦å®šæœŸæ‰«æ, å‘ç°å·²ç»è¾¾åˆ° expiredTime æ—¶, å°±åˆ é™¤è®°å½•;&lt;/p&gt;</description>
    </item>
    <item>
      <title>å…³äºé”çš„æ€è€ƒå’Œæ€»ç»“(ä¸€)</title>
      <link>https://qiref.github.io/post/2024/05/15/%E5%85%B3%E4%BA%8E%E9%94%81%E7%9A%84%E6%80%9D%E8%80%83%E5%92%8C%E6%80%BB%E7%BB%93%E4%B8%80/</link>
      <pubDate>Wed, 15 May 2024 15:53:46 +0800</pubDate>
      <guid>https://qiref.github.io/post/2024/05/15/%E5%85%B3%E4%BA%8E%E9%94%81%E7%9A%84%E6%80%9D%E8%80%83%E5%92%8C%E6%80%BB%E7%BB%93%E4%B8%80/</guid>
      <description>&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func add (a *int) *int { &#xA;  *a++ // çº¿ç¨‹ä¸å®‰å…¨&#xA;  return a&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;è¿™æ˜¯ä¸€æ®µå¾ˆå…¸å‹çš„çº¿ç¨‹ä¸å®‰å…¨çš„ä»£ç ç¤ºä¾‹, åœ¨å¹¶å‘åœºæ™¯ä¸‹, a çš„ç»“æœæ˜¯ä¸ç¡®å®šçš„, å¤§æ¦‚ç‡ä¼šå°äº 1000, åŸå› æ˜¯ &lt;code&gt;a++&lt;/code&gt; å¹¶éåŸå­æ“ä½œ, ä¼šå­˜åœ¨åŒæ—¶æœ‰ä¸¤ä¸ªåç¨‹è¯»å–åˆ° a çš„å€¼æ˜¯ç›¸åŒçš„æƒ…å†µ, æ‰§è¡Œ &lt;code&gt;a++&lt;/code&gt;ä¹‹åå†é‡æ–°å›å†™æ—¶, açš„å€¼ä¹Ÿæ˜¯ç›¸åŒçš„, æƒ³è¦å˜ä¸ºçº¿ç¨‹å®‰å…¨, å°±éœ€è¦åœ¨æ“ä½œä¸´ç•Œèµ„æºä¹‹å‰åŠ é”;&lt;/p&gt;&#xA;&lt;h2 id=&#34;mutex&#34;&gt;Mutex&lt;/h2&gt;&#xA;&lt;p&gt;åœ¨æ“ä½œå…±äº«èµ„æºä¹‹å‰åŠ é”, ç„¶åæ“ä½œå®Œä¸´ç•Œèµ„æºä¹‹åé‡Šæ”¾é”, ä¿è¯åŒæ—¶åªæœ‰ä¸€ä¸ªåç¨‹æ“ä½œä¸´ç•Œèµ„æº;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;var mu sync.Mutex&#xA;func addSafe(a *int) *int {&#xA;  mu.Lock() // åŠ é”&#xA;  defer mu.Unlock() // é‡Šæ”¾é”&#xA;  *a++&#xA;  return a&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;é”åœ¨å¤šçº¿ç¨‹æˆ–å¤šè¿›ç¨‹ç¯å¢ƒä¸­å®ç°èµ„æºçš„äº’æ–¥è®¿é—®ã€‚å½“ä¸€ä¸ªçº¿ç¨‹æˆ–è¿›ç¨‹æƒ³è¦è®¿é—®æŸä¸ªå…±äº«èµ„æºï¼ˆå¦‚æ•°æ®ç»“æ„ã€æ–‡ä»¶ç­‰ï¼‰æ—¶ï¼Œå®ƒå¿…é¡»é¦–å…ˆå°è¯•è·å–è¯¥èµ„æºå¯¹åº”çš„é”ã€‚å¦‚æœé”æœªè¢«å…¶ä»–çº¿ç¨‹æˆ–è¿›ç¨‹å ç”¨ï¼Œé‚£ä¹ˆè¯·æ±‚çš„çº¿ç¨‹æˆ–è¿›ç¨‹å°†è·å¾—é”å¹¶ç»§ç»­æ‰§è¡Œï¼›å¦åˆ™ï¼Œå®ƒå°†ç­‰å¾…ï¼Œç›´åˆ°é”è¢«é‡Šæ”¾ã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// If the lock is already in use, the calling goroutine&#xA;// blocks until the mutex is available.&#xA;func (m *Mutex) Lock() {&#xA;  // Fast path: grab unlocked mutex.&#xA;  if atomic.CompareAndSwapInt32(&amp;amp;m.state, 0, mutexLocked) {&#xA;    if race.Enabled {&#xA;      race.Acquire(unsafe.Pointer(m))&#xA;    }&#xA;    return&#xA;  }&#xA;  // Slow path (outlined so that the fast path can be inlined)&#xA;  m.lockSlow()&#xA;}&#xA;&#xA;type Mutex struct {&#xA;  state int32 // state è¡¨ç¤ºå½“å‰äº’æ–¥é”çš„çŠ¶æ€&#xA;  sema  uint32 // sema æ˜¯ç”¨äºæ§åˆ¶é”çŠ¶æ€çš„ä¿¡å·é‡&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;åœ¨ &lt;code&gt;golang&lt;/code&gt; çš„å®ç°ä¸­, å¦‚æœé€šè¿‡ &lt;code&gt;CompareAndSwapInt32&lt;/code&gt; ä¹Ÿå°±æ˜¯ &lt;code&gt;CAS&lt;/code&gt; èƒ½è·å–åˆ°é”, è¡¨æ˜åç¨‹å·²ç»èƒ½æ‹¿åˆ°é”äº†, æ­¤æ—¶ç›´æ¥è¿”å›;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Go ppfofå·¥å…·ä½¿ç”¨</title>
      <link>https://qiref.github.io/post/2024/02/23/go-ppfof%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/</link>
      <pubDate>Fri, 23 Feb 2024 15:53:46 +0800</pubDate>
      <guid>https://qiref.github.io/post/2024/02/23/go-ppfof%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/</guid>
      <description>&lt;h2 id=&#34;pprof&#34;&gt;pprof&lt;/h2&gt;&#xA;&lt;p&gt;pprof æ˜¯ç”¨äºå¯è§†åŒ–å’Œåˆ†ææ€§èƒ½åˆ†ææ•°æ®çš„å·¥å…·;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;runtime/pprofï¼šé‡‡é›†ç¨‹åºï¼ˆé Serverï¼‰çš„è¿è¡Œæ•°æ®è¿›è¡Œåˆ†æ&lt;/li&gt;&#xA;&lt;li&gt;net/http/pprofï¼šé‡‡é›† HTTP Server çš„è¿è¡Œæ—¶æ•°æ®è¿›è¡Œåˆ†æ&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;å¯ç”¨æ–¹å¼&#34;&gt;å¯ç”¨æ–¹å¼&lt;/h2&gt;&#xA;&lt;p&gt;åœ¨&lt;code&gt;main&lt;/code&gt;å‡½æ•°ä¹‹å‰ä½¿ç”¨å¯åŠ¨, &lt;code&gt;DoProfile(6060)&lt;/code&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;&#xA;import (&#xA;    &amp;quot;net/http&amp;quot;&#xA;    _ &amp;quot;net/http/pprof&amp;quot;&#xA;    &amp;quot;strconv&amp;quot;&#xA;)&#xA;&#xA;type ProfileServer struct {&#xA;}&#xA;&#xA;func (this *ProfileServer) DoProfile(port int) {&#xA;    go func() {&#xA;        err := http.ListenAndServe(&amp;quot;:&amp;quot;+strconv.FormatInt(int64(port), 10), nil)&#xA;        if err != nil {&#xA;            log.Errorf(&amp;quot;Failed to do profile on port: %d&amp;quot;, port)&#xA;        } else {&#xA;            log.Infof(&amp;quot;pprof start successfully on port %d&amp;quot;, port)&#xA;        }&#xA;    }()&#xA;}&#xA;  &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2 id=&#34;åˆ†æ&#34;&gt;åˆ†æ&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;curl &#39;http://127.0.0.1:6060/debug/pprof/profile&#39; -o profile.20240223&#xA;curl &#39;http://127.0.0.1:6060/debug/pprof/heap&#39; -o heap.20240223&#xA;curl &#39;http://127.0.0.1:6060/debug/pprof/block&#39; -o block.20240223&#xA;curl &#39;http://127.0.0.1:6060/debug/pprof/mutex&#39; -o mutex.20240223&#xA;curl &#39;http://127.0.0.1:6060/debug/pprof/trace&#39; -o trace.20240223&#xA;  &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;è¾“å‡ºå¯¹åº”çš„pprofæ–‡ä»¶ä¹‹å, å¯¹æ–‡ä»¶è¿›è¡Œåˆ†æ;&lt;/p&gt;</description>
    </item>
    <item>
      <title>B&#43;æ ‘</title>
      <link>https://qiref.github.io/post/2023/12/05/b-%E6%A0%91/</link>
      <pubDate>Tue, 05 Dec 2023 11:03:22 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/12/05/b-%E6%A0%91/</guid>
      <description>&lt;h2 id=&#34;bæ ‘å¼•å…¥&#34;&gt;Bæ ‘å¼•å…¥&lt;/h2&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;Bæ ‘ï¼ˆè‹±è¯­ï¼šB-treeï¼‰ï¼Œæ˜¯ä¸€ç§åœ¨è®¡ç®—æœºç§‘å­¦è‡ªå¹³è¡¡çš„æ ‘ï¼Œèƒ½å¤Ÿä¿æŒæ•°æ®æœ‰åºã€‚è¿™ç§æ•°æ®ç»“æ„èƒ½å¤Ÿè®©æŸ¥æ‰¾æ•°æ®ã€é¡ºåºè®¿é—®ã€æ’å…¥æ•°æ®åŠåˆ é™¤çš„åŠ¨ä½œï¼Œéƒ½åœ¨å¯¹æ•°æ—¶é—´å†…å®Œæˆã€‚Bæ ‘ï¼Œæ¦‚æ‹¬æ¥è¯´æ˜¯ä¸€ä¸ªä¸€èˆ¬åŒ–çš„äºŒå‰æœç´¢æ ‘ï¼ˆbinary search treeï¼‰ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥æ‹¥æœ‰2ä¸ªä»¥ä¸Šçš„å­èŠ‚ç‚¹ã€‚ä¸è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ä¸åŒï¼ŒBæ ‘é€‚ç”¨äºè¯»å†™ç›¸å¯¹å¤§çš„æ•°æ®å—çš„å­˜å‚¨ç³»ç»Ÿï¼Œä¾‹å¦‚ç£ç›˜ã€‚Bæ ‘å‡å°‘å®šä½è®°å½•æ—¶æ‰€ç»å†çš„ä¸­é—´è¿‡ç¨‹ï¼Œä»è€ŒåŠ å¿«è®¿é—®é€Ÿåº¦ã€‚Bæ ‘è¿™ç§æ•°æ®ç»“æ„å¯ä»¥ç”¨æ¥æè¿°å¤–éƒ¨å­˜å‚¨ã€‚è¿™ç§æ•°æ®ç»“æ„å¸¸è¢«åº”ç”¨åœ¨æ•°æ®åº“å’Œæ–‡ä»¶ç³»ç»Ÿçš„å®ç°ä¸Šã€‚&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;&lt;code&gt;wiki&lt;/code&gt; ä¸Šæ˜¯è¿™ä¹ˆæè¿° B æ ‘çš„, é‡ç‚¹åœ¨äº B æ ‘è¢«ç”¨ä½œå­˜å‚¨ç³»ç»Ÿçš„å®ç°ä¸Š, åŸºäºäºŒå‰æœç´¢æ ‘å¤©ç„¶çš„æœ‰åºæ€§, å®ç° logn çº§åˆ«çš„æŸ¥è¯¢; æ—¢ç„¶æ˜¯ç”¨ä½œå­˜å‚¨ç³»ç»Ÿçš„å®ç°, é‚£ä¹ˆå¯ä»¥æ¥æ¨å¯¼ä¸€ä¸‹, ä¸ºä»€ä¹ˆB æ ‘ä¼šç”¨ä½œå­˜å‚¨ç³»ç»Ÿçš„å®ç°?&lt;/p&gt;&#xA;&lt;p&gt;æƒ³è¦å®ç° logn çº§åˆ«çš„æŸ¥è¯¢, &lt;code&gt;binary search tree&lt;/code&gt; &lt;code&gt;skiip list&lt;/code&gt; éƒ½å¯ä»¥å®ç°, Why B æ ‘?&lt;/p&gt;&#xA;&lt;h3 id=&#34;äºŒå‰æœç´¢æ ‘&#34;&gt;äºŒå‰æœç´¢æ ‘&lt;/h3&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://qiref.github.io/assets/img/b-tree-1.svg&#34; alt=&#34;b+-tree-1&#34;&gt; &lt;sup id=&#34;fnref:1&#34;&gt;&lt;a href=&#34;#fn:1&#34; class=&#34;footnote-ref&#34; role=&#34;doc-noteref&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;&#xA;&lt;p&gt;äºŒå‰æœç´¢æ ‘å¤©ç„¶æœ‰åº, ä¹Ÿèƒ½è¾¾åˆ° logn çº§åˆ«çš„æŸ¥è¯¢æ€§èƒ½, ä½†æ˜¯äºŒå‰æœç´¢æ ‘, æœ‰ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜, å¦‚æœæ’å…¥çš„æ•°æ®æœ¬èº«æ˜¯æœ‰åºçš„, é‚£äºŒå‰æœç´¢æ ‘å°±ä¼šé€€åŒ–ä¸ºé“¾è¡¨, è¦è§£å†³è¿™ä¸ªé—®é¢˜, å¯ä»¥ç”¨ &lt;code&gt;AVL Tree (Balanced binary search tree)&lt;/code&gt; å’Œ &lt;code&gt;Red-Black Tree&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;h3 id=&#34;avl-æ ‘&#34;&gt;AVL æ ‘&lt;/h3&gt;&#xA;&lt;p&gt;&lt;code&gt;AVL Tree (Balanced binary search tree)&lt;/code&gt; åœ¨äºŒå‰æœç´¢æ ‘çš„åŸºç¡€ä¸Š, å¢åŠ äº†è‡ªå¹³è¡¡çš„æœºåˆ¶, è§£å†³äºŒå‰æœç´¢æ ‘é€€åŒ–ä¸ºé“¾è¡¨çš„é—®é¢˜, ä½†æ˜¯è‡ªå¹³è¡¡ä¹Ÿä¼šå¸¦æ¥æ–°çš„é—®é¢˜(å¹³è¡¡æ¡ä»¶å¿…é¡»æ»¡è¶³æ‰€æœ‰èŠ‚ç‚¹çš„å·¦å³å­æ ‘é«˜åº¦å·®ä¸è¶…è¿‡1), æ’å…¥æ—¶å¯èƒ½ä¼šè§¦å‘å¤šæ¬¡çš„è‡ªå¹³è¡¡, ä»è€Œä¼šå½±å“æ•°æ®æ’å…¥çš„æ•ˆç‡, é‚£æœ‰æ²¡æœ‰åŠæ³•è§£å†³é¢‘ç¹çš„è‡ªå¹³è¡¡çš„é—®é¢˜å‘¢?&lt;/p&gt;&#xA;&lt;h3 id=&#34;çº¢é»‘æ ‘&#34;&gt;çº¢é»‘æ ‘&lt;/h3&gt;&#xA;&lt;p&gt;&lt;code&gt;Red-Black Tree&lt;/code&gt; å°±èƒ½åšåˆ°, çº¢é»‘æ ‘é€šè¿‡åˆ¶å®šä¸€ç³»åˆ—çš„è§„åˆ™:&lt;/p&gt;</description>
    </item>
    <item>
      <title>Log Structured Merge Tree</title>
      <link>https://qiref.github.io/post/2023/10/13/log-structured-merge-tree/</link>
      <pubDate>Fri, 13 Oct 2023 11:46:21 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/10/13/log-structured-merge-tree/</guid>
      <description>&lt;h2 id=&#34;åŸºæœ¬æ¦‚å¿µ&#34;&gt;åŸºæœ¬æ¦‚å¿µ&lt;/h2&gt;&#xA;&lt;p&gt;&lt;code&gt;Log Structured Merge Tree&lt;/code&gt;, å…¶æœ¬è´¨ä¸Šæ˜¯ä¸€ç§å­˜å‚¨æ•°æ®çš„æ–¹å¼,é€šå¸¸ç”¨äºå„ç§å­˜å‚¨ç³»ç»Ÿçš„åº•å±‚æ•°æ®ç»“æ„,é€šè¿‡å°½å¯èƒ½å‡å°‘ç£ç›˜éšæœºIOæ¥æå‡å†™å…¥æ€§èƒ½, é€‚ç”¨äºå†™å¤šè¯»å°‘çš„åœºæ™¯.&lt;/p&gt;&#xA;&lt;h3 id=&#34;éšæœºå†™å’Œé¡ºåºå†™&#34;&gt;éšæœºå†™å’Œé¡ºåºå†™&lt;/h3&gt;&#xA;&lt;p&gt;å¯¹äºä¸€ä¸ªå­˜å‚¨ç³»ç»Ÿè€Œè¨€, ä¸å¯é¿å…åœ°éœ€è¦å†™å…¥æ–‡ä»¶åˆ°ç£ç›˜, å¯¹äºå¸¸è§„çš„å†™æ¥è¯´, æ¯æ¥ä¸€æ¡æ•°æ®å†™ä¸€æ¬¡æ–‡ä»¶, æ•°æ®å¯èƒ½æ˜¯ &lt;code&gt;add update delete&lt;/code&gt;, éœ€è¦é¢‘ç¹æ“ä½œæ–‡ä»¶, æ¯ä¸€æ¬¡å†™éƒ½æ˜¯ä¸€æ¬¡éšæœº IO; ä¸ºäº†æé«˜å†™å…¥é€Ÿåº¦, &lt;code&gt;LSM Tree&lt;/code&gt; å¹¶ä¸æ˜¯æ¯ä¸€æ¬¡å†™æ“ä½œéƒ½æŠŠæ–‡ä»¶å†™åˆ°ç£ç›˜, è€Œæ˜¯å°†æ•°æ®åœ¨å†…å­˜ä¸­æ›´æ–°ï¼Œå½“å†…å­˜ä¸­çš„æ•°æ®è¾¾åˆ°ä¸€å®šçš„é˜ˆå€¼æ—¶ï¼Œæ‰å°†è¿™éƒ¨åˆ†æ•°æ®çœŸæ­£åˆ·æ–°åˆ°ç£ç›˜æ–‡ä»¶ä¸­. ä»¥è¿™ç§æ–¹å¼å°½å¯èƒ½è®©æ¯æ¬¡ç£ç›˜ IO éƒ½æ˜¯é¡ºåºå†™;&lt;/p&gt;&#xA;&lt;h3 id=&#34;æ€è·¯&#34;&gt;æ€è·¯&lt;/h3&gt;&#xA;&lt;p&gt;åŸºäºå‡å°‘ç£ç›˜çš„éšæœº IO æ¥æå‡æ•´ä½“å­˜å‚¨ç³»ç»Ÿçš„å†™å…¥æ€§èƒ½è¿™ä¸€èƒŒæ™¯, å¾ˆè‡ªç„¶å¯ä»¥æ¨å¯¼å‡ºç”¨æ‰¹é‡å†™å…¥çš„æ–¹å¼, è¦æƒ³æ‰¹é‡å†™å…¥, å°±éœ€è¦åœ¨å†…å­˜ç»´æŠ¤æœ€è¿‘å†™å…¥çš„æ•°æ®, è¾¾åˆ°é˜ˆå€¼ä¹‹åç”Ÿæˆä¸€ä¸ªæ–‡ä»¶å†™å…¥åˆ°ç£ç›˜, ä½†æ˜¯è¿™æ ·åˆä¼šå­˜åœ¨æ–°çš„é—®é¢˜:&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;å¦‚æœæŸä¸€æ¡æ•°æ®å·²ç»å†™å…¥åˆ°ç£ç›˜æ–‡ä»¶, åç»­åˆæœ‰æ›´æ–°, æ€ä¹ˆå¤„ç†å‘¢?&lt;/li&gt;&#xA;&lt;li&gt;å†…å­˜ä¸­ç»´æŠ¤çš„ä¸´æ—¶æ•°æ®, å¦‚æœè¿˜æœªæ¥å¾—åŠå†™å…¥ç£ç›˜, æœåŠ¡æŒ‚äº†, é‡æ–°å¯åŠ¨æ—¶, å†å²å†™å…¥çš„æ•°æ®å¦‚ä½•æ¢å¤?&lt;/li&gt;&#xA;&lt;li&gt;æ¯æ¬¡å†…å­˜ä¸­æ•°æ®è¾¾åˆ°é˜ˆå€¼,å†™ä¸€ä¸ªæ•´ä¸ªæ–‡ä»¶åˆ°ç£ç›˜,é‚£ä¹ˆæœ€ç»ˆä¼šç”Ÿæˆå¤§é‡çš„æ–‡ä»¶, å¦‚ä½•è§£å†³?&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;è§£å†³é—®é¢˜1, ä¸ºäº†ä¼˜åŒ–è¿™ç§æ›´æ–°çš„å†™å…¥, å¯ä»¥é‡‡ç”¨æ•°æ®ç‰ˆæœ¬çš„åšæ³•, æˆ–è€…ç»™æ•°æ®å¢åŠ æ ‡å¿—, ç„¶åå®šæœŸåˆå¹¶, å½“ç„¶, è¿™ä¹Ÿæ˜¯ä»¥ç©ºé—´æ¢æ—¶é—´, ç›¸åŒçš„æ•°æ®å­˜å‚¨äº†å¤šæ¬¡, ä»¥æå‡å†™å…¥æ€§èƒ½; ä¸æ­¤åŒæ—¶, åœ¨æ•°æ®è¯»å–æ—¶,ç”±äºå†™å…¥çš„é€»è¾‘æ”¹å˜, ä¸€æ¡æ•°æ®å¯èƒ½ä¼šå­˜åœ¨äºå¤šä¸ªæ–‡ä»¶ä¸­, å› æ­¤åœ¨è¯»å–æ—¶, éœ€è¦è¿”å›æœ€æ–°çš„æ•°æ®, åœ¨è¯»å–åˆ°å¤šæ¡æ•°æ®æ—¶,éœ€è¦å¯¹å¤šæ¡æ•°æ®è¿›è¡Œåˆå–æœ€æ–°;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;è§£å†³é—®é¢˜2, åœ¨ä¸šç•Œæ¯”è¾ƒæ ‡å‡†çš„åšæ³•æ˜¯ &lt;code&gt;WAL&lt;/code&gt;, &lt;code&gt;WAL&lt;/code&gt; çš„åŸºæœ¬åŸç†æ˜¯åœ¨æ‰§è¡Œæ•°æ®ä¿®æ”¹æ“ä½œä¹‹å‰ï¼Œå…ˆå°†è¿™äº›æ“ä½œè®°å½•åœ¨æ—¥å¿—ï¼ˆlogï¼‰æ–‡ä»¶ä¸­, ä»¥ç¡®ä¿åœ¨å‘ç”Ÿæ•…éšœæˆ–å´©æºƒæ—¶ï¼Œå¯ä»¥å€ŸåŠ©æ—¥å¿—è¿›è¡Œæ¢å¤å¹¶ä¿æŒæ•°æ®çš„ä¸€è‡´æ€§;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;è§£å†³é—®é¢˜3, ä¸ºäº†é¿å…å¤§é‡æ–‡ä»¶, å¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œå®šæœŸåˆå¹¶, å½“æ•°æ®è¿˜åœ¨å†…å­˜ä¸­æ—¶, å¯ä»¥å€ŸåŠ©è·³è¡¨æˆ–è€… &lt;code&gt;B+Tree&lt;/code&gt; ç­‰æ•°æ®ç»“æ„ä¿è¯å†…å­˜ä¸­æ•°æ®çš„é¡ºåºæ€§, åœ¨å†™æ–‡ä»¶æ—¶, ç”±äºæ•°æ®æ˜¯æœ‰åºçš„, åœ¨æ–‡ä»¶åˆå¹¶æ—¶,å¾ˆè‡ªç„¶å¯ä»¥å€ŸåŠ©å½’å¹¶æ’åºä¿è¯åˆå¹¶ä¹‹åçš„æ•°æ®çš„æœ‰åºæ€§, è€Œæœ‰åºæ€§åˆèƒ½å¤©ç„¶æé«˜æŸ¥è¯¢æ•ˆç‡.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Skip Lists é˜…è¯»ç¬”è®°</title>
      <link>https://qiref.github.io/post/2023/10/01/skip-lists-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Sun, 01 Oct 2023 22:05:38 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/10/01/skip-lists-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</guid>
      <description>&lt;h2 id=&#34;ç®—æ³•ä»‹ç»&#34;&gt;ç®—æ³•ä»‹ç»&lt;/h2&gt;&#xA;&lt;p&gt;ã€ŠSkip Lists: A Probabilistic Alternative to Balanced Treesã€‹ è®ºæ–‡æ ‡é¢˜ç¿»è¯‘å°±æ˜¯ è·³è¡¨: å¹³è¡¡æ ‘çš„æ¦‚ç‡æ€§æ›¿ä»£æ–¹æ¡ˆ; è·³è¡¨æ˜¯ä¸€ç§å¯ä»¥ç”¨æ¥ä»£æ›¿å¹³è¡¡æ ‘çš„æ•°æ®ç»“æ„ã€‚è·³è¡¨ä½¿ç”¨æ¦‚ç‡å¹³è¡¡è€Œä¸æ˜¯ä¸¥æ ¼å¼ºåˆ¶çš„å¹³è¡¡ï¼Œå› æ­¤è·³è·ƒåˆ—è¡¨ä¸­çš„æ’å…¥å’Œåˆ é™¤ç®—æ³•æ¯”å¹³è¡¡æ ‘çš„ç­‰æ•ˆç®—æ³•è¦ç®€å•å¾—å¤šå¹¶ä¸”é€Ÿåº¦æ˜æ˜¾æ›´å¿«ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ä»è®ºæ–‡çš„æ ‡é¢˜å’Œä»‹ç», åŸºæœ¬ä¸Šå°±èƒ½çŸ¥é“è·³è¡¨æ˜¯ä¸€ç§æ€ä¹ˆæ ·çš„æ•°æ®ç»“æ„, ä¸ºäº†è§£å†³å¹³è¡¡æ ‘å®ç°çš„å¤æ‚æ€§, æä¾›ä¸€ç§æ¦‚ç‡æ€§å¹³è¡¡çš„æ•°æ®ç»“æ„,ä½œä¸ºå¹³è¡¡æ ‘çš„å¹³æ›¿æ•°æ®ç»“æ„, æŸ¥è¯¢å’Œæ’å…¥æ—¶é—´å¤æ‚åº¦æ˜¯ &lt;code&gt;O(log n)&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;h2 id=&#34;ç®—æ³•æµç¨‹&#34;&gt;ç®—æ³•æµç¨‹&lt;/h2&gt;&#xA;&lt;h3 id=&#34;åŸºæœ¬åŸç†&#34;&gt;åŸºæœ¬åŸç†&lt;/h3&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://qiref.github.io/assets/img/skiplist-1.svg&#34; alt=&#34;skiplist-1&#34;&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;èŠ‚ç‚¹ç»“æ„ï¼šè·³è¡¨ç”±å¤šä¸ªå±‚çº§ç»„æˆï¼Œæ¯ä¸ªå±‚çº§éƒ½æ˜¯ä¸€ä¸ªæœ‰åºé“¾è¡¨ã€‚æ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸€ä¸ªå€¼å’Œå¤šä¸ªæŒ‡å‘ä¸‹ä¸€å±‚çº§èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;å±‚çº§ç´¢å¼•ï¼šè·³è¡¨çš„æœ€åº•å±‚æ˜¯ä¸€ä¸ªæ™®é€šçš„æœ‰åºé“¾è¡¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½è¿æ¥åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚è€Œåœ¨æ›´é«˜çš„å±‚çº§ï¼ŒèŠ‚ç‚¹ä»¥ä¸€å®šçš„æ¦‚ç‡è¿æ¥åˆ°æ›´è¿œçš„èŠ‚ç‚¹ï¼Œå½¢æˆäº†ä¸€ç§â€œè·³è·ƒâ€çš„æ•ˆæœã€‚è¿™äº›è¿æ¥è¢«ç§°ä¸ºâ€œè·³è·ƒæŒ‡é’ˆâ€ï¼Œå®ƒä»¬å…è®¸æˆ‘ä»¬åœ¨æŸ¥æ‰¾æ—¶å¯ä»¥å¿«é€Ÿåœ°è·³è¿‡ä¸€äº›èŠ‚ç‚¹ã€‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;æŸ¥æ‰¾æ“ä½œï¼šä»è·³è¡¨çš„é¡¶å±‚å¼€å§‹ï¼Œæˆ‘ä»¬æ²¿ç€æ¯ä¸ªå±‚çº§å‘å³ç§»åŠ¨ï¼Œç›´åˆ°æ‰¾åˆ°ç›®æ ‡å€¼æˆ–æ‰¾åˆ°ä¸€ä¸ªå¤§äºç›®æ ‡å€¼çš„èŠ‚ç‚¹ã€‚ç„¶åæˆ‘ä»¬è¿›å…¥ä¸‹ä¸€å±‚çº§ç»§ç»­æŸ¥æ‰¾ï¼Œç›´åˆ°æœ€åº•å±‚ã€‚è¿™ç§æ–¹å¼å¯ä»¥åœ¨å¹³å‡æƒ…å†µä¸‹å®ç°å¿«é€Ÿçš„æŸ¥æ‰¾ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(log n)ã€‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;æ’å…¥å’Œåˆ é™¤æ“ä½œï¼šåœ¨æ’å…¥æ–°èŠ‚ç‚¹æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆæ‰§è¡ŒæŸ¥æ‰¾æ“ä½œï¼Œæ‰¾åˆ°åˆé€‚çš„æ’å…¥ä½ç½®ã€‚ç„¶åæˆ‘ä»¬åœ¨æ¯ä¸ªå±‚çº§ä¸Šæ’å…¥æ–°èŠ‚ç‚¹ï¼Œå¹¶æ ¹æ®ä¸€å®šçš„æ¦‚ç‡å†³å®šæ˜¯å¦è¦ä¸ºè¯¥èŠ‚ç‚¹æ·»åŠ è·³è·ƒæŒ‡é’ˆã€‚åˆ é™¤æ“ä½œç±»ä¼¼ï¼Œæˆ‘ä»¬é¦–å…ˆæ‰¾åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹ï¼Œç„¶åå°†å…¶ä»æ¯ä¸ªå±‚çº§ä¸­ç§»é™¤ã€‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;æŸ¥è¯¢&#34;&gt;æŸ¥è¯¢&lt;/h3&gt;&#xA;&lt;p&gt;&lt;code&gt;level&lt;/code&gt; è¡¨ç¤ºè·³è¡¨çš„å±‚çº§, è€Œ &lt;code&gt;forward[i]&lt;/code&gt; æ˜¯æ¯ä¸€ä¸ªå±‚çº§çš„é“¾è¡¨.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;Search(list, searchKey)&#xA;    x := listâ†’header&#xA;    // ä»è·³è¡¨çš„é¡¶å±‚å¼€å§‹,éå†åˆ°ç¬¬ä¸€å±‚&#xA;    for i := listâ†’level downto 1 do&#xA;        while xâ†’forward[i]â†’key &amp;lt; searchKey do&#xA;            x := xâ†’forward[i]&#xA;    // xâ†’key &amp;lt; searchKey â‰¤ xâ†’forward[1]â†’key&#xA;    // æœ€ç»ˆçš„ç»“æœä»è·³è¡¨æœ€åº•å±‚è·å–&#xA;    x := xâ†’forward[1]&#xA;    if xâ†’key = searchKey then &#xA;        return xâ†’value&#xA;    else &#xA;        return failure&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h3 id=&#34;å†™å…¥&#34;&gt;å†™å…¥&lt;/h3&gt;&#xA;&lt;p&gt;ç”±è·³è¡¨çš„å®šä¹‰å¾—å‡º, è·³è¡¨çš„ä¸Šä¸€å±‚çº§ç›¸å½“äºä¸‹ä¸€å±‚çº§çš„ç´¢å¼•, å¦‚æœéœ€è¦æ„å»ºå¤šçº§çš„ç´¢å¼•, é¦–å…ˆéœ€è¦è§£å†³: &lt;em&gt;å½“å‰nodeæ˜¯å¦åº”è¯¥ç´¢å¼•åˆ°ä¸Šä¸€å±‚çº§?&lt;/em&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>DBLog é˜…è¯»ç¬”è®°</title>
      <link>https://qiref.github.io/post/2023/08/09/dblog-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Wed, 09 Aug 2023 10:39:17 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/08/09/dblog-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</guid>
      <description>&lt;h2 id=&#34;ä»‹ç»&#34;&gt;ä»‹ç»&lt;/h2&gt;&#xA;&lt;p&gt;è®ºæ–‡åŸå: &lt;code&gt;DBLog: A Watermark Based Change-Data-Capture Framework&lt;/code&gt; , åŸºäº &lt;code&gt;Watermark&lt;/code&gt; çš„ &lt;code&gt;Change-Data-Capture&lt;/code&gt;(æ•°æ®åº“å®æ—¶æ•è·å·²æäº¤çš„å˜æ›´è®°å½•) æ¡†æ¶, æœ¬è´¨ä¸Šæ˜¯è§£å†³æ•°æ®åº“åŒæ­¥(å…¨é‡+å¢é‡)çš„æ¡†æ¶, &lt;code&gt;Watermark&lt;/code&gt; æ˜¯æ¡†æ¶ä½¿ç”¨çš„ä¸€ç§æ‰‹æ®µ, åœ¨æºè¡¨ä¸­åˆ›å»ºè¡¨,ç”Ÿæˆå”¯ä¸€ uuid å¹¶æ›´æ–°è¡¨æ•°æ®, åœ¨æºè¡¨ä¸­å°±ä¼šç”Ÿæˆä¸€æ¡å˜æ›´è®°å½•,è®°ä½œ &lt;code&gt;Watermark&lt;/code&gt; çš„å˜æ›´è®°å½•, é€šè¿‡ &lt;code&gt;High Watermark&lt;/code&gt; å’Œ &lt;code&gt;Low Watermark &lt;/code&gt; å°†å˜æ›´è®°å½•åˆ†å‰², ä¿è¯ select chunk æ•°æ®åŒ…å«äº†å¢é‡çš„å˜æ›´è®°å½•.&lt;/p&gt;&#xA;&lt;p&gt;æ¡†æ¶æ•´ä½“æ¶æ„å¦‚ä¸‹:&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://qiref.github.io/assets/img/DBLog-1.svg&#34; alt=&#34;DBLog-1&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;æ¡†æ¶ç‰¹ç‚¹:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;æŒ‰é¡ºåºå¤„ç†æ•è·åˆ°çš„ &lt;code&gt;changelog&lt;/code&gt;;&lt;/li&gt;&#xA;&lt;li&gt;è½¬å‚¨å¯ä»¥éšæ—¶è¿›è¡Œï¼Œè·¨æ‰€æœ‰è¡¨ï¼Œé’ˆå¯¹ä¸€ä¸ªç‰¹å®šçš„è¡¨æˆ–è€…é’ˆå¯¹ä¸€ä¸ªè¡¨çš„å…·ä½“ä¸»é”®;&lt;/li&gt;&#xA;&lt;li&gt;ä»¥å—(chunk)çš„å½¢å¼è·å–è½¬å‚¨ï¼Œæ—¥å¿—ä¸è½¬å‚¨äº‹ä»¶äº¤é”™ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œ&lt;code&gt;changelog&lt;/code&gt; å¯ä»¥ä¸è½¬å‚¨å¤„ç†ä¸€èµ·è¿›è¡Œã€‚å¦‚æœè¿›ç¨‹ç»ˆæ­¢ï¼Œå®ƒå¯ä»¥åœ¨æœ€åä¸€ä¸ªå®Œæˆçš„å—ä¹‹åæ¢å¤ï¼Œè€Œä¸éœ€è¦ä»å¤´å¼€å§‹ã€‚è¿™è¿˜å…è®¸åœ¨éœ€è¦æ—¶å¯¹è½¬å‚¨è¿›è¡Œè°ƒæ•´å’Œæš‚åœ;&lt;/li&gt;&#xA;&lt;li&gt;ä¸ä¼šè·å–è¡¨çº§é”ï¼Œè¿™å¯ä»¥é˜²æ­¢å½±å“æºæ•°æ®åº“ä¸Šçš„å†™æµé‡;&lt;/li&gt;&#xA;&lt;li&gt;æ”¯æŒä»»ä½•ç±»å‹çš„è¾“å‡ºï¼Œå› æ­¤ï¼Œè¾“å‡ºå¯ä»¥æ˜¯æµã€æ•°æ®å­˜å‚¨ç”šæˆ–æ˜¯ API;&lt;/li&gt;&#xA;&lt;li&gt;è®¾è®¡å……åˆ†è€ƒè™‘äº†é«˜å¯ç”¨æ€§ã€‚å› æ­¤ï¼Œä¸‹æ¸¸çš„æ¶ˆè´¹è€…å¯ä»¥æ”¾å¿ƒï¼Œåªè¦æºç«¯å‘ç”Ÿå˜åŒ–ï¼Œå®ƒä»¬å°±å¯ä»¥æ”¶åˆ°å˜åŒ–äº‹ä»¶ã€‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;æ³¨æ„, æœ¬æ–‡å¹¶éè¯¦ç»†ä»‹ç» &lt;code&gt;DBLog&lt;/code&gt; æ¡†æ¶æœ¬èº«, è€Œæ˜¯åˆ†æå…¶æ¡†æ¶èƒŒåçš„è®¾è®¡æ€è·¯.&lt;/p&gt;&#xA;&lt;h2 id=&#34;ç®—æ³•æµç¨‹&#34;&gt;ç®—æ³•æµç¨‹&lt;/h2&gt;&#xA;&lt;h3 id=&#34;chunk-åˆ’åˆ†&#34;&gt;chunk åˆ’åˆ†&lt;/h3&gt;&#xA;&lt;p&gt;å¯¹äºæºè¡¨æ•°æ®, å…¨é‡æ•°æ®ä½¿ç”¨åˆ†å—è¯»å–, åŸºäº &lt;code&gt;primary key&lt;/code&gt; é¡ºåºæ’åº, å°†å…¨é‡æ•°æ®åˆ’åˆ†ä¸º N ä¸ª chunk;&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://qiref.github.io/assets/img/DBLog-2.svg&#34; alt=&#34;DBLog-2&#34;&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;watermark&#34;&gt;watermark&lt;/h3&gt;&#xA;&lt;p&gt;åŸºäº chunk åˆ’åˆ†, ç„¶å chunk æ•°æ®å…¨é‡å†™å…¥ä¸‹æ¸¸ä¹‹å, å†å°†æºè¡¨çš„å˜æ›´è®°å½• &lt;code&gt;changelog&lt;/code&gt; å¢é‡åŒæ­¥åˆ°ä¸‹æ¸¸, æ•´ä½“æ€è·¯å°±æ˜¯è¿™æ ·, ä½†æ˜¯åˆ’åˆ† chunk æœ‰ä¸ªé—®é¢˜éœ€è¦è§£å†³, å°±æ˜¯å…ˆåŒæ­¥åˆ°ä¸‹æ¸¸çš„æ•°æ®ä¸ä¸€å®šçš„æœ€ç»ˆçš„æ•°æ®, ä¾‹å¦‚ä¸Šå›¾ chunk1 ä¸­çš„æ•°æ®åœ¨åŒæ­¥åˆ°ä¸‹æ¸¸ä¹‹åå¯èƒ½ä¼šåˆ é™¤, é‚£chunk1 çš„æ•°æ®å†™åˆ°ä¸‹æ¸¸ä¹‹å, ä¸‹æ¸¸å°±ä¼šå‡ºç°è„æ•°æ®; å¦‚ä½•è§£å†³ chunk å’Œ &lt;code&gt;changelog&lt;/code&gt; ä¹‹é—´ä¸ä¼šç›¸äº’è¦†ç›–çš„é—®é¢˜?&lt;/p&gt;</description>
    </item>
    <item>
      <title>Javaè¿›ç¨‹åˆ†æå·¥å…·</title>
      <link>https://qiref.github.io/post/2023/06/26/java%E8%BF%9B%E7%A8%8B%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/</link>
      <pubDate>Mon, 26 Jun 2023 21:55:00 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/06/26/java%E8%BF%9B%E7%A8%8B%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/</guid>
      <description>&lt;h2 id=&#34;jvm-å†…å­˜åŒºåŸŸ&#34;&gt;JVM å†…å­˜åŒºåŸŸ&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://qiref.github.io/assets/img/jvm-area.svg&#34; alt=&#34;jvm-area&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;å¦‚æœè¦ä¸º&lt;code&gt;æ–°ç”Ÿä»£&lt;/code&gt;åˆ†é… &lt;code&gt;256m&lt;/code&gt; çš„å†…å­˜ï¼ˆ&lt;code&gt;NewSize&lt;/code&gt; ä¸ &lt;code&gt;MaxNewSize&lt;/code&gt; è®¾ä¸ºä¸€è‡´ï¼‰ï¼Œå‚æ•°åº”è¯¥è¿™æ ·æ¥å†™ï¼š&lt;code&gt;-Xmn256m&lt;/code&gt;;&lt;/p&gt;&#xA;&lt;p&gt;è¿˜å¯ä»¥é€šè¿‡ &lt;code&gt;-XX:NewRatio=&amp;lt;int&amp;gt;&lt;/code&gt; æ¥è®¾ç½®&lt;code&gt;è€å¹´ä»£&lt;/code&gt;ä¸&lt;code&gt;æ–°ç”Ÿä»£&lt;/code&gt;å†…å­˜çš„æ¯”å€¼ã€‚æ¯”å¦‚ä»¥ä¸‹å‚æ•°å°±æ˜¯è®¾ç½®è€å¹´ä»£ä¸æ–°ç”Ÿä»£å†…å­˜çš„æ¯”å€¼ä¸º 1ã€‚ä¹Ÿå°±æ˜¯è¯´è€å¹´ä»£å’Œæ–°ç”Ÿä»£æ‰€å æ¯”å€¼ä¸º 1ï¼š1ï¼Œæ–°ç”Ÿä»£å æ•´ä¸ªå †æ ˆçš„ 1/2ã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;-XX:NewRatio=1&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;JDK 1.8 ï¼Œæ–¹æ³•åŒºï¼ˆHotSpot çš„æ°¸ä¹…ä»£ï¼‰è¢«å½»åº•ç§»é™¤äº†ï¼Œå–è€Œä»£ä¹‹æ˜¯å…ƒç©ºé—´ Metaspaceï¼Œå…ƒç©ºé—´ä½¿ç”¨çš„æ˜¯æœ¬åœ°å†…å­˜ã€‚&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Metaspace çš„åˆå§‹å®¹é‡å¹¶ä¸æ˜¯ &lt;code&gt;-XX:MetaspaceSize&lt;/code&gt; è®¾ç½®ï¼Œæ— è®º &lt;code&gt;-XX:MetaspaceSize&lt;/code&gt; é…ç½®ä»€ä¹ˆå€¼ï¼Œå¯¹äº 64 ä½ JVM æ¥è¯´ï¼ŒMetaspace çš„åˆå§‹å®¹é‡éƒ½æ˜¯ 21807104ï¼ˆçº¦ 20.8mï¼‰ã€‚å¯ä»¥å‚è€ƒ Oracle å®˜æ–¹æ–‡æ¡£ :&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;Specify a higher value for the option MetaspaceSize to avoid early garbage collections induced for class metadata. The amount of class metadata allocated for an application is application-dependent and general guidelines do not exist for the selection of MetaspaceSize. The default size of MetaspaceSize is platform-dependent and ranges from 12 MB to about 20 MB.&lt;/p&gt;</description>
    </item>
    <item>
      <title>The Dataflow Model é˜…è¯»ç¬”è®°</title>
      <link>https://qiref.github.io/post/2023/05/16/the-dataflow-model-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Tue, 16 May 2023 15:26:10 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/05/16/the-dataflow-model-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</guid>
      <description>&lt;h2 id=&#34;dataflow-è®¡ç®—æ¨¡å‹&#34;&gt;Dataflow è®¡ç®—æ¨¡å‹&lt;/h2&gt;&#xA;&lt;p&gt;Dataflow çš„æ ¸å¿ƒè®¡ç®—æ¨¡å‹éå¸¸ç®€å•ï¼Œå®ƒåªæœ‰ä¸¤ä¸ªæ¦‚å¿µï¼Œä¸€ä¸ªå«åš ParDoï¼Œå°±æ˜¯å¹¶è¡Œå¤„ç†çš„æ„æ€ï¼›å¦ä¸€ä¸ªå«åš GroupByKeyï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§ Key è¿›è¡Œåˆ†ç»„ã€‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;pardo&#34;&gt;ParDo&lt;/h3&gt;&#xA;&lt;p&gt;ParDo ç”¨æ¥è¿›è¡Œé€šç”¨çš„å¹¶è¡ŒåŒ–å¤„ç†ã€‚æ¯ä¸ªè¾“å…¥å…ƒç´ ï¼ˆè¿™ä¸ªå…ƒç´ æœ¬èº«æœ‰å¯èƒ½æ˜¯ä¸€ä¸ªæœ‰é™çš„é›†åˆï¼‰éƒ½ä¼šä½¿ç”¨ä¸€ä¸ª UDF è¿›è¡Œå¤„ç†ï¼ˆåœ¨Dataflowä¸­å«åšDoFnï¼‰ï¼Œè¾“å‡ºæ˜¯0æˆ–å¤šä¸ªè¾“å‡ºå…ƒç´ ã€‚è¿™ä¸ªä¾‹å­æ˜¯æŠŠé”®çš„å‰ç¼€è¿›è¡Œå±•å¼€ï¼Œç„¶åæŠŠå€¼å¤åˆ¶åˆ°å±•å¼€åçš„é”®æ„æˆæ–°çš„é”®å€¼å¯¹å¹¶è¾“å‡ºã€‚&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://qiref.github.io/assets/img/dataflow-pardo.svg&#34; alt=&#34;dataflow-pardo&#34;&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;groupbykey&#34;&gt;GroupByKey&lt;/h3&gt;&#xA;&lt;p&gt;GroupByKey ç”¨æ¥æŒ‰ Key æŠŠå…ƒç´ é‡æ–°åˆ†ç»„ã€‚&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://qiref.github.io/assets/img/dataflow-group-by-key.svg&#34; alt=&#34;dataflow-group-by-key&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;ParDo æ“ä½œå› ä¸ºæ˜¯å¯¹æ¯ä¸ªè¾“å…¥çš„å…ƒç´ è¿›è¡Œå¤„ç†ï¼Œå› æ­¤å¾ˆè‡ªç„¶åœ°å°±å¯ä»¥é€‚ç”¨äºæ— è¾¹ç•Œçš„æ•°æ®ã€‚è€Œ GroupByKey æ“ä½œï¼Œåœ¨æŠŠæ•°æ®å‘é€åˆ°ä¸‹æ¸¸è¿›è¡Œæ±‡æ€»å‰ï¼Œéœ€è¦æ”¶é›†åˆ°æŒ‡å®šçš„é”®å¯¹åº”çš„æ‰€æœ‰æ•°æ®ã€‚å¦‚æœè¾“å…¥æºæ˜¯æ— è¾¹ç•Œçš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸çŸ¥é“ä½•æ—¶æ‰èƒ½æ”¶é›†åˆ°æ‰€æœ‰çš„æ•°æ®ã€‚æ‰€ä»¥é€šå¸¸çš„è§£å†³æ–¹æ¡ˆæ˜¯å¯¹æ•°æ®ä½¿ç”¨çª—å£æ“ä½œã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;çª—å£&#34;&gt;çª—å£&lt;/h2&gt;&#xA;&lt;h3 id=&#34;æ—¶é—´è¯­ä¹‰&#34;&gt;æ—¶é—´è¯­ä¹‰&lt;/h3&gt;&#xA;&lt;p&gt;çª—å£é€šå¸¸åŸºäºæ—¶é—´ï¼Œæ—¶é—´å¯¹äºçª—å£æ¥è¯´æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œåœ¨æµå¼è®¡ç®—ä¸­ï¼Œæœ‰ processing-time å’Œ event-time ä¸¤ç§æ—¶é—´è¯­ä¹‰ï¼Œå…·ä½“å‚è€ƒï¼š &lt;a href=&#34;https://archieyao.github.io/posts/2022-02-25-flink-%E6%97%B6%E9%97%B4%E8%AF%AD%E4%B9%89/&#34;&gt;æ—¶é—´è¯­ä¹‰&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;çª—å£åˆ†ç±»&#34;&gt;çª—å£åˆ†ç±»&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;å›ºå®šçª—å£ï¼ˆFixed Windowï¼‰å›ºå®šåŒºé—´ï¼ˆäº’ä¸é‡å ï¼‰çš„çª—å£ï¼Œå¯ä»¥åŸºäºæ—¶é—´ï¼Œä¹Ÿå¯ä»¥åŸºäºæ•°é‡ï¼›å°†äº‹ä»¶åˆ†é…åˆ°ä¸åŒåŒºé—´çš„çª—å£ä¸­ï¼Œåœ¨é€šè¿‡çª—å£è¾¹ç•Œåï¼Œçª—å£å†…çš„æ‰€æœ‰äº‹ä»¶ä¼šå‘é€ç»™è®¡ç®—å‡½æ•°è¿›è¡Œè®¡ç®—ï¼›&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;æ»‘åŠ¨çª—å£ï¼ˆSliding Windowï¼‰å›ºå®šåŒºé—´ä½†å¯ä»¥é‡å çš„çª—å£ï¼Œéœ€è¦æŒ‡å®šçª—å£åŒºé—´ä»¥åŠæ»‘åŠ¨æ­¥é•¿ï¼ŒåŒºé—´é‡å æ„å‘³ç€åŒä¸€ä¸ªäº‹ä»¶ä¼šåˆ†é…åˆ°ä¸åŒçª—å£å‚ä¸è®¡ç®—ã€‚ çª—å£åŒºé—´å†³å®šä½•æ—¶è§¦å‘è®¡ç®—ï¼Œæ»‘åŠ¨æ­¥é•¿å†³å®šä½•æ—¶åˆ›å»ºä¸€ä¸ªæ–°çš„çª—å£ï¼›&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;ä¼šè¯çª—å£ï¼ˆSession Windowï¼‰ä¼šè¯çª—å£é€šå¸¸åŸºäºç”¨æˆ·çš„ä¼šè¯ï¼Œé€šè¿‡å®šä¹‰ä¼šè¯çš„è¶…æ—¶æ—¶é—´ï¼Œå°†äº‹ä»¶åˆ†å‰²åˆ°ä¸åŒçš„ä¼šè¯ä¸­ï¼› ä¾‹å¦‚ï¼Œæœ‰ä¸ªå®¢æœèŠå¤©ç³»ç»Ÿï¼Œå¦‚æœç”¨æˆ·è¶…è¿‡ 30 åˆ†é’Ÿæ²¡æœ‰äº’åŠ¨ï¼Œåˆ™è®¤ä¸ºä¸€æ¬¡ä¼šè¯ç»“æŸï¼Œå½“å®¢æˆ·ä¸‹æ¬¡è¿›å…¥ï¼Œå°±æ˜¯ä¸€ä¸ªæ–°çš„ä¼šè¯äº†ã€‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;çª—å£åˆ†é…ä¸åˆå¹¶&#34;&gt;çª—å£åˆ†é…ä¸åˆå¹¶&lt;/h3&gt;&#xA;&lt;p&gt;Dataflow æ¨¡å‹é‡Œï¼Œéœ€è¦çš„ä¸åªæ˜¯ GroupByKeyï¼Œå®é™…åœ¨ç»Ÿè®¡æ•°æ®çš„æ—¶å€™ï¼Œå¾€å¾€éœ€è¦çš„æ˜¯ GroupByKeyAndWindowã€‚ç»Ÿè®¡ä¸€ä¸ªä¸è€ƒè™‘ä»»ä½•æ—¶é—´çª—å£çš„æ•°æ®ï¼Œå¾€å¾€æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼›&#xA;Dataflow æ¨¡å‹æå‡ºï¼š&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;ä»æ¨¡å‹ç®€åŒ–çš„è§’åº¦ä¸Šï¼ŒæŠŠæ‰€æœ‰çš„çª—å£ç­–ç•¥éƒ½å½“åšéå¯¹é½çª—å£ï¼Œè€Œåº•å±‚å®ç°æ¥è´Ÿè´£æŠŠå¯¹é½çª—å£ä½œä¸ºä¸€ä¸ªç‰¹ä¾‹è¿›è¡Œä¼˜åŒ–ã€‚&lt;/li&gt;&#xA;&lt;li&gt;çª—å£æ“ä½œå¯ä»¥è¢«åˆ†éš”ä¸ºä¸¤ä¸ªäº’ç›¸ç›¸å…³çš„æ“ä½œï¼š&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;set&amp;lt;Window&amp;gt; AssignWindows(T datum)&lt;/code&gt; å³çª—å£åˆ†é…æ“ä½œã€‚è¿™ä¸ªæ“ä½œæŠŠå…ƒç´ åˆ†é…åˆ° 0 æˆ–å¤šä¸ªçª—å£ä¸­å»ã€‚&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;set&amp;lt;window&amp;gt; MergeWindows(Set&amp;lt;Window&amp;gt; windows)&lt;/code&gt; å³çª—å£åˆå¹¶æ“ä½œï¼Œè¿™ä¸ªæ“ä½œåœ¨æ±‡æ€»æ—¶åˆå¹¶çª—å£ã€‚&#xA;è€Œåœ¨å®é™…çš„é€»è¾‘å®ç°å±‚é¢ï¼ŒDataflow æœ€é‡è¦çš„ä¸¤ä¸ªå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ AssignWindows å‡½æ•°å’Œ MergeWindows å‡½æ•°ã€‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h4 id=&#34;çª—å£åˆ†é…&#34;&gt;çª—å£åˆ†é…&lt;/h4&gt;&#xA;&lt;p&gt;æ¯ä¸€ä¸ªåŸå§‹çš„äº‹ä»¶ï¼Œåœ¨ä¸šåŠ¡å¤„ç†å‡½æ•°ä¹‹å‰ï¼Œå…¶å®éƒ½æ˜¯ï¼ˆkey, value, event_timeï¼‰è¿™æ ·ä¸€ä¸ªä¸‰å…ƒç»„ã€‚è€Œ AssignWindows è¦åšçš„ï¼Œå°±æ˜¯æŠŠè¿™ä¸ªä¸‰å…ƒç»„ï¼Œæ ¹æ®æˆ‘ä»¬çš„å¤„ç†é€»è¾‘ï¼Œå˜æˆï¼ˆkey, value, event_time, windowï¼‰è¿™æ ·çš„å››å…ƒç»„ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>å †å’Œå †æ’åº</title>
      <link>https://qiref.github.io/post/2023/05/12/%E5%A0%86%E5%92%8C%E5%A0%86%E6%8E%92%E5%BA%8F/</link>
      <pubDate>Fri, 12 May 2023 17:01:04 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/05/12/%E5%A0%86%E5%92%8C%E5%A0%86%E6%8E%92%E5%BA%8F/</guid>
      <description>&lt;h2 id=&#34;å †&#34;&gt;å †&lt;/h2&gt;&#xA;&lt;p&gt;å †çš„æœ¬è´¨æ˜¯æ ‘ï¼Œç”¨æ•°ç»„è¡¨ç¤ºçš„å®Œå…¨äºŒå‰æ ‘ï¼›&lt;/p&gt;&#xA;&lt;h3 id=&#34;å®šä¹‰&#34;&gt;å®šä¹‰&lt;/h3&gt;&#xA;&lt;p&gt;ä¸€æ£µæ·±åº¦ä¸ºkä¸”æœ‰ &lt;code&gt;2^k - 1&lt;/code&gt; ä¸ªç»“ç‚¹çš„äºŒå‰æ ‘ç§°ä¸ºæ»¡äºŒå‰æ ‘ã€‚&lt;/p&gt;&#xA;&lt;p&gt;æ ¹æ®äºŒå‰æ ‘çš„æ€§è´¨2, æ»¡äºŒå‰æ ‘æ¯ä¸€å±‚çš„ç»“ç‚¹ä¸ªæ•°éƒ½è¾¾åˆ°äº†æœ€å¤§å€¼, å³æ»¡äºŒå‰æ ‘çš„ç¬¬iå±‚ä¸Šæœ‰ &lt;code&gt;2^(i-1)&lt;/code&gt; ä¸ªç»“ç‚¹ (iâ‰¥1) ã€‚&lt;/p&gt;&#xA;&lt;p&gt;å¦‚æœå¯¹æ»¡äºŒå‰æ ‘çš„ç»“ç‚¹è¿›è¡Œç¼–å·, çº¦å®šç¼–å·ä»æ ¹ç»“ç‚¹èµ·, è‡ªä¸Šè€Œä¸‹, è‡ªå·¦è€Œå³ã€‚åˆ™æ·±åº¦ä¸ºkçš„, æœ‰nä¸ªç»“ç‚¹çš„äºŒå‰æ ‘, å½“ä¸”ä»…å½“å…¶æ¯ä¸€ä¸ªç»“ç‚¹éƒ½ä¸æ·±åº¦ä¸ºkçš„æ»¡äºŒå‰æ ‘ä¸­ç¼–å·ä»1è‡³nçš„ç»“ç‚¹ä¸€ä¸€å¯¹åº”æ—¶, ç§°ä¹‹ä¸ºå®Œå…¨äºŒå‰æ ‘ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ä»æ»¡äºŒå‰æ ‘å’Œå®Œå…¨äºŒå‰æ ‘çš„å®šä¹‰å¯ä»¥çœ‹å‡º, æ»¡äºŒå‰æ ‘æ˜¯å®Œå…¨äºŒå‰æ ‘çš„ç‰¹æ®Šå½¢æ€, å³å¦‚æœä¸€æ£µäºŒå‰æ ‘æ˜¯æ»¡äºŒå‰æ ‘, åˆ™å®ƒå¿…å®šæ˜¯å®Œå…¨äºŒå‰æ ‘ã€‚&lt;/p&gt;&#xA;&lt;p&gt;å‚è€ƒï¼š &lt;a href=&#34;https://baike.baidu.com/item/%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91/7773232&#34;&gt;https://baike.baidu.com/item/%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91/7773232&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h3 id=&#34;æ€§è´¨&#34;&gt;æ€§è´¨&lt;/h3&gt;&#xA;&lt;pre&gt;&lt;code&gt;arrï¼š[2 3 4 52 2 2 1]&#xA;idxï¼š 0 1 2 3  4 5 6&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;i ä¸‹æ ‡å’Œå…ƒç´ ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼š&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;å·¦å­èŠ‚ç‚¹ï¼š&lt;code&gt;2*i+1&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;å³å­èŠ‚ç‚¹ï¼š&lt;code&gt;2*i+2&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;çˆ¶èŠ‚ç‚¹ï¼š&lt;code&gt;(i-1)/2&lt;/code&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;å¤§æ ¹å †&#34;&gt;å¤§æ ¹å †&lt;/h3&gt;&#xA;&lt;p&gt;å®Œå…¨äºŒå‰æ ‘é‡Œï¼Œæ¯ä¸€ä¸ªå­æ ‘çš„æœ€å¤§å€¼æ˜¯æ ¹èŠ‚ç‚¹ï¼›&lt;/p&gt;&#xA;&lt;h3 id=&#34;å°æ ¹å †&#34;&gt;å°æ ¹å †&lt;/h3&gt;&#xA;&lt;p&gt;å®Œå…¨äºŒå‰æ ‘é‡Œï¼Œæ¯ä¸€ä¸ªå­æ ‘çš„æœ€å°å€¼æ˜¯æ ¹èŠ‚ç‚¹ï¼›&lt;/p&gt;&#xA;&lt;h2 id=&#34;å †æ’åº&#34;&gt;å †æ’åº&lt;/h2&gt;&#xA;&lt;h3 id=&#34;å®šä¹‰å †&#34;&gt;å®šä¹‰å †&lt;/h3&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// maxHeap å®šä¹‰ä¸€ä¸ªå¤§æ ¹å †&#xA;type maxHeap struct {&#xA;    Data  []int&#xA;    Count int&#xA;}&#xA;&#xA;func NewMaxHeap(size int) *maxHeap {&#xA;    return &amp;amp;maxHeap{&#xA;        Data:  make([]int, size),&#xA;        Count: 0,&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h3 id=&#34;æ’å…¥æ•°æ®&#34;&gt;æ’å…¥æ•°æ®&lt;/h3&gt;&#xA;&lt;p&gt;æ’å…¥æ•°æ®æ—¶ï¼Œæ˜¯å¾€æ•°ç»„æœ€åå¢åŠ å…ƒç´ ï¼Œç”±äºéœ€è¦ä¿è¯å¤§æ ¹å †çš„æ€§è´¨ï¼Œå¦‚æœæ–°åŠ å…¥çš„å…ƒç´ æ¯”çˆ¶èŠ‚ç‚¹å¤§ï¼Œåˆ™è·Ÿçˆ¶èŠ‚ç‚¹äº¤æ¢ä½ç½®ï¼Œä»¥æ­¤ç±»æ¨ï¼Œä¸€ç›´åˆ°æ ¹èŠ‚ç‚¹ï¼Œè¿™ä¸ªäº¤æ¢æµç¨‹å®Œæˆåï¼Œæ–°å…ƒç´ æ’å…¥å°±å®Œæˆäº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Chandy-Lamport ç®—æ³•ç¬”è®°</title>
      <link>https://qiref.github.io/post/2023/05/08/chandy-lamport-%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Mon, 08 May 2023 22:38:42 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/05/08/chandy-lamport-%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/</guid>
      <description>&lt;h2 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h2&gt;&#xA;&lt;p&gt;Global Snapshotï¼ˆGlobal Stateï¼‰ï¼šå…¨å±€å¿«ç…§ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿåœ¨ Failure Recovery çš„æ—¶å€™éå¸¸æœ‰ç”¨ï¼Œä¹Ÿæ˜¯å¹¿æ³›åº”ç”¨åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæ›´å¤šæ˜¯åˆ†å¸ƒå¼è®¡ç®—ç³»ç»Ÿä¸­çš„ä¸€ç§å®¹é”™å¤„ç†ç†è®ºåŸºç¡€ã€‚&lt;/p&gt;&#xA;&lt;p&gt;åœ¨ Chandy-Lamport ç®—æ³•ä¸­ï¼Œä¸ºäº†å®šä¹‰åˆ†å¸ƒå¼ç³»ç»Ÿçš„ Global Snapshotï¼Œå…ˆå°†åˆ†å¸ƒå¼ç³»ç»Ÿç®€åŒ–æˆæœ‰é™ä¸ªè¿›ç¨‹å’Œè¿›ç¨‹ä¹‹é—´çš„ channel ç»„æˆï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæœ‰å‘å›¾ ï¼ˆGAGï¼‰ï¼šèŠ‚ç‚¹æ˜¯è¿›ç¨‹ï¼Œè¾¹æ˜¯ channelã€‚å› ä¸ºæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™äº›è¿›ç¨‹æ˜¯è¿è¡Œåœ¨ä¸åŒçš„ç‰©ç†æœºå™¨ä¸Šçš„ã€‚é‚£ä¹ˆä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿçš„  Global Snapshot å°±æ˜¯æœ‰è¿›ç¨‹çš„çŠ¶æ€å’Œ channel ä¸­çš„ message ç»„æˆï¼Œè¿™ä¸ªä¹Ÿæ˜¯åˆ†å¸ƒå¼å¿«ç…§ç®—æ³•éœ€è¦è®°å½•çš„ã€‚å› æ­¤ï¼ŒChandy-Lamport ç®—æ³•è§£å†³äº†åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨ Failure Recovery æ—¶ï¼Œå¯ä»¥ä»  Global Snapshot ä¸­æ¢å¤çš„é—®é¢˜ï¼›&lt;/p&gt;&#xA;&lt;h2 id=&#34;ç®—æ³•è¿‡ç¨‹&#34;&gt;ç®—æ³•è¿‡ç¨‹&lt;/h2&gt;&#xA;&lt;h3 id=&#34;å‰ææ¡ä»¶åŠå®šä¹‰&#34;&gt;å‰ææ¡ä»¶åŠå®šä¹‰&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;processï¼ˆPnï¼‰ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„è¿›ç¨‹ï¼Œç”¨ P1ï¼ŒP2ï¼ŒP3 è¡¨ç¤ºï¼›&lt;/li&gt;&#xA;&lt;li&gt;channelï¼šåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼ŒPn ä¸ Pm é€šä¿¡çš„ç®¡é“ï¼ŒC12 è¡¨ç¤ºä» P1 åˆ° P2 çš„ channelï¼Œåä¹‹ï¼ŒC32 è¡¨ç¤ºä» P3 åˆ° P2çš„ channelï¼›&lt;/li&gt;&#xA;&lt;li&gt;messageï¼šåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼ŒPn ä¸ Pm ä¹‹é—´å‘é€çš„ä¸šåŠ¡æ¶ˆæ¯ï¼›M23 è¡¨ç¤ºä» P2 åˆ° P3 çš„ messageï¼›&lt;/li&gt;&#xA;&lt;li&gt;markerï¼šåœ¨ Chandy-Lamport ç®—æ³•ä¸­ï¼ŒPn ä¸ Pm ä¹‹é—´å‘é€çš„æ ‡è®°æ¶ˆæ¯ï¼Œä¸åŒäºä¸šåŠ¡çš„ messageï¼Œmarker æ˜¯ç”± Chandy-Lamport ç®—æ³•å®šä¹‰ï¼Œç”¨äºå¸®åŠ©å®ç°å¿«ç…§ç®—æ³•ï¼›&lt;/li&gt;&#xA;&lt;li&gt;snapshot/stateï¼šéƒ½è¡¨ç¤ºå¿«ç…§ï¼ŒåŒæ—¶åŒ…æ‹¬è¿›ç¨‹æœ¬èº«çš„çŠ¶æ€å’Œ messageï¼›ä¸‹æ–‡ä¸­ç»Ÿä¸€å…¨å±€å¿«ç…§å« snapshotï¼Œprocess æœ¬åœ°å¿«ç…§å« stateï¼›&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;Chandy-Lamport ç®—æ³•æœ‰ä¸€äº›å‰ææ¡ä»¶ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Goè¯­è¨€ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹</title>
      <link>https://qiref.github.io/post/2023/04/28/go%E8%AF%AD%E8%A8%80%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/</link>
      <pubDate>Fri, 28 Apr 2023 15:57:51 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/04/28/go%E8%AF%AD%E8%A8%80%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/</guid>
      <description>&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;&#xA;type Request struct {&#xA;    Name string&#xA;}&#xA;&#xA;type XxHandler struct {&#xA;    RequestQueue chan *Request&#xA;}&#xA;&#xA;func (o *XxHandler) String() string {&#xA;    if b, err := json.Marshal(o); err != nil {&#xA;        return &amp;quot;&amp;quot;&#xA;    } else {&#xA;        return string(b)&#xA;    }&#xA;}&#xA;&#xA;// Start å¯åŠ¨é˜Ÿåˆ—ç›‘å¬&#xA;func (o *XxHandler) Start() {&#xA;    go func() {&#xA;        for request := range o.RequestQueue {&#xA;            go o.Process(request)&#xA;        }&#xA;    }()&#xA;}&#xA;&#xA;// AppendTask å‘é˜Ÿåˆ—ä¸­å¢åŠ task&#xA;func (o *XxHandler) AppendTask(request *Request) {&#xA;    if request == nil {&#xA;        return&#xA;    }&#xA;    o.RequestQueue &amp;lt;- request&#xA;}&#xA;&#xA;// Stop å…³é—­é˜Ÿåˆ—&#xA;func (o *XxHandler) Stop() {&#xA;    close(o.RequestQueue)&#xA;}&#xA;&#xA;func newIns() *XxHandler {&#xA;    return &amp;amp;XxHandler{&#xA;        RequestQueue: make(chan *Request, 10),&#xA;    }&#xA;}&#xA;&#xA;var ins *XxHandler&#xA;&#xA;// GetXxHandler è·å– å®ä¾‹&#xA;func GetXxHandler() *XxHandler {&#xA;    if ins == nil {&#xA;        ins = newIns()&#xA;    }&#xA;    return ins&#xA;}&#xA;&#xA;// Process å¤„ç†é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡&#xA;func (o *XxHandler) Process(request *Request) {&#xA;    // do something&#xA;}&#xA;&#xA;func TestXxHandler(t *testing.T) {&#xA;    GetXxHandler().Start()&#xA;&#xA;    GetXxHandler().AppendTask(&amp;amp;Request{Name: &amp;quot;xx&amp;quot;})&#xA;}&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Goè¯­è¨€å®ç° bitmap</title>
      <link>https://qiref.github.io/post/2023/04/28/go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0-bitmap/</link>
      <pubDate>Fri, 28 Apr 2023 11:24:38 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/04/28/go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0-bitmap/</guid>
      <description>&lt;h2 id=&#34;ç®—æ³•è¯´æ˜&#34;&gt;ç®—æ³•è¯´æ˜&lt;/h2&gt;&#xA;&lt;p&gt;Bitmapç®—æ³•æ˜¯ä¸€ç§åŸºäºä½è¿ç®—çš„æ•°æ®ç»“æ„ï¼Œç”¨äºè§£å†³å¤§è§„æ¨¡æ•°æ®çš„å¿«é€ŸæŸ¥æ‰¾å’Œç»Ÿè®¡é—®é¢˜ã€‚å…¶åŸºæœ¬åŸç†æ˜¯å°†ä¸€ä¸ªå¤§æ•°æ®é›†åˆæ˜ å°„åˆ°ä¸€ä¸ªäºŒè¿›åˆ¶å‘é‡ä¸­ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ å¯¹åº”äºæ•°æ®é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œå‘é‡ä¸­çš„æ¯ä¸€ä½è¡¨ç¤ºè¯¥å…ƒç´ æ˜¯å¦å­˜åœ¨äºé›†åˆä¸­ã€‚&lt;/p&gt;&#xA;&lt;p&gt;å…·ä½“æ¥è¯´ï¼ŒBitmapç®—æ³•é€šè¿‡ä½¿ç”¨ä¸€ä¸ªä½å›¾ï¼ˆbitmapï¼‰æ¥è¡¨ç¤ºä¸€ä¸ªæ•°æ®é›†åˆï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ å¯¹åº”ä¸€ä¸ªä½ã€‚å¦‚æœæŸä¸ªå…ƒç´ åœ¨æ•°æ®é›†åˆä¸­å‡ºç°ï¼Œåˆ™å°†å…¶å¯¹åº”çš„ä½è®¾ç½®ä¸º1ï¼Œå¦åˆ™å°†å…¶å¯¹åº”çš„ä½è®¾ç½®ä¸º0ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥å¿«é€Ÿåœ°è¿›è¡Œé›†åˆæ“ä½œï¼Œå¦‚å¹¶é›†ã€äº¤é›†å’Œå·®é›†ç­‰ã€‚&lt;/p&gt;&#xA;&lt;p&gt;Bitmapç®—æ³•çš„ä¸»è¦ä¼˜ç‚¹åœ¨äºå…¶ç©ºé—´æ•ˆç‡é«˜ï¼Œå¯ä»¥ç”¨è¾ƒå°çš„ç©ºé—´å­˜å‚¨å¤§è§„æ¨¡æ•°æ®é›†åˆã€‚å¦å¤–ï¼ŒBitmapç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¹Ÿéå¸¸ä½ï¼Œå¯ä»¥å¿«é€Ÿåœ°è¿›è¡Œé›†åˆæ“ä½œã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;å¦‚ä½•ç”¨æ•°ç»„è¡¨ç¤ºä¸€ä¸ª-bitmap&#34;&gt;å¦‚ä½•ç”¨æ•°ç»„è¡¨ç¤ºä¸€ä¸ª bitmap&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://qiref.github.io/assets/img/bitmap-index-cal.svg&#34; alt=&#34;bitmap-index-cal&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;ä»¥ 1byte ä¸ºä¾‹ï¼š8ä½èƒ½è¡¨ç¤º8ä¸ªå…ƒç´ ï¼Œ 0-7 å·å¯¹åº”äº† b[0] ä¸‹æ ‡ï¼Œ 8-15 å·å¯¹åº”äº† b[1] ä¸‹æ ‡ï¼Œä»¥æ­¤ç±»æ¨ã€‚&lt;/p&gt;&#xA;&lt;p&gt;å› æ­¤ï¼Œæ•°ç»„ä¸‹æ ‡ n è·Ÿbitmapå…ƒç´ åºå· bitmapIdx çš„å…³ç³»ä¸ºï¼š&lt;code&gt;n = bitmapIdx &amp;gt;&amp;gt; 3&lt;/code&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;å€¼å¦‚ä½•æ˜ å°„åˆ°-bitmap-æ•°ç»„&#34;&gt;å€¼å¦‚ä½•æ˜ å°„åˆ° bitmap æ•°ç»„&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://qiref.github.io/assets/img/bitmap-index-map.svg&#34; alt=&#34;bitmap-index-cal&#34;&gt;&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;å½“æ‰¾åˆ°äº† å…ƒç´ åºå· n åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ä¹‹åï¼Œå¦‚ä½•ç»™ b[n] èµ‹å€¼å‘¢ï¼Ÿ&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;1 &amp;lt;&amp;lt; (bitmapIdx &amp;amp; 7)&lt;/code&gt; ç­‰åŒäº &lt;code&gt;1 &amp;lt;&amp;lt; (bitmapIdx % 8)&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;(bitmapIdx % 8)&lt;/code&gt; æ‰¾åˆ°åœ¨äº†åœ¨æ•°ç»„ b[n] ä¸­çš„ç¬¬ &lt;code&gt;m&lt;/code&gt; ä½ï¼Œç„¶å &lt;code&gt;1 &amp;lt;&amp;lt; m&lt;/code&gt; ä¹‹åï¼Œå°±ç›¸å½“äºç»™æ•°ç»„èµ‹å€¼ï¼ŒæŠŠç¬¬ &lt;code&gt;m&lt;/code&gt; ä½ ç½®ä¸º1ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h3 id=&#34;éªŒè¯&#34;&gt;éªŒè¯&lt;/h3&gt;&#xA;&lt;p&gt;åŒæ ·ä»¥ 1byte ä¸ºä¾‹ï¼šå€Ÿç”¨ä¸Šè¿°ç»“è®ºï¼Œç¬¬ 24 å·å…ƒç´ ï¼Œå¯¹åº”çš„æ•°ç»„ä¸‹æ ‡ n ä¸ºï¼š&lt;code&gt;n = 24 &amp;gt;&amp;gt; 3 &lt;/code&gt; ç»“æœä¸º3, b[3]ï¼›&lt;/p&gt;</description>
    </item>
    <item>
      <title>Goè¯­è¨€å®ç° LRU</title>
      <link>https://qiref.github.io/post/2023/04/27/go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0-lru/</link>
      <pubDate>Thu, 27 Apr 2023 21:43:12 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/04/27/go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0-lru/</guid>
      <description>&lt;p&gt;LRUï¼ˆLeast Recently Usedï¼‰ç®—æ³•ï¼Œå³æœ€è¿‘æœ€å°‘ä½¿ç”¨ç®—æ³•;å…¶åŸºæœ¬æ€æƒ³æ˜¯ï¼Œå¦‚æœä¸€ä¸ªæ•°æ®æœ€è¿‘è¢«è®¿é—®è¿‡ï¼Œé‚£ä¹ˆå®ƒåœ¨æœªæ¥è¢«è®¿é—®çš„æ¦‚ç‡ä¹Ÿä¼šå¾ˆé«˜ï¼›åä¹‹ï¼Œå¦‚æœä¸€ä¸ªæ•°æ®å¾ˆä¹…éƒ½æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œé‚£ä¹ˆå®ƒåœ¨æœªæ¥è¢«è®¿é—®çš„æ¦‚ç‡å°±ç›¸å¯¹è¾ƒä½ã€‚å› æ­¤ï¼ŒLRUç®—æ³•é€‰æ‹©æ·˜æ±°æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„æ•°æ®ï¼Œå³é€‰æ‹©æœ€é•¿æ—¶é—´æ²¡æœ‰è¢«è®¿é—®è¿‡çš„æ•°æ®è¿›è¡Œæ·˜æ±°ã€‚&lt;/p&gt;&#xA;&lt;p&gt;å…·ä½“æ¥è¯´ï¼ŒLRUç®—æ³•é€šå¸¸ä½¿ç”¨ä¸€ä¸ªåŒå‘é“¾è¡¨å’Œä¸€ä¸ªå“ˆå¸Œè¡¨æ¥å®ç°ã€‚åŒå‘é“¾è¡¨ä¸­çš„èŠ‚ç‚¹æŒ‰ç…§æœ€è¿‘è®¿é—®æ—¶é—´çš„é¡ºåºæ’åˆ—ï¼Œæœ€è¿‘è®¿é—®çš„èŠ‚ç‚¹æ’åœ¨é“¾è¡¨å¤´éƒ¨ï¼Œæœ€ä¹…æœªè®¿é—®çš„èŠ‚ç‚¹æ’åœ¨é“¾è¡¨å°¾éƒ¨ã€‚å“ˆå¸Œè¡¨ä¸­å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„åœ°å€ï¼Œä»¥ä¾¿å¿«é€ŸæŸ¥æ‰¾å’Œåˆ é™¤ã€‚&lt;/p&gt;&#xA;&lt;p&gt;å½“éœ€è¦è®¿é—®ä¸€ä¸ªæ•°æ®æ—¶ï¼ŒLRUç®—æ³•é¦–å…ˆåœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾è¯¥æ•°æ®ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™å°†å¯¹åº”çš„èŠ‚ç‚¹ç§»åŠ¨åˆ°é“¾è¡¨å¤´éƒ¨ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™å°†è¯¥æ•°æ®æ·»åŠ åˆ°é“¾è¡¨å¤´éƒ¨ï¼Œå¹¶åœ¨å“ˆå¸Œè¡¨ä¸­åˆ›å»ºå¯¹åº”çš„èŠ‚ç‚¹ã€‚&lt;/p&gt;&#xA;&lt;p&gt;å½“éœ€è¦æ·˜æ±°æ•°æ®æ—¶ï¼ŒLRUç®—æ³•é€‰æ‹©é“¾è¡¨å°¾éƒ¨çš„èŠ‚ç‚¹è¿›è¡Œæ·˜æ±°ï¼Œå¹¶åœ¨å“ˆå¸Œè¡¨ä¸­åˆ é™¤å¯¹åº”çš„èŠ‚ç‚¹ã€‚&lt;/p&gt;&#xA;&lt;p&gt;golang å®ç° LRU ç®—æ³•ï¼š&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package lru&#xA;&#xA;import (&#xA;    &amp;quot;container/list&amp;quot;&#xA;    &amp;quot;errors&amp;quot;&#xA;    &amp;quot;sync&amp;quot;&#xA;)&#xA;&#xA;// LRU implements a non-thread safe fixed size LRU cache&#xA;type LRU struct {&#xA;    size      int&#xA;    evictList *list.List&#xA;    items     map[interface{}]*list.Element&#xA;}&#xA;&#xA;// entry is used to hold a value in the evictList&#xA;type entry struct {&#xA;    key   interface{}&#xA;    value interface{}&#xA;}&#xA;&#xA;// NewLRU constructs an LRU of the given size&#xA;func NewLRU(size int) (*LRU, error) {&#xA;    if size &amp;lt;= 0 {&#xA;        return nil, errors.New(&amp;quot;must provide a positive size&amp;quot;)&#xA;    }&#xA;    c := &amp;amp;LRU{&#xA;        size:      size,&#xA;        evictList: list.New(),&#xA;        items:     make(map[interface{}]*list.Element),&#xA;    }&#xA;    return c, nil&#xA;}&#xA;&#xA;// Add adds a value to the cache.  Returns true if an eviction occured.&#xA;func (c *LRU) Add(key, value interface{}) bool {&#xA;    // Check for existing item&#xA;    if ent, ok := c.items[key]; ok {&#xA;        c.evictList.MoveToFront(ent)&#xA;        ent.Value.(*entry).value = value&#xA;        return false&#xA;    }&#xA;&#xA;    // Add new item&#xA;    ent := &amp;amp;entry{key, value}&#xA;    entry := c.evictList.PushFront(ent)&#xA;    c.items[key] = entry&#xA;&#xA;    evict := c.evictList.Len() &amp;gt; c.size&#xA;    // Verify size not exceeded&#xA;    if evict {&#xA;        c.removeOldest()&#xA;    }&#xA;    return evict&#xA;}&#xA;&#xA;// Get looks up a key&#39;s value from the cache.&#xA;func (c *LRU) Get(key interface{}) (value interface{}, ok bool) {&#xA;    if ent, ok := c.items[key]; ok {&#xA;        c.evictList.MoveToFront(ent)&#xA;        return ent.Value.(*entry).value, true&#xA;    }&#xA;    return&#xA;}&#xA;&#xA;// Remove removes the provided key from the cache, returning if the&#xA;// key was contained.&#xA;func (c *LRU) Remove(key interface{}) bool {&#xA;    if ent, ok := c.items[key]; ok {&#xA;        c.removeElement(ent)&#xA;        return true&#xA;    }&#xA;    return false&#xA;}&#xA;&#xA;// removeOldest removes the oldest item from the cache.&#xA;func (c *LRU) removeOldest() {&#xA;    ent := c.evictList.Back()&#xA;    if ent != nil {&#xA;        c.removeElement(ent)&#xA;    }&#xA;}&#xA;&#xA;// removeElement is used to remove a given list element from the cache&#xA;func (c *LRU) removeElement(e *list.Element) {&#xA;    c.evictList.Remove(e)&#xA;    kv := e.Value.(*entry)&#xA;    delete(c.items, kv.key)&#xA;    if c.onEvict != nil {&#xA;        c.onEvict(kv.key, kv.value)&#xA;    }&#xA;}&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯è¿™ä¸ª LRU å®ç°å¹¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¦‚æœéœ€è¦çº¿ç¨‹å®‰å…¨ï¼Œéœ€è¦åœ¨å¤–å±‚æ–¹æ³•åŠ é”ï¼ŒåŒæ—¶ï¼Œç”±äº golang çš„ lock å¹¶ä¸æ˜¯å¯é‡å…¥çš„ï¼Œéœ€è¦æ³¨æ„é¿å…æ­»é”é—®é¢˜ã€‚ ä»¥ä¸‹å®ç°ä¸­åŸºäº LRU åšäº†ä¸€æ¬¡å°è£…ï¼Œå®ç°äº†çº¿ç¨‹å®‰å…¨çš„å†…å­˜çº§ LRU-Cacheï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Flinkå†…å­˜æ¨¡å‹</title>
      <link>https://qiref.github.io/post/2023/03/28/flink%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/</link>
      <pubDate>Tue, 28 Mar 2023 20:31:01 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/03/28/flink%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/</guid>
      <description>&lt;h2 id=&#34;java-å †å¤–å†…å­˜&#34;&gt;Java å †å¤–å†…å­˜&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;import sun.nio.ch.DirectBuffer;&#xA;import java.nio.ByteBuffer;&#xA;import java.util.concurrent.TimeUnit;&#xA;&#xA;public class OutHeapMem {&#xA;    public static void main(String[] args) throws Exception {&#xA;        // åˆ†é… 1G ç›´æ¥å†…å­˜&#xA;        ByteBuffer byteBuffer = ByteBuffer.allocateDirect(1024 * 1024 * 1024);&#xA;        TimeUnit.SECONDS.sleep(30);&#xA;&#xA;        System.out.println(&amp;quot;clean start&amp;quot;);&#xA;        // æ¸…é™¤ç›´æ¥å†…å­˜&#xA;        ((DirectBuffer) byteBuffer).cleaner().clean();&#xA;        System.out.println(&amp;quot;clean finished&amp;quot;);&#xA;&#xA;        TimeUnit.SECONDS.sleep(30);&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-diff&#34;&gt;# åˆ†é…å†…å­˜&#xA;Memory                                  used         total        max           usage&#xA;heap                                    21M          165M         3641M         0.59%&#xA;ps_eden_space                           3M           64M          1344M         0.29%&#xA;ps_survivor_space                       0K           10752K       10752K        0.00%&#xA;ps_old_gen                              17M          91M          2731M         0.64%&#xA;nonheap                                 28M          28M          -1            96.89%&#xA;code_cache                              5M           5M           240M          2.11%&#xA;metaspace                               20M          21M          -1            97.00%&#xA;compressed_class_space                  2M           2M           1024M         0.25%&#xA;+direct                                 1024M        1024M        -             100.00%&#xA;mapped                                  0K           0K           -             0.00% &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-diff&#34;&gt;# é‡Šæ”¾å†…å­˜&#xA;Memory                                  used         total        max           usage&#xA;heap                                    21M          165M         3641M         0.60%&#xA;ps_eden_space                           4M           64M          1344M         0.32%&#xA;ps_survivor_space                       0K           10752K       10752K        0.00%&#xA;ps_old_gen                              17M          91M          2731M         0.64%&#xA;nonheap                                 27M          28M          -1            96.79%&#xA;code_cache                              5M           5M           240M          2.09%&#xA;metaspace                               20M          21M          -1            97.03%&#xA;compressed_class_space                  2M           2M           1024M         0.25%&#xA;-direct                                 0K           0K           -             0.00%&#xA;mapped                                  0K           0K           -             0.00%&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;é€šè¿‡ arthas åˆ†æï¼Œåˆ†é…ç›´æ¥å†…å­˜ä¼šåœ¨ direct å¼€è¾Ÿå†…å­˜ç©ºé—´ï¼Œè¡¨æ˜æ˜¯åœ¨å †å¤–åˆ†é…çš„å†…å­˜ç©ºé—´ï¼›è™½ç„¶ byteBuffer æŒ‡å‘äº† direct memoryï¼Œä½†æ˜¯è¿™ä¸ªå¯¹è±¡å¼•ç”¨è¿˜åœ¨ heap ä¸­ï¼Œå½“ byteBuffer å¯¹è±¡å¼•ç”¨ è¢« GC ç®—æ³•å›æ”¶æ‰ä¹‹åï¼ŒbyteBuffer æŒ‡å‘çš„å†…å­˜ç©ºé—´ä¹Ÿä¼šè¢«é‡Šæ”¾ï¼›&lt;/p&gt;</description>
    </item>
    <item>
      <title>Flinkç±»åŠ è½½æœºåˆ¶</title>
      <link>https://qiref.github.io/post/2023/03/24/flink%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/</link>
      <pubDate>Fri, 24 Mar 2023 16:13:22 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/03/24/flink%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/</guid>
      <description>&lt;h2 id=&#34;flink-ç±»åŠ è½½é…ç½®è¯´æ˜&#34;&gt;flink ç±»åŠ è½½é…ç½®è¯´æ˜&lt;/h2&gt;&#xA;&lt;p&gt;Flink ä½œä¸ºåŸºäº JVM çš„æ¡†æ¶ï¼Œåœ¨ flink-conf.yaml ä¸­æä¾›äº†æ§åˆ¶ç±»åŠ è½½ç­–ç•¥çš„å‚æ•° classloader.resolve-orderï¼Œå¯é€‰é¡¹æœ‰ child-firstï¼ˆé»˜è®¤ï¼‰å’Œ parent-firstã€‚&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;Key&lt;/th&gt;&#xA;          &lt;th&gt;Default&lt;/th&gt;&#xA;          &lt;th&gt;Type&lt;/th&gt;&#xA;          &lt;th&gt;Description&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;classloader.resolve-order&lt;/td&gt;&#xA;          &lt;td&gt;&amp;ldquo;child-first&amp;rdquo;&lt;/td&gt;&#xA;          &lt;td&gt;String&lt;/td&gt;&#xA;          &lt;td&gt;Defines the class resolution strategy when loading classes from user code, meaning whether to first check the user code jar (&amp;ldquo;child-first&amp;rdquo;) or the application classpath (&amp;ldquo;parent-first&amp;rdquo;). The default settings indicate to load classes first from the user code jar, which means that user code jars can include and load different dependencies than Flink uses (transitively).&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;classloader.parent-first-patterns.default&lt;/td&gt;&#xA;          &lt;td&gt;&amp;ldquo;java.&amp;rdquo;;&lt;br&gt;&amp;ldquo;scala.&amp;rdquo;;&lt;br&gt;&amp;ldquo;org.apache.flink.&amp;rdquo;;&lt;br&gt;&amp;ldquo;com.esotericsoftware.kryo&amp;rdquo;;&lt;br&gt;&amp;ldquo;org.apache.hadoop.&amp;rdquo;;&lt;br&gt;&amp;ldquo;javax.annotation.&amp;rdquo;;&lt;br&gt;&amp;ldquo;org.xml&amp;rdquo;;&lt;br&gt;&amp;ldquo;javax.xml&amp;rdquo;;&lt;br&gt;&amp;ldquo;org.apache.xerces&amp;rdquo;;&lt;br&gt;&amp;ldquo;org.w3c&amp;rdquo;;&lt;br&gt;&amp;ldquo;org.rocksdb.&amp;rdquo;;&lt;br&gt;&amp;ldquo;org.slf4j&amp;rdquo;;&lt;br&gt;&amp;ldquo;org.apache.log4j&amp;rdquo;;&lt;br&gt;&amp;ldquo;org.apache.logging&amp;rdquo;;&lt;br&gt;&amp;ldquo;org.apache.commons.logging&amp;rdquo;;&lt;br&gt;&amp;ldquo;ch.qos.logback&amp;rdquo;&lt;/td&gt;&#xA;          &lt;td&gt;List&lt;String&gt;&lt;/td&gt;&#xA;          &lt;td&gt;A (semicolon-separated) list of patterns that specifies which classes should always be resolved through the parent ClassLoader first. A pattern is a simple prefix that is checked against the fully qualified class name. This setting should generally not be modified. To add another pattern we recommend to use &amp;ldquo;classloader.parent-first-patterns.additional&amp;rdquo; instead.&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;classloader.parent-first-patterns.additional&lt;/td&gt;&#xA;          &lt;td&gt;&lt;/td&gt;&#xA;          &lt;td&gt;List&lt;String&gt;&lt;/td&gt;&#xA;          &lt;td&gt;A (semicolon-separated) list of patterns that specifies which classes should always be resolved through the parent ClassLoader first. A pattern is a simple prefix that is checked against the fully qualified class name. These patterns are appended to &amp;ldquo;classloader.parent-first-patterns.default&amp;rdquo;.&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;classloader.fail-on-metaspace-oom-error&lt;/td&gt;&#xA;          &lt;td&gt;true&lt;/td&gt;&#xA;          &lt;td&gt;Boolean&lt;/td&gt;&#xA;          &lt;td&gt;Fail Flink JVM processes if &amp;lsquo;OutOfMemoryError: Metaspace&amp;rsquo; is thrown while trying to load a user code class.&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;classloader.check-leaked-classloader&lt;/td&gt;&#xA;          &lt;td&gt;true&lt;/td&gt;&#xA;          &lt;td&gt;Boolean&lt;/td&gt;&#xA;          &lt;td&gt;Fails attempts at loading classes if the user classloader of a job is used after it has terminated. This is usually caused by the classloader being leaked by lingering threads or misbehaving libraries, which may also result in the classloader being used by other jobs. This check should only be disabled if such a leak prevents further jobs from running.&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;h2 id=&#34;parent-first-ç±»åŠ è½½ç­–ç•¥&#34;&gt;parent-first ç±»åŠ è½½ç­–ç•¥&lt;/h2&gt;&#xA;&lt;p&gt;ParentFirstClassLoader å’Œ ChildFirstClassLoader ç±»çš„çˆ¶ç±»å‡ä¸º FlinkUserCodeClassLoader æŠ½è±¡ç±»ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>JavaåŒäº²å§”æ´¾</title>
      <link>https://qiref.github.io/post/2023/03/24/java%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE/</link>
      <pubDate>Fri, 24 Mar 2023 15:46:27 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/03/24/java%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE/</guid>
      <description>&lt;h2 id=&#34;ç±»åŠ è½½å™¨&#34;&gt;ç±»åŠ è½½å™¨&lt;/h2&gt;&#xA;&lt;p&gt;Javaè¯­è¨€ç³»ç»Ÿä¸­æ”¯æŒä»¥ä¸‹4ç§ç±»åŠ è½½å™¨ï¼š&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Bootstrap ClassLoader å¯åŠ¨ç±»åŠ è½½å™¨ï¼Œä¸»è¦è´Ÿè´£åŠ è½½Javaæ ¸å¿ƒç±»åº“ï¼Œ%JRE_HOME%\libä¸‹çš„rt.jarã€resources.jarã€charsets.jarå’Œclassç­‰ï¼›&lt;/li&gt;&#xA;&lt;li&gt;Extension ClassLoader æ ‡å‡†æ‰©å±•ç±»åŠ è½½å™¨ï¼Œä¸»è¦è´Ÿè´£åŠ è½½ç›®å½•%JRE_HOME%\lib\extç›®å½•ä¸‹çš„jaråŒ…å’Œclassæ–‡ä»¶ï¼›&lt;/li&gt;&#xA;&lt;li&gt;Application ClassLoader åº”ç”¨ç±»åŠ è½½å™¨ï¼Œä¸»è¦è´Ÿè´£åŠ è½½å½“å‰åº”ç”¨çš„classpathä¸‹çš„æ‰€æœ‰ç±»ï¼›&lt;/li&gt;&#xA;&lt;li&gt;User ClassLoader ç”¨æˆ·è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼Œç”¨æˆ·è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨,å¯åŠ è½½æŒ‡å®šè·¯å¾„çš„classæ–‡ä»¶ï¼›&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://qiref.github.io/assets/img/java-class-loader.svg&#34; alt=&#34;javaç±»åŠ è½½å™¨&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;åŒäº²å§”æ´¾&#34;&gt;åŒäº²å§”æ´¾&lt;/h2&gt;&#xA;&lt;p&gt;ç±»åŠ è½½å™¨é‡‡ç”¨äº†åŒäº²å§”æ´¾æ¨¡å¼ï¼Œå…¶å·¥ä½œåŸç†æ˜¯ï¼Œå¦‚æœä¸€ä¸ªç±»åŠ è½½å™¨æ”¶åˆ°äº†ç±»åŠ è½½è¯·æ±‚ï¼Œå®ƒå¹¶ä¸ä¼šè‡ªå·±å…ˆå»åŠ è½½ï¼Œè€Œæ˜¯æŠŠè¿™ä¸ªè¯·æ±‚å§”æ‰˜ç»™çˆ¶ç±»çš„åŠ è½½å™¨å»æ‰§è¡Œï¼Œå¦‚æœçˆ¶ç±»åŠ è½½å™¨è¿˜å­˜åœ¨å…¶çˆ¶ç±»åŠ è½½å™¨ï¼Œåˆ™è¿›ä¸€æ­¥å‘ä¸Šå§”æ‰˜ï¼Œä¾æ¬¡é€’å½’ï¼Œè¯·æ±‚æœ€ç»ˆå°†åˆ°è¾¾é¡¶å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨ï¼Œå¦‚æœçˆ¶ç±»åŠ è½½å™¨å¯ä»¥å®Œæˆç±»åŠ è½½ä»»åŠ¡ï¼Œå°±æˆåŠŸè¿”å›ï¼Œå€˜è‹¥çˆ¶ç±»åŠ è½½å™¨æ— æ³•å®Œæˆæ­¤åŠ è½½ä»»åŠ¡ï¼Œå­åŠ è½½å™¨æ‰ä¼šå°è¯•è‡ªå·±å»åŠ è½½ï¼Œè¿™å°±æ˜¯åŒäº²å§”æ´¾æ¨¡å¼ã€‚&lt;/p&gt;&#xA;&lt;p&gt;åŒäº²å§”æ´¾æ¨¡å¼çš„å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Java ç±»éšç€å®ƒçš„ç±»åŠ è½½å™¨ä¸€èµ·å…·å¤‡äº†ä¸€ç§å¸¦æœ‰ä¼˜å…ˆçº§çš„å±‚æ¬¡å…³ç³»ï¼Œé€šè¿‡è¿™ç§å±‚æ¬¡å…³ç³»å¯ä»¥é¿å…ç±»çš„é‡å¤åŠ è½½ï¼Œå½“çˆ¶ç±»åŠ è½½å™¨å·²ç»åŠ è½½è¿‡ä¸€æ¬¡æ—¶ï¼Œæ²¡æœ‰å¿…è¦å­ç±»å†å»åŠ è½½ä¸€æ¬¡ã€‚&lt;/li&gt;&#xA;&lt;li&gt;è€ƒè™‘åˆ°å®‰å…¨å› ç´ ï¼ŒJava æ ¸å¿ƒ Api ç±»ä¸ä¼šè¢«éšæ„æ›¿æ¢ï¼Œæ ¸å¿ƒç±»æ°¸è¿œæ˜¯è¢«ä¸Šå±‚çš„ç±»åŠ è½½å™¨åŠ è½½ã€‚å¦‚æœæˆ‘ä»¬è‡ªå·±å®šä¹‰äº†ä¸€ä¸ª java.lang.String ç±»ï¼Œå®ƒä¼šä¼˜å…ˆå§”æ´¾ç»™ BootStrapClassLoader å»åŠ è½½ï¼ŒåŠ è½½å®Œäº†å°±ç›´æ¥è¿”å›äº†ã€‚&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;å¦‚æœæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª java.lang.ExtStringï¼Œèƒ½è¢«åŠ è½½å—ï¼Ÿç­”æ¡ˆä¹Ÿæ˜¯ä¸èƒ½çš„ï¼Œå› ä¸º java.lang åŒ…æ˜¯æœ‰æƒé™æ§åˆ¶çš„ï¼Œè‡ªå®šä¹‰äº†è¿™ä¸ªåŒ…ï¼Œä¼šæŠ¥ä¸€ä¸ªé”™å¦‚ä¸‹ï¼š&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;java.lang.SecurityException: Prohibited package name: java.lang&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h3 id=&#34;æºç åˆ†æ&#34;&gt;æºç åˆ†æ&lt;/h3&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;protected Class&amp;lt;?&amp;gt; loadClass(String name, boolean resolve)&#xA;        throws ClassNotFoundException&#xA;    {&#xA;        synchronized (getClassLoadingLock(name)) {&#xA;            // é¦–å…ˆï¼Œæ£€æŸ¥è¿™ä¸ªç±»æ˜¯å¦å·²ç»è¢«åŠ è½½äº†ï¼Œæœ€ç»ˆå®ç°æ˜¯ä¸€ä¸ª native æœ¬åœ°å®ç°&#xA;            Class&amp;lt;?&amp;gt; c = findLoadedClass(name);&#xA;            // å¦‚æœè¿˜æ²¡æœ‰è¢«åŠ è½½ï¼Œåˆ™å¼€å§‹åŠ è½½&#xA;            if (c == null) {&#xA;                long t0 = System.nanoTime();&#xA;                try {&#xA;                    // é¦–å…ˆå¦‚æœçˆ¶åŠ è½½å™¨ä¸ä¸ºç©ºï¼Œåˆ™ä½¿ç”¨çˆ¶ç±»åŠ è½½å™¨åŠ è½½ã€‚Launcher ç±»é‡Œæåˆ°çš„ parent å°±åœ¨è¿™é‡Œä½¿ç”¨çš„ã€‚&#xA;                    if (parent != null) {&#xA;                        c = parent.loadClass(name, false);&#xA;                    } else {&#xA;                        // å¦‚æœçˆ¶åŠ è½½å™¨ä¸ºç©ºï¼ˆæ¯”å¦‚ ExtClassLoaderï¼‰ï¼Œå°±ä½¿ç”¨ BootStrapClassloader æ¥åŠ è½½&#xA;                        c = findBootstrapClassOrNull(name);&#xA;                    }&#xA;                } catch (ClassNotFoundException e) {&#xA;                }&#xA;                &#xA;                // å¦‚æœè¿˜æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä½¿ç”¨ findClass ç±»æ¥åŠ è½½ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœæˆ‘ä»¬è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼Œå°±é‡å†™è¿™ä¸ªæ–¹æ³•&#xA;                if (c == null) {&#xA;                    long t1 = System.nanoTime();&#xA;                    c = findClass(name);&#xA;&#xA;                    sun.misc.PerfCounter.getParentDelegationTime().addTime(t1 - t0);&#xA;                    sun.misc.PerfCounter.getFindClassTime().addElapsedTimeFrom(t1);&#xA;                    sun.misc.PerfCounter.getFindClasses().increment();&#xA;                }&#xA;            }&#xA;            if (resolve) {&#xA;                resolveClass(c);&#xA;            }&#xA;            return c;&#xA;        }&#xA;    }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2 id=&#34;å¦‚ä½•ä¸»åŠ¨ç ´ååŒäº²å§”æ´¾æœºåˆ¶&#34;&gt;å¦‚ä½•ä¸»åŠ¨ç ´ååŒäº²å§”æ´¾æœºåˆ¶&lt;/h2&gt;&#xA;&lt;p&gt;åŒäº²å§”æ´¾è¿‡ç¨‹éƒ½æ˜¯åœ¨loadClassæ–¹æ³•ä¸­å®ç°çš„ï¼Œé‚£ä¹ˆ&lt;strong&gt;æƒ³è¦ç ´åè¿™ç§æœºåˆ¶ï¼Œé‚£ä¹ˆå°±è‡ªå®šä¹‰ä¸€ä¸ªç±»åŠ è½½å™¨ï¼Œé‡å†™å…¶ä¸­çš„loadClassæ–¹æ³•ï¼Œä½¿å…¶ä¸è¿›è¡ŒåŒäº²å§”æ´¾å³å¯ã€‚&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Goè¯­è¨€å•ä¾‹æ¨¡å¼</title>
      <link>https://qiref.github.io/post/2023/03/24/go%E8%AF%AD%E8%A8%80%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</link>
      <pubDate>Fri, 24 Mar 2023 10:47:42 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/03/24/go%E8%AF%AD%E8%A8%80%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</guid>
      <description>&lt;h2 id=&#34;é”™è¯¯ç¤ºä¾‹&#34;&gt;é”™è¯¯ç¤ºä¾‹&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;type singleton struct {}&#xA;&#xA;var instance *singleton&#xA;&#xA;func GetInstance() *singleton {&#xA;    if instance == nil {&#xA;        instance = &amp;amp;singleton{}   // ä¸æ˜¯å¹¶å‘å®‰å…¨çš„&#xA;    }&#xA;    return instance&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2 id=&#34;ä¸ä¼˜é›…ç¤ºä¾‹&#34;&gt;ä¸ä¼˜é›…ç¤ºä¾‹&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func GetInstance() *singleton {&#xA;    mu.Lock()                    // å¦‚æœå®ä¾‹å­˜åœ¨æ²¡æœ‰å¿…è¦åŠ é”&#xA;    defer mu.Unlock()&#xA;&#xA;    if instance == nil {&#xA;        instance = &amp;amp;singleton{}&#xA;    }&#xA;    return instance&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;åŠ é”å¯ä»¥ä¿è¯æ¯æ¬¡æ‹¿åˆ°ç›¸åŒå®ä¾‹ï¼Œä½†æ˜¯å¦‚æœå·²ç»å®ä¾‹åŒ–ï¼Œå†è°ƒç”¨å‡½æ•°ï¼Œä¾ç„¶æœ‰é”å­˜åœ¨ï¼Œæµªè´¹æ€§èƒ½ï¼Œä¸å¤Ÿä¼˜é›…ï¼›&lt;/p&gt;&#xA;&lt;h2 id=&#34;ä¼˜é›…ç¤ºä¾‹&#34;&gt;ä¼˜é›…ç¤ºä¾‹&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;import (&#xA;    &amp;quot;sync&amp;quot;&#xA;)&#xA;&#xA;type singleton struct {}&#xA;&#xA;var instance *singleton&#xA;var once sync.Once&#xA;&#xA;func GetInstance() *singleton {&#xA;    once.Do(func() {&#xA;        instance = &amp;amp;singleton{}&#xA;    })&#xA;    return instance&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;è¯¥å®ç°åˆ©ç”¨&lt;code&gt;sync.Once&lt;/code&gt;ç±»å‹å»åŒæ­¥å¯¹&lt;code&gt;GetInstance()&lt;/code&gt;çš„è®¿é—®ï¼Œå¹¶ç¡®ä¿æˆ‘ä»¬çš„ç±»å‹ä»…è¢«åˆå§‹åŒ–ä¸€æ¬¡ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Flinkåå‹</title>
      <link>https://qiref.github.io/post/2023/03/23/flink%E5%8F%8D%E5%8E%8B/</link>
      <pubDate>Thu, 23 Mar 2023 16:37:37 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/03/23/flink%E5%8F%8D%E5%8E%8B/</guid>
      <description>&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯åå‹&#34;&gt;ä»€ä¹ˆæ˜¯åå‹&lt;/h2&gt;&#xA;&lt;p&gt;å¦‚æœä½ çœ‹åˆ°ä¸€ä¸ª Task å‘ç”ŸÂ &lt;strong&gt;åå‹è­¦å‘Š&lt;/strong&gt;ï¼ˆä¾‹å¦‚ï¼šÂ &lt;code&gt;High&lt;/code&gt;ï¼‰ï¼Œæ„å‘³ç€å®ƒç”Ÿäº§æ•°æ®çš„é€Ÿç‡æ¯”ä¸‹æ¸¸ Task æ¶ˆè´¹æ•°æ®çš„é€Ÿç‡è¦å¿«ã€‚ åœ¨å·¥ä½œæµä¸­æ•°æ®è®°å½•æ˜¯ä»ä¸Šæ¸¸å‘ä¸‹æ¸¸æµåŠ¨çš„ï¼ˆä¾‹å¦‚ï¼šä» Source åˆ° Sinkï¼‰ã€‚åå‹æ²¿ç€ç›¸åçš„æ–¹å‘ä¼ æ’­ï¼Œæ²¿ç€æ•°æ®æµå‘ä¸Šæ¸¸ä¼ æ’­ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ä»¥ä¸€ä¸ªç®€å•çš„Â &lt;code&gt;Source -&amp;gt; Sink&lt;/code&gt;Â Job ä¸ºä¾‹ã€‚å¦‚æœçœ‹åˆ°Â &lt;code&gt;Source&lt;/code&gt;Â å‘ç”Ÿäº†è­¦å‘Šï¼Œæ„å‘³ç€Â &lt;code&gt;Sink&lt;/code&gt;Â æ¶ˆè´¹æ•°æ®çš„é€Ÿç‡æ¯”Â &lt;code&gt;Source&lt;/code&gt;Â ç”Ÿäº§æ•°æ®çš„é€Ÿç‡è¦æ…¢ã€‚Â &lt;code&gt;Sink&lt;/code&gt;Â æ­£åœ¨å‘ä¸Šæ¸¸çš„Â &lt;code&gt;Source&lt;/code&gt;Â ç®—å­äº§ç”Ÿåå‹ã€‚&lt;/p&gt;&#xA;&lt;p&gt;Taskï¼ˆSubTaskï¼‰çš„æ¯ä¸ªå¹¶è¡Œå®ä¾‹éƒ½å¯ä»¥ç”¨ä¸‰ä¸ªä¸€ç»„çš„æŒ‡æ ‡è¯„ä»·ï¼š&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;backPressureTimeMsPerSecond&lt;/code&gt;ï¼Œsubtask è¢«åå‹çš„æ—¶é—´&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;idleTimeMsPerSecond&lt;/code&gt;ï¼Œsubtask ç­‰å¾…æŸç±»å¤„ç†çš„æ—¶é—´&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;busyTimeMsPerSecond&lt;/code&gt;ï¼Œsubtask å®é™…å·¥ä½œæ—¶é—´ åœ¨ä»»ä½•æ—¶é—´ç‚¹ï¼Œè¿™ä¸‰ä¸ªæŒ‡æ ‡ç›¸åŠ éƒ½çº¦ç­‰äº&lt;code&gt;1000ms&lt;/code&gt;ã€‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;æŒ‡æ ‡å€¼è¯´æ˜ï¼š&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;OK&lt;/strong&gt;: 0 &amp;lt;= æ¯”ä¾‹ &amp;lt;= 0.10&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;LOW&lt;/strong&gt;: 0.10 &amp;lt; æ¯”ä¾‹ &amp;lt;= 0.5&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;HIGH&lt;/strong&gt;: 0.5 &amp;lt; æ¯”ä¾‹ &amp;lt;= 1&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;åå‹é—®é¢˜å®šä½&#34;&gt;åå‹é—®é¢˜å®šä½&lt;/h2&gt;&#xA;&lt;p&gt;å¯ä»¥çœ‹å„ä¸ªoperatorçš„metricsçš„æŒ‡æ ‡ï¼Œæ¯”å¦‚ï¼šbuffers.outPoolUsageã€buffers.inPoolUsageã€buffers.inputFloatingBuffersUsageã€buffers.inputExclusiveBuffersUsageï¼›&lt;/p&gt;&#xA;&lt;p&gt;æ¥æ”¶ç«¯å…±ç”¨ä¸€ä¸ªLocalBufferPoolï¼Œæ¥æ”¶ç«¯æ¯ä¸ªChannelåœ¨åˆå§‹åŒ–é˜¶æ®µéƒ½ä¼šåˆ†é…å›ºå®šæ•°é‡çš„Buffer(Exclusive Buffer)ã€‚å¦‚æœæŸä¸€æ—¶åˆ»æ¥æ”¶ç«¯æ¥å—åˆ°çš„æ•°é‡å¤ªå¤šï¼ŒExclusive Bufferå°±ä¼šè€—å°½ï¼Œæ­¤æ—¶å°±ä¼šå‘BufferPoolç”³è¯·å‰©ä½™çš„Floating Bufferï¼ˆé™¤äº†Exclusive Bufferï¼Œå…¶ä»–çš„éƒ½æ˜¯Floating Buffer,å¤‡ç”¨Bufferï¼‰ï¼›&lt;code&gt;inPoolUsage = floatingBuffersUsage + exclusiveBuffersUsage&lt;/code&gt;&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;è‹¥ inPoolUsage ä½ï¼Œè€Œ outPoolUsage ä½ï¼Œåˆ™è¯´æ˜å®Œå…¨æ²¡æœ‰èƒŒå‹ç°è±¡ã€‚&lt;/li&gt;&#xA;&lt;li&gt;è‹¥ inPoolUsage ä½ï¼Œè€Œ outPoolUsage é«˜ï¼Œåˆ™è¯´æ˜å¤„äºä¸´æ—¶çŠ¶æ€ï¼Œå¯èƒ½æ˜¯èƒŒå‹åˆšå¼€å§‹ï¼Œä¹Ÿå¯èƒ½æ˜¯åˆšç»“æŸï¼Œéœ€è¦å†è§‚å¯Ÿã€‚&lt;/li&gt;&#xA;&lt;li&gt;è‹¥ inPoolUsage é«˜ï¼Œè€Œ outPoolUsage ä½ï¼Œé‚£ä¹ˆé€šå¸¸æƒ…å†µä¸‹è¿™ä¸ªç®—å­å°±æ˜¯èƒŒå‹çš„æ ¹æºäº†ã€‚&lt;/li&gt;&#xA;&lt;li&gt;è‹¥ inPoolUsage é«˜ï¼Œè€Œ outPoolUsage é«˜ï¼Œåˆ™è¯´æ˜è¿™ä¸ªç®—å­æ˜¯è¢«å…¶ä»–ä¸‹æ¸¸ç®—å­åå‹è€Œæ¥çš„ï¼Œå¹¶ä¸æ˜¯å…ƒå‡¶ã€‚&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;åœ¨åå‹å®šä½è¿‡ç¨‹ä¸­ï¼Œå»ºè®®å…³é—­ Operator Chaining ä¼˜åŒ–ï¼Œè¿™æ ·æ‰€æœ‰çš„ç®—å­å¯ä»¥å•ç‹¬æ‹†åˆ†å‡ºæ¥ï¼Œä¸ä¼šç›¸äº’å¹²æ‰°ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Arthasç«ç„°å›¾ä½¿ç”¨</title>
      <link>https://qiref.github.io/post/2023/03/22/arthas%E7%81%AB%E7%84%B0%E5%9B%BE%E4%BD%BF%E7%94%A8/</link>
      <pubDate>Wed, 22 Mar 2023 21:29:21 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/03/22/arthas%E7%81%AB%E7%84%B0%E5%9B%BE%E4%BD%BF%E7%94%A8/</guid>
      <description>&lt;h2 id=&#34;arthas-ç«ç„°å›¾ç›¸å…³å‘½ä»¤&#34;&gt;arthas ç«ç„°å›¾ç›¸å…³å‘½ä»¤&lt;/h2&gt;&#xA;&lt;p&gt;&lt;code&gt;arthas&lt;/code&gt; ä¸­ &lt;code&gt;profiler&lt;/code&gt; å‘½ä»¤æ”¯æŒç”Ÿæˆåº”ç”¨çƒ­ç‚¹çš„ç«ç„°å›¾ã€‚æœ¬è´¨ä¸Šæ˜¯é€šè¿‡ä¸æ–­çš„é‡‡æ ·ï¼Œç„¶åæŠŠæ”¶é›†åˆ°çš„é‡‡æ ·ç»“æœç”Ÿæˆç«ç„°å›¾ã€‚&lt;/p&gt;&#xA;&lt;p&gt;å¯åŠ¨arthasï¼š&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;java -jar arthas-boot.jar&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;å¼€å§‹æ”¶é›†ç«ç„°å›¾ï¼š&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[arthas@1]$ profiler start&#xA;Profiling started&#xA;[arthas@1]$ profiler status&#xA;Profiling is running for 6 seconds&#xA;[arthas@1]$ profiler status&#xA;Profiling is running for 27 seconds&#xA;[arthas@1]$ profiler getSamples &#xA;2&#xA;[arthas@1]$ profiler getSamples &#xA;4&#xA;[arthas@1]$ profiler stop --file /tmp/cpu-result-1.html&#xA;OK&#xA;profiler output file: /tmp/cpu-result-1.html&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;å‘½ä»¤è¯´æ˜ï¼š&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;profiler start&lt;/code&gt; å¼€å¯ç«ç„°å›¾æ”¶é›†ï¼›&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;profiler status&lt;/code&gt; æŸ¥çœ‹ç«ç„°å›¾æ”¶é›†çš„çŠ¶æ€ï¼Œä¼šæ˜¾ç¤ºå½“å‰å·²ç»é‡‡é›†å¤šé•¿æ—¶é—´ï¼›&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;profiler getSamples&lt;/code&gt; è·å–å·²é‡‡é›†çš„ sample çš„æ•°é‡ï¼Œç†è®ºä¸Šï¼Œsample è¶Šå¤šï¼Œç»“æœè¶Šå‡†ç¡®ï¼›&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;profiler stop  --file /tmp/cpu-result-1.html&lt;/code&gt; åœæ­¢å½“å‰ç«ç„°å›¾æ”¶é›†ï¼Œä¼šè¾“å‡ºåˆ°æ–‡ä»¶ä¸­å»ï¼Œç”Ÿæˆçš„æ–‡ä»¶å°±æ˜¯ç«ç„°å›¾ï¼›&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;å…³é”®å‚æ•°è¯´æ˜&#34;&gt;å…³é”®å‚æ•°è¯´æ˜&lt;/h3&gt;&#xA;&lt;h4 id=&#34;event&#34;&gt;event&lt;/h4&gt;&#xA;&lt;p&gt;-e, &amp;ndash;event &lt;value&gt; é»˜è®¤é‡‡é›† CPU ä¿¡æ¯ï¼Œå¯è®¾ï¼šcpu, alloc, lock, cache-misses etc&lt;/p&gt;</description>
    </item>
    <item>
      <title>Flink Appendæµã€Retractæµã€Upsertæµ</title>
      <link>https://qiref.github.io/post/2022/03/13/flink-append%E6%B5%81retract%E6%B5%81upsert%E6%B5%81/</link>
      <pubDate>Sun, 13 Mar 2022 11:16:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2022/03/13/flink-append%E6%B5%81retract%E6%B5%81upsert%E6%B5%81/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼š ä»‹ç» Flink ä¸­ Appendæµã€Retractæµã€Upsertæµçš„å«ä¹‰ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#append%E6%B5%81&#34;&gt;Appendæµ&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#retract%E6%B5%81&#34;&gt;Retractæµ&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#upsert%E6%B5%81&#34;&gt;Upsertæµ&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;appendæµ&#34;&gt;Appendæµ&lt;/h2&gt;&#xA;&lt;p&gt;åœ¨ Append æµä¸­ï¼Œä»…é€šè¿‡ &lt;code&gt;INSERT&lt;/code&gt; æ“ä½œä¿®æ”¹çš„åŠ¨æ€è¡¨ï¼Œå¯ä»¥é€šè¿‡è¾“å‡ºæ’å…¥çš„è¡Œè½¬æ¢ä¸ºæµã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;retractæµ&#34;&gt;Retractæµ&lt;/h2&gt;&#xA;&lt;p&gt;retract æµåŒ…å«ä¸¤ç§ç±»å‹çš„ messageï¼š add messages å’Œ retract messages ã€‚&lt;/p&gt;&#xA;&lt;p&gt;é€šè¿‡å°†INSERT æ“ä½œç¼–ç ä¸º add messageã€å°† &lt;code&gt;DELETE&lt;/code&gt; æ“ä½œç¼–ç ä¸º retract messageã€å°† &lt;code&gt;UPDATE&lt;/code&gt; æ“ä½œç¼–ç ä¸ºæ›´æ–°(å…ˆå‰)è¡Œçš„ retract message å’Œæ›´æ–°(æ–°)è¡Œçš„ add messageï¼Œå°†åŠ¨æ€è¡¨è½¬æ¢ä¸º retract æµã€‚&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;OPERATOR&lt;/th&gt;&#xA;          &lt;th&gt;ENCODE&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;insert&lt;/td&gt;&#xA;          &lt;td&gt;add&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;update&lt;/td&gt;&#xA;          &lt;td&gt;retract -&amp;gt; add&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;delete&lt;/td&gt;&#xA;          &lt;td&gt;retract&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;h2 id=&#34;upsertæµ&#34;&gt;Upsertæµ&lt;/h2&gt;&#xA;&lt;p&gt;upsert æµåŒ…å«ä¸¤ç§ç±»å‹çš„ messageï¼š upsert messages å’Œdelete messagesã€‚&lt;/p&gt;&#xA;&lt;p&gt;è½¬æ¢ä¸º upsert æµçš„åŠ¨æ€è¡¨éœ€è¦(å¯èƒ½æ˜¯ç»„åˆçš„)å”¯ä¸€é”®ã€‚é€šè¿‡å°† &lt;code&gt;INSERT&lt;/code&gt; å’Œ &lt;code&gt;UPDATE&lt;/code&gt; æ“ä½œç¼–ç ä¸º upsert messageï¼Œå°† &lt;code&gt;DELETE&lt;/code&gt; æ“ä½œç¼–ç ä¸º delete message ï¼Œå°†å…·æœ‰å”¯ä¸€é”®çš„åŠ¨æ€è¡¨è½¬æ¢ä¸ºæµã€‚æ¶ˆè´¹æµçš„ç®—å­éœ€è¦çŸ¥é“å”¯ä¸€é”®çš„å±æ€§ï¼Œä»¥ä¾¿æ­£ç¡®åœ°åº”ç”¨ messageã€‚ä¸ retract æµçš„ä¸»è¦åŒºåˆ«åœ¨äº &lt;code&gt;UPDATE&lt;/code&gt; æ“ä½œæ˜¯ç”¨å•ä¸ª message ç¼–ç çš„ï¼Œå› æ­¤æ•ˆç‡æ›´é«˜ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Flink Checkpointæœºåˆ¶</title>
      <link>https://qiref.github.io/post/2022/03/04/flink-checkpoint%E6%9C%BA%E5%88%B6/</link>
      <pubDate>Fri, 04 Mar 2022 11:16:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2022/03/04/flink-checkpoint%E6%9C%BA%E5%88%B6/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼š å¦‚æœæŠŠè¿è¡Œä¸­çš„ Flink ç¨‹åºæ¯”åšä¸€æ¡æ²³æµï¼ŒCheckpoint å°±æ˜¯ä¸€ä¸ªç›¸æœºï¼Œå®šæœŸåœ°å¯¹æ²³æµè¿›è¡Œæ‹ç…§ï¼Œè®°å½•æ²³æ°´çš„çŠ¶æ€ã€‚æœ¬æ–‡ä»¥è‡ªé¡¶å‘ä¸‹çš„è§†è§’ï¼Œä»ç†è®ºåˆ°å®ç°ï¼Œåˆ†æ Flink ä¸­çš„ Checkpoint æœºåˆ¶ï¼›&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80&#34;&gt;ç†è®ºåŸºç¡€&lt;/a&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#asynchronous-barrier-snapshotting&#34;&gt;asynchronous barrier snapshotting&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E7%AE%97%E6%B3%95%E6%AD%A5%E9%AA%A4&#34;&gt;ç®—æ³•æ­¥éª¤&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E7%AE%97%E6%B3%95%E5%9C%A8-flink-%E4%B8%AD%E7%9A%84%E5%AE%9E%E7%8E%B0&#34;&gt;ç®—æ³•åœ¨ Flink ä¸­çš„å®ç°&lt;/a&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#flink-checkpoint-%E6%95%B4%E4%BD%93%E6%B5%81%E7%A8%8B&#34;&gt;Flink Checkpoint æ•´ä½“æµç¨‹&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#flink-checkpoint-barrier-alignment&#34;&gt;Flink Checkpoint Barrier Alignment&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#flink-checkpoint-%E4%BD%BF%E7%94%A8&#34;&gt;Flink Checkpoint ä½¿ç”¨&lt;/a&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#flink-job-%E9%87%8D%E5%90%AF%E7%AD%96%E7%95%A5&#34;&gt;Flink Job é‡å¯ç­–ç•¥&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#flink-job-%E5%BC%80%E5%90%AF-checkpoint&#34;&gt;Flink Job å¼€å¯ Checkpoint&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;ç†è®ºåŸºç¡€&#34;&gt;ç†è®ºåŸºç¡€&lt;/h2&gt;&#xA;&lt;h3 id=&#34;asynchronous-barrier-snapshotting&#34;&gt;asynchronous barrier snapshotting&lt;/h3&gt;&#xA;&lt;p&gt;Flink Checkpoint æœºåˆ¶æ˜¯å¼‚æ­¥å±éšœå¿«ç…§ï¼ˆasynchronous barrier snapshotting, ABSï¼‰ç®—æ³•çš„ä¸€ç§å®ç°ï¼Œè€Œ ABS ç®—æ³•åŸºäº &lt;a href=&#34;https://archieyao.github.io/posts/2023-05-08-chandy-lamport%E7%AE%97%E6%B3%95/&#34;&gt;Chandy-Lamport&lt;/a&gt; çš„å˜ç§ï¼Œä½†æ•°æ®æ¨¡å‹æ˜¯è¿˜æ˜¯åŸºäº  Chandy-Lamportï¼›&lt;/p&gt;&#xA;&lt;p&gt;åœ¨ flink ä¸­ï¼Œä½œä¸šç®—å­è¢«æŠ½è±¡ä¸º DAGï¼ŒèŠ‚ç‚¹ä¸º operatorï¼Œè¾¹æ˜¯æ¯ä¸€ä¸ª operator çš„ streamï¼ˆchannelï¼‰ï¼Œä¸ Chandy-Lamport çš„æ•°æ®æ¨¡å‹æ­£å¥½å»åˆï¼›&lt;/p&gt;&#xA;&lt;p&gt;ABS ç®—æ³•æŠŠ Chandy-Lamport ä¸­çš„ marker æ¶ˆæ¯æ¢æˆäº† barrierï¼Œä½œç”¨æ˜¯ä¸€è‡´çš„ï¼Œéƒ½æ˜¯åˆ‡åˆ† snapshotï¼›&lt;/p&gt;&#xA;&lt;p&gt;ABS ç®—æ³• ä¸­ asynchronous æ˜¯å¼‚æ­¥çš„æ„æ€ï¼Œå½“ç®—å­æ”¶é½ barrier å¹¶è§¦å‘å¿«ç…§ä¹‹åï¼Œä¸ä¼šç­‰å¾…å¿«ç…§æ•°æ®å…¨éƒ¨å†™å…¥çŠ¶æ€åç«¯ï¼Œè€Œæ˜¯ä¸€è¾¹åå°å†™å…¥ï¼Œä¸€è¾¹ç«‹åˆ»ç»§ç»­å¤„ç†æ•°æ®æµï¼Œå¹¶å°† barrier å‘é€åˆ°ä¸‹æ¸¸ï¼Œå®ç°äº†æœ€å°åŒ–å»¶è¿Ÿã€‚å½“ç„¶ï¼Œå¼•å…¥å¼‚æ­¥æ€§ä¹‹åï¼Œæ‰€æœ‰æœ‰çŠ¶æ€çš„ç®—å­éƒ½éœ€è¦ä¸ŠæŠ¥ ackï¼Œå¦åˆ™ JobManager å°±æ— æ³•ç¡®è®¤ä¸€æ¬¡ snapshot æ˜¯å¦å®Œæˆã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Flinkæ—¶é—´è¯­ä¹‰</title>
      <link>https://qiref.github.io/post/2022/02/25/flink%E6%97%B6%E9%97%B4%E8%AF%AD%E4%B9%89/</link>
      <pubDate>Fri, 25 Feb 2022 11:16:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2022/02/25/flink%E6%97%B6%E9%97%B4%E8%AF%AD%E4%B9%89/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼š ç†è§£æµå¤„ç†ä¸­çš„æ—¶é—´è¯­ä¹‰ï¼Œå¤„ç†æ—¶é—´å’Œäº‹ä»¶æ—¶é—´ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://qiref.github.io/assets/img/stream-time.png&#34; alt=&#34;stream-time&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;å¦‚å›¾ï¼Œåœ¨æ— ç•Œæ•°æ®ä¸­ï¼Œéšç€æ—¶é—´æ¨ç§»ï¼Œæ•°æ®ä¸€ç›´äº§ç”Ÿï¼Œä½†çœŸå®æƒ…å†µä¸­ï¼Œå¾€å¾€åœ¨ä¸€æ®µæ—¶é—´å†…çš„æ•°æ®éƒ½æ˜¯ä¸å‡åŒ€çš„ï¼Œå¾€å¾€ä¼šå‡ºç°æ„å¤–çš„æƒ…å†µï¼Œæ¯”å¦‚åœ¨åœ°é“æ— ä¿¡å·çš„æƒ…å†µä¸‹ï¼Œæ•°æ®è™½ç„¶äº§ç”Ÿï¼Œä½†æ˜¯ä¼šæœ‰ä¸€æ®µæ—¶é—´å»¶è¿Ÿæ‰ä¼šåˆ°è¾¾æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¾‹å¦‚è™šçº¿æ¡†ä¸­çš„æ•°æ®ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;å¤„ç†æ—¶é—´&#34;&gt;å¤„ç†æ—¶é—´&lt;/h2&gt;&#xA;&lt;p&gt;å¤„ç†æ—¶é—´å°±æ˜¯æµè®¡ç®—å¤„ç†ç¨‹åºçš„æœºå™¨æœ¬åœ°æ—¶é—´ï¼ŒæŒ‰ç…§è¿™ç§æ—¶é—´è¯­ä¹‰ï¼Œåœ¨æµè®¡ç®—çš„æ—¶é—´çª—å£ä¸­ï¼Œä¸Šè¿°ä¾‹å­ä¸­çš„æ•°æ®ä¼šæŒ‰è¿™æ ·åˆ†å¸ƒï¼š&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://qiref.github.io/assets/img/process-time.png&#34; alt=&#34;process-time&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;åŸºäºæœ¬åœ°æ—¶é—´ï¼Œåœ¨ç¬¬ä¸€åˆ†é’Ÿï¼Œæµå¤„ç†ç¨‹åºåªæ”¶åˆ°äº† &lt;code&gt;15&lt;/code&gt;ã€&lt;code&gt;18&lt;/code&gt; ä¸¤ä¸ªæ•°æ®ï¼Œåç»­æ•°æ®ç”±äºç½‘ç»œåŸå› ï¼Œåœ¨ 8:01:00 ä¹‹åæ‰åˆ°è¾¾æµè®¡ç®—ç¨‹åºï¼Œæ‰€ä»¥åç»­æ•°æ®åœ¨ä¸‹ä¸€ä¸ªæ—¶é—´çª—å£å†…ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;äº‹ä»¶æ—¶é—´&#34;&gt;äº‹ä»¶æ—¶é—´&lt;/h2&gt;&#xA;&lt;p&gt;äº‹ä»¶æ—¶é—´å°±æ˜¯äº‹ä»¶çš„å‘ç”Ÿæ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´é€šå¸¸ä¼šåœ¨æ•°æ®ä¸­ï¼ŒæŒ‰ç…§è¿™ç§æ—¶é—´è¯­ä¹‰ï¼Œåœ¨æµè®¡ç®—çš„æ—¶é—´çª—å£ä¸­ï¼Œä¸Šè¿°ä¾‹å­ä¸­çš„æ•°æ®ä¼šæŒ‰è¿™æ ·åˆ†å¸ƒï¼š&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://qiref.github.io/assets/img/event-time.png&#34; alt=&#34;event-time&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;åŸºäºäº‹ä»¶æ—¶é—´ï¼Œåœ¨ç¬¬ä¸€åˆ†é’Ÿï¼Œæ•°æ®åº”è¯¥æ˜¯ï¼š&lt;code&gt;15&lt;/code&gt; &lt;code&gt;18&lt;/code&gt; &lt;code&gt;9&lt;/code&gt; &lt;code&gt;10&lt;/code&gt; ï¼Œåœ¨ç¬¬äºŒåˆ†é’Ÿï¼Œæ•°æ®åº”è¯¥æ˜¯ï¼š&lt;code&gt;11&lt;/code&gt; ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;watermark&#34;&gt;watermark&lt;/h2&gt;&#xA;&lt;p&gt;ç”±äºäº‹ä»¶æ—¶é—´çš„çª—å£å’Œäº‹ä»¶ç›¸å…³ï¼Œé‚£ä¹ˆå¦‚æœä¸‹ä¸€ä¸ªäº‹ä»¶è¿˜æœªåˆ°è¾¾ï¼Œæµè®¡ç®—ç¨‹åºæ˜¯å¦å°±æ— é™ç­‰å¾…å‘¢ï¼Ÿ&lt;/p&gt;&#xA;&lt;p&gt;ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œflink å¼•å…¥ watermark çš„æ¦‚å¿µï¼Œå‡å¦‚å®šä¹‰ watermark ä¸º Tï¼Œé‚£ä¹ˆåœ¨æ¯ä¸€ä¸ªæ—¶é—´çª—å£ä¸­ï¼ŒT éƒ½ä¼šå•è°ƒé€’å¢ &lt;code&gt;T &amp;lt; T1&lt;/code&gt;ï¼Œå¹¶ä¸”ä¸‹ä¸€ä¸ªæ—¶é—´çª—å£ä¸­çš„äº‹ä»¶æ—¶é—´å¿…é¡»å¤§äº &lt;code&gt;T1&lt;/code&gt;ï¼Œé‚£ä¹ˆæ¯ä¸€ä¸ªæ—¶é—´çª—å£çš„æ•°æ®å°±æ˜¯ä»‹äº &lt;code&gt;T-T1&lt;/code&gt;ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>FlinkåŸºæœ¬æ¶æ„</title>
      <link>https://qiref.github.io/post/2022/02/23/flink%E5%9F%BA%E6%9C%AC%E6%9E%B6%E6%9E%84/</link>
      <pubDate>Wed, 23 Feb 2022 11:16:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2022/02/23/flink%E5%9F%BA%E6%9C%AC%E6%9E%B6%E6%9E%84/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼š é¸Ÿç° Flink æ¶æ„ï¼Œåˆ†æ Flink å†…éƒ¨ç»„ä»¶å·¥ä½œæœºåˆ¶ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#flink-%E6%9E%B6%E6%9E%84%E5%9B%BE&#34;&gt;Flink æ¶æ„å›¾&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E6%8F%90%E4%BA%A4%E4%BD%9C%E4%B8%9A%E6%B5%81%E7%A8%8B&#34;&gt;æäº¤ä½œä¸šæµç¨‹&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#flink-%E9%9B%86%E7%BE%A4%E6%A8%A1%E5%BC%8F&#34;&gt;Flink é›†ç¾¤æ¨¡å¼&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#jobmanager&#34;&gt;JobManager&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#taskmanager&#34;&gt;Taskmanager&lt;/a&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E7%AE%97%E5%AD%90%E9%93%BE&#34;&gt;ç®—å­é“¾&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#slot&#34;&gt;Slot&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#task-%E6%95%B0%E6%8D%AE%E4%BA%A4%E6%8D%A2%E7%AD%96%E7%95%A5&#34;&gt;task æ•°æ®äº¤æ¢ç­–ç•¥&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;flink-æ¶æ„å›¾&#34;&gt;Flink æ¶æ„å›¾&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://qiref.github.io/assets/img/flink-struct.svg&#34; alt=&#34;Flinkæ¶æ„å›¾&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;ä¸€ä¸ªå®Œæ•´çš„ Flink é›†ç¾¤ç”±ä¸€ä¸ª Jobmanager å’Œè‹¥å¹²ä¸ª Taskmanager ç»„æˆï¼ŒJobmanager ä¸»è¦è´Ÿè´£è°ƒåº¦ task ä»¥åŠ åè°ƒ Checkpointã€‚Taskmanager åˆ™è´Ÿè´£å…·ä½“çš„ task æ‰§è¡Œï¼Œä»¥åŠæ•°æ®æµçš„äº¤æ¢ã€‚&lt;/p&gt;&#xA;&lt;p&gt;å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å¯åŠ¨ JobManager å’Œ TaskManagerï¼šç›´æ¥åœ¨æœºå™¨ä¸Šä½œä¸ºstandalone é›†ç¾¤å¯åŠ¨ã€åœ¨å®¹å™¨ä¸­å¯åŠ¨ã€æˆ–è€…é€šè¿‡YARNç­‰èµ„æºæ¡†æ¶ç®¡ç†å¹¶å¯åŠ¨ã€‚TaskManager è¿æ¥åˆ° JobManagersï¼Œå®£å¸ƒè‡ªå·±å¯ç”¨ï¼Œå¹¶è¢«åˆ†é…å·¥ä½œã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;æäº¤ä½œä¸šæµç¨‹&#34;&gt;æäº¤ä½œä¸šæµç¨‹&lt;/h2&gt;&#xA;&lt;p&gt;ä»¥ä¸€ä¸ªä½œä¸šæäº¤çš„æµç¨‹æ¥è¯´æ˜ Flink å„ä¸ªç»„ä»¶æ˜¯å¦‚ä½•äº¤äº’å’Œå·¥ä½œçš„ï¼š&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://qiref.github.io/assets/img/flink-struct-1.svg&#34; alt=&#34;æäº¤ä½œä¸šæµç¨‹&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;flink-é›†ç¾¤æ¨¡å¼&#34;&gt;Flink é›†ç¾¤æ¨¡å¼&lt;/h2&gt;&#xA;&lt;p&gt;Flink é›†ç¾¤ç±»å‹ä¸€èˆ¬æœ‰ä»¥ä¸‹å‡ ç§ï¼š&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Flink Session é›†ç¾¤&lt;/p&gt;&#xA;&lt;p&gt;è¿™ç§æ¨¡å¼ä¸‹ï¼Œé›†ç¾¤è‡ªåˆ›å»ºå¼€å§‹ï¼Œæœ€ååˆ°é›†ç¾¤ç”Ÿå‘½å‘¨æœŸç»“æŸï¼Œä¸å—ä½œä¸šå› ç´ å½±å“ï¼› é›†ç¾¤ä¸‹çš„å¤šä¸ªä½œä¸šå…±äº« å†…å­˜ã€ç½‘ç»œã€ç£ç›˜ç­‰èµ„æºï¼Œå¦‚æœé›†ç¾¤å‡ºç°å¼‚å¸¸ï¼Œè¯¥é›†ç¾¤ä¸‹çš„æ‰€æœ‰ä½œä¸šéƒ½ä¼šæ”¶åˆ°å½±å“ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ä¼˜ç‚¹ï¼šæäº¤ä½œä¸šé€Ÿåº¦å¾ˆå¿«ï¼Œæ— éœ€æå‰ç”³è¯·èµ„æºï¼› å¹¶ä¸”èµ„æºåˆ©ç”¨ç‡è¾ƒé«˜ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ç¼ºç‚¹ï¼šä½œä¸šä¹‹é—´éš”ç¦»æ€§è¾ƒå·®ï¼Œæ¨ªå‘æ‰©å±•ä¸å¤ªæ–¹ä¾¿ã€‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Flink job é›†ç¾¤&lt;/p&gt;&#xA;&lt;p&gt;è¿™ç§æ¨¡å¼ä¹Ÿç§° pre-job æ¨¡å¼ï¼Œé›†ç¾¤äº¤ç”± èµ„æºç®¡ç†å™¨æ‰˜ç®¡ï¼Œä¾‹å¦‚ Yarn ï¼Œéœ€è¦è¿è¡Œä½œä¸šï¼Œç¬¬ä¸€æ­¥ç”³è¯·èµ„æºï¼Œå¯åŠ¨ä¸€ä¸ª Flink é›†ç¾¤ï¼Œç¬¬äºŒæ­¥æäº¤ä½œä¸šï¼Œè¿™ç§æ¨¡å¼ä¸‹ï¼Œæ¯ä¸ªä½œä¸šä¼šç‹¬äº«ä¸€ä¸ª Flink é›†ç¾¤ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Flink WordCount</title>
      <link>https://qiref.github.io/post/2022/02/22/flink-wordcount/</link>
      <pubDate>Tue, 22 Feb 2022 18:16:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2022/02/22/flink-wordcount/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šFlink ä»é›¶å¼€å§‹ï¼Œä¸‹è½½é›†ç¾¤å¹¶è¿è¡Œ WordCount Jobã€‚ å®Œæ•´ä»£ç åœ°å€ï¼š &lt;a href=&#34;https://github.com/ArchieYao/flink-learning/tree/main/hello-world&#34;&gt;https://github.com/ArchieYao/flink-learning/tree/main/hello-world&lt;/a&gt;&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;flink-æœ¬åœ°æ¨¡å¼é›†ç¾¤å®‰è£…&#34;&gt;Flink æœ¬åœ°æ¨¡å¼é›†ç¾¤å®‰è£…&lt;/h2&gt;&#xA;&lt;p&gt;è¿è¡ŒFlinkï¼Œéœ€æå‰å®‰è£…å¥½ Java 8 æˆ–è€… Java 11ã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;wget https://dlcdn.apache.org/flink/flink-1.14.3/flink-1.14.3-bin-scala_2.12.tgz&#xA;tar -zxvf flink-1.14.3-bin-scala_2.12.tgz&#xA;cd flink-1.14.3&#xA;./bin/start-cluster.sh&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;è¿è¡ŒæˆåŠŸåï¼Œå¯ä»¥åœ¨ IP:8081 è®¿é—® Flink-UI&lt;/p&gt;&#xA;&lt;h2 id=&#34;flink-word-count-job&#34;&gt;Flink Word Count job&lt;/h2&gt;&#xA;&lt;p&gt;source æ˜¯å¤šæ®µæ–‡æœ¬ï¼Œç±»å‹ï¼š DataSource&lt;String&gt; ï¼Œç»è¿‡ flatMapï¼Œåˆ‡åˆ†ä¸ºæ¯ä¸ªå•è¯ï¼Œç„¶åè½¬æ¢ä¸ºï¼š(val,n) çš„æ•°æ®ï¼Œç„¶åæ ¹æ® val åˆ†ç»„ç»Ÿè®¡ï¼Œå¾—å‡º sum(n) çš„å€¼ã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public static void main(String[] args) throws Exception {&#xA;    // åˆ›å»ºFlinkä»»åŠ¡è¿è¡Œç¯å¢ƒ&#xA;    final ExecutionEnvironment executionEnvironment =&#xA;            ExecutionEnvironment.getExecutionEnvironment();&#xA;&#xA;    // åˆ›å»ºDataSetï¼Œæ•°æ®æ˜¯ä¸€è¡Œä¸€è¡Œæ–‡æœ¬&#xA;    DataSource&amp;lt;String&amp;gt; text =&#xA;            executionEnvironment.fromElements(&#xA;                    &amp;quot;Licensed to the Apache Software Foundation (ASF) under one&amp;quot;,&#xA;                    &amp;quot;or more contributor license agreements.  See the NOTICE file&amp;quot;,&#xA;                    &amp;quot;distributed with this work for additional information&amp;quot;,&#xA;                    &amp;quot;regarding copyright ownership.  The ASF licenses this file&amp;quot;,&#xA;                    &amp;quot;to you under the Apache License, Version 2.0 (the&amp;quot;);&#xA;&#xA;    // é€šè¿‡Flinkå†…ç½®è½¬æ¢å‡½æ•°è¿›è¡Œè®¡ç®—&#xA;    AggregateOperator&amp;lt;Tuple2&amp;lt;String, Integer&amp;gt;&amp;gt; sum =&#xA;            text.flatMap(&#xA;                            new FlatMapFunction&amp;lt;String, Tuple2&amp;lt;String, Integer&amp;gt;&amp;gt;() {&#xA;                                @Override&#xA;                                public void flatMap(&#xA;                                        String value,&#xA;                                        Collector&amp;lt;Tuple2&amp;lt;String, Integer&amp;gt;&amp;gt; collector)&#xA;                                        throws Exception {&#xA;                                    String[] split = value.split(&amp;quot;\\W+&amp;quot;);&#xA;                                    for (String s : split) {&#xA;                                        if (s.length() &amp;gt; 0) {&#xA;                                            collector.collect(new Tuple2&amp;lt;&amp;gt;(s, 1));&#xA;                                            // TimeUnit.SECONDS.sleep(5);&#xA;                                        }&#xA;                                    }&#xA;                                }&#xA;                            })&#xA;                    .groupBy(0)&#xA;                    .sum(1);&#xA;&#xA;    // æ‰“å°ç»“æœ&#xA;    sum.print();&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Job å¯ä»¥ç›´æ¥è¿è¡Œï¼Œä¹Ÿå¯ä»¥æäº¤åˆ° Flink é›†ç¾¤ä¸­è¿è¡Œã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Goè¯­è¨€cobra</title>
      <link>https://qiref.github.io/post/2022/02/19/go%E8%AF%AD%E8%A8%80cobra/</link>
      <pubDate>Sat, 19 Feb 2022 18:16:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2022/02/19/go%E8%AF%AD%E8%A8%80cobra/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šGoè¯­è¨€ cobra æ¡†æ¶ä½¿ç”¨è¯´æ˜ï¼Œæ–‡ä¸­ä»£ç åœ°å€ï¼š &lt;a href=&#34;https://github.com/ArchieYao/clid&#34;&gt;https://github.com/ArchieYao/clid&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;cobra-ç®€ä»‹&#34;&gt;cobra ç®€ä»‹&lt;/h2&gt;&#xA;&lt;p&gt;cobraæ˜¯ Go è¯­è¨€çš„ä¸€ä¸ªå‘½ä»¤è¡Œç¨‹åºåº“ï¼Œå¯ä»¥ç”¨æ¥ç¼–å†™å‘½ä»¤è¡Œç¨‹åºã€‚åŒæ—¶ï¼Œå®ƒä¹Ÿæä¾›äº†ä¸€ä¸ªè„šæ‰‹æ¶ï¼Œ ç”¨äºç”ŸæˆåŸºäº cobra çš„åº”ç”¨ç¨‹åºæ¡†æ¶ã€‚éå¸¸å¤šçŸ¥åçš„å¼€æºé¡¹ç›®ä½¿ç”¨äº† cobra åº“æ„å»ºå‘½ä»¤è¡Œï¼Œå¦‚Kubernetesã€Hugoã€etcdç­‰ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;å®‰è£…-cobra&#34;&gt;å®‰è£… cobra&lt;/h2&gt;&#xA;&lt;p&gt;cobra æ˜¯ç”±å¤§åé¼é¼çš„ spf13ï¼ˆgolang å¼€å‘è€…ï¼‰ å¼€å‘çš„ï¼ŒGitHub åœ°å€ï¼š&lt;a href=&#34;https://github.com/spf13/cobra&#34;&gt;https://github.com/spf13/cobra&lt;/a&gt;&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// å®‰è£…&#xA;go get -u github.com/spf13/cobra&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ&#xA;cobra -h&#xA;Cobra is a CLI library for Go that empowers applications.&#xA;This application is a tool to generate the needed files&#xA;to quickly create a Cobra application.&#xA;&#xA;Usage:&#xA;  cobra [command]&#xA;&#xA;Available Commands:&#xA;  add         Add a command to a Cobra Application&#xA;  completion  Generate the autocompletion script for the specified shell&#xA;  help        Help about any command&#xA;  init        Initialize a Cobra Application&#xA;&#xA;Flags:&#xA;  -a, --author string    author name for copyright attribution (default &amp;quot;YOUR NAME&amp;quot;)&#xA;      --config string    config file (default is $HOME/.cobra.yaml)&#xA;  -h, --help             help for cobra&#xA;  -l, --license string   name of license for the project&#xA;      --viper            use Viper for configuration&#xA;&#xA;Use &amp;quot;cobra [command] --help&amp;quot; for more information about a command.&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2 id=&#34;åˆ›å»º-cobra-å·¥ç¨‹&#34;&gt;åˆ›å»º cobra å·¥ç¨‹&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åˆ›å»º Go å·¥ç¨‹&#xA;mkdir clid&#xA;cd clid&#xA;go mod init clid&#xA;&#xA;# åˆ›å»º cobra å·¥ç¨‹&#xA;cobra init&#xA;# å¯ä»¥å¾—åˆ°å¦‚ä¸‹å·¥ç¨‹ç›®å½•&#xA;D:\WORKSPACE\GOLANG\TRAINNING\CLID&#xA;â”‚   go.mod&#xA;â”‚   go.sum&#xA;â”‚   LICENSE&#xA;â”‚   main.go&#xA;â”‚&#xA;â””â”€â”€â”€cmd&#xA;        root.go&#xA;&#xA;# æ­£å¸¸æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå·¥ç¨‹å¯ä»¥æ­£å¸¸ç¼–è¯‘å¹¶ä¸”è¿è¡Œ&#xA;go build -o ./bin/clid&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2 id=&#34;å¢åŠ è‡ªå®šä¹‰å‘½ä»¤&#34;&gt;å¢åŠ è‡ªå®šä¹‰å‘½ä»¤&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cobra add version&#xA;&#xA;tree /f&#xA;D:.&#xA;â”‚   go.mod&#xA;â”‚   go.sum&#xA;â”‚   LICENSE&#xA;â”‚   main.go&#xA;â”‚&#xA;â””â”€â”€â”€cmd&#xA;        root.go&#xA;        version.go&#xA;&#xA;# åœ¨ `cmd` ç›®å½•ä¸‹æ–°ç”Ÿæˆä¸€ä¸ª `version.go` çš„æ–‡ä»¶&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;ä»æ–°ç”Ÿæˆçš„æ–‡ä»¶å¯ä»¥çœ‹å‡ºï¼Œæ ¸å¿ƒæ–¹æ³•å°±2ä¸ªï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>ProtoBufæ•°æ®åè®®</title>
      <link>https://qiref.github.io/post/2022/01/11/protobuf%E6%95%B0%E6%8D%AE%E5%8D%8F%E8%AE%AE/</link>
      <pubDate>Tue, 11 Jan 2022 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2022/01/11/protobuf%E6%95%B0%E6%8D%AE%E5%8D%8F%E8%AE%AE/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šProtoBuf(Protocol Buffers)æ˜¯ä¸€ç§è·¨å¹³å°ã€è¯­è¨€æ— å…³ã€å¯æ‰©å±•çš„åºåˆ—åŒ–ç»“æ„æ•°æ®çš„æ–¹æ³•ï¼Œå¯ç”¨äºç½‘ç»œæ•°æ®äº¤æ¢åŠæ•°æ®å­˜å‚¨ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;protocol-buffersä»‹ç»&#34;&gt;Protocol Buffersä»‹ç»&lt;/h2&gt;&#xA;&lt;p&gt;ä¸åŒäº &lt;code&gt;XML&lt;/code&gt; ã€&lt;code&gt;JSON&lt;/code&gt; è¿™ç§æ–‡æœ¬æ ¼å¼æ•°æ®ï¼ŒProtocol Buffers æ˜¯ä¸€ç§äºŒè¿›åˆ¶æ ¼å¼æ•°æ®ã€‚åœ¨Protocol Buffers è¯ç”Ÿä¹‹åˆï¼Œå°±è¢«èµ‹äºˆä¸¤ä¸ªç‰¹ç‚¹ï¼š&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;å‘å‰å…¼å®¹ï¼Œå¾ˆå®¹æ˜“å¼•å…¥æ–°å­—æ®µï¼Œåº”å¯¹å­—æ®µçš„é¢‘ç¹å˜æ›´&lt;/li&gt;&#xA;&lt;li&gt;æ•°æ®æ ¼å¼å…·å¤‡æè¿°æ€§ï¼Œå¹¶ä¸”æ”¯æŒå¤šè¯­è¨€å¤„ç†&lt;/li&gt;&#xA;&lt;li&gt;ä¼ è¾“æ•ˆç‡é«˜&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;åŸºäºä»¥ä¸Šè¿™äº›ç‰¹æ€§ï¼ŒProtocol Buffers è¢«å¹¿æ³›åº”ç”¨äºå„ç§ RPC æ¡†æ¶ä¸­ï¼Œå¹¶ä¸”æ˜¯ Google çš„æ•°æ®é€šç”¨è¯­è¨€ã€‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;protocol-buffersåè®®æ–‡ä»¶&#34;&gt;Protocol Buffersåè®®æ–‡ä»¶&lt;/h3&gt;&#xA;&lt;p&gt;Protocol Buffers åœ¨ä½¿ç”¨å‰éœ€è¦å…ˆå®šä¹‰å¥½åè®®æ–‡ä»¶ï¼Œä»¥ &lt;code&gt;.proto&lt;/code&gt; ä¸ºåç¼€çš„æ–‡ä»¶å°±æ˜¯Protocol Buffers çš„åè®®æ–‡ä»¶ã€‚&lt;/p&gt;&#xA;&lt;p&gt;Example:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-protobuf&#34;&gt;// æŒ‡å®šprotobufçš„ç‰ˆæœ¬ï¼Œproto3æ˜¯æœ€æ–°çš„è¯­æ³•ç‰ˆæœ¬&#xA;syntax = &amp;quot;proto3&amp;quot;;&#xA;&#xA;// å®šä¹‰æ•°æ®ç»“æ„ï¼Œmessage ä½ å¯ä»¥æƒ³è±¡æˆjavaçš„classï¼Œcè¯­è¨€ä¸­çš„struct&#xA;message Response {&#xA;  string data = 1;   // å®šä¹‰ä¸€ä¸ªstringç±»å‹çš„å­—æ®µï¼Œå­—æ®µåå­—ä¸ºdata, åºå·ä¸º1&#xA;  int32 status = 2;   // å®šä¹‰ä¸€ä¸ªint32ç±»å‹çš„å­—æ®µï¼Œå­—æ®µåå­—ä¸ºstatus, åºå·ä¸º2&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;å¦‚æœ A å’Œ B è¦åŸºäº Protocol Buffers åè®®è¿›è¡Œé€šä¿¡ï¼Œé‚£ä¹ˆåœ¨é€šä¿¡å‰ï¼ŒA å’Œ B éƒ½éœ€è¦æœ‰åŒä¸€ä»½åè®®æ–‡ä»¶ï¼Œæ‰€ä»¥åœ¨ Protocol Buffers æ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œä¸éœ€è¦æ•°æ®çš„ &lt;code&gt;Schema&lt;/code&gt; ä¿¡æ¯ï¼›&lt;/p&gt;</description>
    </item>
    <item>
      <title>Log4j2æŒ‰ç…§æ—¶é—´å’Œæ—¥å¿—å¤§å°æ»šåŠ¨</title>
      <link>https://qiref.github.io/post/2021/08/25/log4j2%E6%8C%89%E7%85%A7%E6%97%B6%E9%97%B4%E5%92%8C%E6%97%A5%E5%BF%97%E5%A4%A7%E5%B0%8F%E6%BB%9A%E5%8A%A8/</link>
      <pubDate>Wed, 25 Aug 2021 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/08/25/log4j2%E6%8C%89%E7%85%A7%E6%97%B6%E9%97%B4%E5%92%8C%E6%97%A5%E5%BF%97%E5%A4%A7%E5%B0%8F%E6%BB%9A%E5%8A%A8/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šLog4j2 æŒ‰ç…§æ—¶é—´å’Œæ—¥å¿—å¤§å°æ»šåŠ¨ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;log4j2æŒ‰ç…§æ—¶é—´å’Œæ—¥å¿—å¤§å°æ»š&#34;&gt;Log4j2æŒ‰ç…§æ—¶é—´å’Œæ—¥å¿—å¤§å°æ»š&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-properties&#34;&gt;status = error&#xA;name = PropertiesConfig&#xA;&#xA;#Make sure to change log file path as per your need&#xA;property.filename = C:\\logs\\debug.log&#xA;&#xA;filters = threshold&#xA;filter.threshold.type = ThresholdFilter&#xA;filter.threshold.level = debug&#xA;&#xA;appenders = rolling&#xA;appender.rolling.type = RollingFile&#xA;appender.rolling.name = RollingFile&#xA;appender.rolling.fileName = ${filename}&#xA;appender.rolling.filePattern = debug-backup-%d{MM-dd-yy-HH-mm-ss}-%i.log.gz&#xA;appender.rolling.layout.type = PatternLayout&#xA;appender.rolling.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&#xA;appender.rolling.policies.type = Policies&#xA;appender.rolling.policies.time.type = TimeBasedTriggeringPolicy&#xA;appender.rolling.policies.time.interval = 1&#xA;appender.rolling.policies.time.modulate = true&#xA;appender.rolling.policies.size.type = SizeBasedTriggeringPolicy&#xA;appender.rolling.policies.size.size=10MB&#xA;appender.rolling.strategy.type = DefaultRolloverStrategy&#xA;appender.rolling.strategy.max = 20&#xA;&#xA;loggers = rolling&#xA;#Make sure to change the package structure as per your application&#xA;logger.rolling.name = com.howtodoinjava&#xA;logger.rolling.level = debug&#xA;logger.rolling.additivity = false&#xA;logger.rolling.appenderRef.rolling.ref = RollingFile&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;æ—¥å¿—é…ç½®åŠ¨æ€æ›´æ–°&#34;&gt;æ—¥å¿—é…ç½®åŠ¨æ€æ›´æ–°&lt;/h2&gt;&#xA;&lt;p&gt;&lt;code&gt;monitorInterval&lt;/code&gt; æ˜¯ç”¨æ¥è®¾ç½®é…ç½®æ–‡ä»¶çš„åŠ¨æ€åŠ è½½æ—¶é—´çš„ï¼Œå•ä½æ˜¯ç§’ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Git-rebaseç”¨æ³•.md</title>
      <link>https://qiref.github.io/post/2021/08/09/git-rebase%E7%94%A8%E6%B3%95.md/</link>
      <pubDate>Mon, 09 Aug 2021 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/08/09/git-rebase%E7%94%A8%E6%B3%95.md/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šGit rebase çš„ä½¿ç”¨æ–¹æ³•ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;commit-åˆå¹¶&#34;&gt;commit åˆå¹¶&lt;/h2&gt;&#xA;&lt;p&gt;å½“å¤šä¸ªcommitå­˜åœ¨æ—¶ï¼Œæäº¤MRä¼šå‡ºç°å¾ˆå¤šçš„commitï¼Œreviewä¼šå¾ˆå›°éš¾ï¼Œè¿™æ—¶å¯ä»¥å°†å¤šä¸ªcommitåˆå¹¶ä¸ºä¸€ä¸ªcommitã€‚&lt;/p&gt;&#xA;&lt;p&gt;å‘½ä»¤è¯´æ˜ï¼š&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;git rebase -i  [startpoint]  [endpoint] &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;å…¶ä¸­-içš„æ„æ€æ˜¯&amp;ndash;interactiveï¼Œå³å¼¹å‡ºäº¤äº’å¼çš„ç•Œé¢è®©ç”¨æˆ·ç¼–è¾‘å®Œæˆåˆå¹¶æ“ä½œï¼Œ[startpoint] [endpoint] åˆ™æŒ‡å®šäº†ä¸€ä¸ªç¼–è¾‘åŒºé—´ï¼Œå¦‚æœä¸æŒ‡å®š[endpoint]ï¼Œåˆ™è¯¥åŒºé—´çš„ç»ˆç‚¹é»˜è®¤æ˜¯å½“å‰åˆ†æ”¯HEADæ‰€æŒ‡å‘çš„commit(æ³¨ï¼šè¯¥åŒºé—´æŒ‡å®šçš„æ˜¯ä¸€ä¸ªå‰å¼€åé—­çš„åŒºé—´)ã€‚&#xA;åœ¨æŸ¥çœ‹åˆ°äº†logæ—¥å¿—åï¼Œæˆ‘ä»¬è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;git rebase -i 36224db&#xA;or&#xA;git rebase -i HEAD~3 # åˆå¹¶æœ€è¿‘ä¸‰æ¬¡commit&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;æ¯ä¸€ä¸ªcommit id å‰é¢çš„pickè¡¨ç¤ºæŒ‡ä»¤ç±»å‹ï¼Œgit ä¸ºæˆ‘ä»¬æä¾›äº†ä»¥ä¸‹å‡ ä¸ªå‘½ä»¤:&#xA;pickï¼šä¿ç•™è¯¥commitï¼ˆç¼©å†™:pï¼‰&#xA;rewordï¼šä¿ç•™è¯¥commitï¼Œä½†æˆ‘éœ€è¦ä¿®æ”¹è¯¥commitçš„æ³¨é‡Šï¼ˆç¼©å†™:rï¼‰&#xA;editï¼šä¿ç•™è¯¥commit, ä½†æˆ‘è¦åœä¸‹æ¥ä¿®æ”¹è¯¥æäº¤(ä¸ä»…ä»…ä¿®æ”¹æ³¨é‡Š)ï¼ˆç¼©å†™:eï¼‰&#xA;squashï¼šå°†è¯¥commitå’Œå‰ä¸€ä¸ªcommitåˆå¹¶ï¼ˆç¼©å†™:sï¼‰&#xA;fixupï¼šå°†è¯¥commitå’Œå‰ä¸€ä¸ªcommitåˆå¹¶ï¼Œä½†æˆ‘ä¸è¦ä¿ç•™è¯¥æäº¤çš„æ³¨é‡Šä¿¡æ¯ï¼ˆç¼©å†™:fï¼‰&#xA;execï¼šæ‰§è¡Œshellå‘½ä»¤ï¼ˆç¼©å†™:xï¼‰&#xA;dropï¼šæˆ‘è¦ä¸¢å¼ƒè¯¥commitï¼ˆç¼©å†™:dï¼‰&lt;/p&gt;&#xA;&lt;h3 id=&#34;ç¤ºä¾‹&#34;&gt;ç¤ºä¾‹&lt;/h3&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-shel&#34;&gt;git log&#xA;&#xA;commit 4ab2734f3380fbdace8620f461cd04c7993b6b0b (HEAD -&amp;gt; master)&#xA;Author: archieyao &amp;lt;archieyao@tencent.com&amp;gt;&#xA;Date:   Mon Aug 9 16:38:25 2021 +0800&#xA;&#xA;    add something 2&#xA;&#xA;commit 60d0bbbe094c0b93903ab995879d30246bbf331e&#xA;Author: archieyao &amp;lt;archieyao@tencent.com&amp;gt;&#xA;Date:   Mon Aug 9 16:38:02 2021 +0800&#xA;&#xA;    add something 1&#xA;&#xA;commit 1c3c12316449cf4f340c68e22c70caa60178ba5c&#xA;Author: archieyao &amp;lt;archieyao@tencent.com&amp;gt;&#xA;Date:   Mon Aug 9 16:37:43 2021 +0800&#xA;&#xA;    add something&#xA;&#xA;commit 7a9ab6f445ce0c7525a5dce3ca15fe600282553b&#xA;Author: archieyao &amp;lt;archieyao@tencent.com&amp;gt;&#xA;Date:   Mon Aug 9 09:31:11 2021 +0800&#xA;&#xA;    [update] readme&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;ç°åœ¨åˆå¹¶æœ€è¿‘ä¸‰æ¬¡çš„commitã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Gitå·¥ç¨‹æ‹†åˆ†</title>
      <link>https://qiref.github.io/post/2021/07/08/git%E5%B7%A5%E7%A8%8B%E6%8B%86%E5%88%86/</link>
      <pubDate>Thu, 08 Jul 2021 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/07/08/git%E5%B7%A5%E7%A8%8B%E6%8B%86%E5%88%86/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šGitå°†å·¥ç¨‹æŒ‰ç›®å½•æ‹†åˆ†ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# /project/&#xA;# ----/test/&#xA;# å°†testç›®å½•æŠ½æˆå•ç‹¬çš„å·¥ç¨‹&#xA;cd /project/test&#xA;&#xA;# æ‹†åˆ†å­ç›®å½•&#xA;$ git subtree split -P test -b test-new-br&#xA;$ mkdir ../test-new-br&#xA;$ cd ../test-new-br&#xA;&#xA;# åˆ›å»ºå­å·¥ç¨‹&#xA;$ git init&#xA;$ git pull ../project test-new-br&#xA;# git log å¯ä»¥çœ‹åˆ°å†å²commit&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&amp;#x1f635;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Kubernatesä¸­çš„pod</title>
      <link>https://qiref.github.io/post/2021/06/29/kubernates%E4%B8%AD%E7%9A%84pod/</link>
      <pubDate>Tue, 29 Jun 2021 10:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/29/kubernates%E4%B8%AD%E7%9A%84pod/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šè¿è¡Œåœ¨Kubernatesä¸­çš„å®¹å™¨ï¼špodã€‚ç”±äºä¸èƒ½å°†å¤šä¸ªè¿›ç¨‹èšé›†åœ¨ä¸€ä¸ªå•ç‹¬çš„å®¹å™¨ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ›´é«˜çº§çš„ç»“æ„å°†å®¹å™¨ç»‘å®šåœ¨ä¸€èµ·ï¼Œå°†å®ƒä»¬ä½œä¸ºä¸€ä¸ªå•å…ƒè¿›è¡Œç®¡ç†ï¼Œè¿™å°±æ˜¯podè¯ç”Ÿçš„åŸå› ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;podåŸºæœ¬æ¦‚å¿µ&#34;&gt;podåŸºæœ¬æ¦‚å¿µ&lt;/h2&gt;&#xA;&lt;p&gt;podæ˜¯Kubernetesä¸­æœ€é‡è¦çš„æ¦‚å¿µï¼Œpodæ˜¯Kubernetesä¸­éƒ¨ç½²çš„æœ€å°å•å…ƒï¼Œä¸€ä¸ªpodä¸­å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ï¼Œpodæœ‰è‡ªå·±ç‹¬ç«‹çš„ç§æœ‰IPå’Œä¸»æœºåã€‚&lt;/p&gt;&#xA;&lt;p&gt;Kubernetes é›†ç¾¤ä¸­çš„ Pod ä¸»è¦æœ‰ä¸¤ç§ç”¨æ³•ï¼š&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;è¿è¡Œå•ä¸ªå®¹å™¨çš„ Podã€‚&amp;ldquo;æ¯ä¸ª Pod ä¸€ä¸ªå®¹å™¨&amp;quot;æ¨¡å‹æ˜¯æœ€å¸¸è§çš„ Kubernetes ç”¨ä¾‹ï¼› åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥å°† Pod çœ‹ä½œå•ä¸ªå®¹å™¨çš„åŒ…è£…å™¨ï¼Œå¹¶ä¸” Kubernetes ç›´æ¥ç®¡ç† Podï¼Œè€Œä¸æ˜¯å®¹å™¨ã€‚&lt;/li&gt;&#xA;&lt;li&gt;è¿è¡Œå¤šä¸ªååŒå·¥ä½œçš„å®¹å™¨çš„ Podã€‚ Pod å¯èƒ½å°è£…ç”±å¤šä¸ªç´§å¯†è€¦åˆä¸”éœ€è¦å…±äº«èµ„æºçš„å…±å¤„å®¹å™¨ç»„æˆçš„åº”ç”¨ç¨‹åºã€‚ è¿™äº›ä½äºåŒä¸€ä½ç½®çš„å®¹å™¨å¯èƒ½å½¢æˆå•ä¸ªå†…èšçš„æœåŠ¡å•å…ƒï¼Œä¸€ä¸ªpodä¸­çš„å®¹å™¨å…±äº«ç½‘ç»œå’Œvolumeï¼Œå¹¶ä¸”podä¸­çš„å®¹å™¨å…±äº«ç›¸åŒçš„å‘½åç©ºé—´ã€‚ï¼ˆç”±äºä¸€ä¸ªpodä¸­çš„å®¹å™¨å…±äº«ç½‘ç»œï¼Œå› æ­¤ä¹Ÿå°±å…±äº«ç«¯å£å’ŒIPã€‚ï¼‰&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¦‚æœä¸æ˜¯å¤šä¸ªå®¹å™¨éœ€è¦å…±ç”¨netæˆ–volumeï¼Œå°½å¯èƒ½åœ°æŠŠä¸åŒçš„å®¹å™¨æ”¾åˆ°ä¸åŒçš„podä¸­ï¼Œæ–°å»ºä¸€ä¸ªpodä¸éœ€è¦è€—è´¹å¾ˆå¤šèµ„æºï¼ŒKuberneteså¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¯¹podè¿›è¡Œç®¡ç†å’Œæ‰©å®¹ã€ç¼©å®¹ç­‰æ“ä½œï¼Œè¿™ç§æ–¹å¼å¯ä»¥æ›´å¥½åœ°åˆ©ç”¨åŸºç¡€èµ„æºã€‚&lt;/p&gt;&#xA;&lt;p&gt;æ€»ç»“æ¥è¯´ï¼Œpodå°±æ˜¯é€»è¾‘ä¸Šçš„ä¸»æœºã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;podç”Ÿå‘½å‘¨æœŸ&#34;&gt;podç”Ÿå‘½å‘¨æœŸ&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Pendingï¼šè¡¨ç¤ºpodå·²ç»è¢«åŒæ„åˆ›å»ºï¼Œæ­£åœ¨ç­‰å¾…kube-scheduleré€‰æ‹©åˆé€‚çš„èŠ‚ç‚¹åˆ›å»ºï¼Œä¸€èˆ¬æ˜¯åœ¨å‡†å¤‡é•œåƒï¼›&lt;/li&gt;&#xA;&lt;li&gt;Runningï¼šè¡¨ç¤ºpodä¸­æ‰€æœ‰çš„å®¹å™¨å·²ç»è¢«åˆ›å»ºï¼Œå¹¶ä¸”è‡³å°‘æœ‰ä¸€ä¸ªå®¹å™¨æ­£åœ¨è¿è¡Œæˆ–è€…æ˜¯æ­£åœ¨å¯åŠ¨æˆ–è€…æ˜¯æ­£åœ¨é‡å¯ï¼›&lt;/li&gt;&#xA;&lt;li&gt;Succeededï¼šè¡¨ç¤ºæ‰€æœ‰å®¹å™¨å·²ç»æˆåŠŸç»ˆæ­¢ï¼Œå¹¶ä¸”ä¸ä¼šå†å¯åŠ¨ï¼›&lt;/li&gt;&#xA;&lt;li&gt;Failedï¼šè¡¨ç¤ºpodä¸­æ‰€æœ‰å®¹å™¨éƒ½æ˜¯é0ï¼ˆä¸æ­£å¸¸ï¼‰çŠ¶æ€é€€å‡ºï¼›&lt;/li&gt;&#xA;&lt;li&gt;Unknownï¼šè¡¨ç¤ºæ— æ³•è¯»å–PodçŠ¶æ€ï¼Œé€šå¸¸æ˜¯kube-controller-manageræ— æ³•ä¸Podé€šä¿¡ã€‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;åˆ›å»ºpodæµç¨‹&#34;&gt;åˆ›å»ºpodæµç¨‹&lt;/h3&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;å®¢æˆ·ç«¯æäº¤Podçš„é…ç½®ä¿¡æ¯ï¼ˆå¯ä»¥æ˜¯yamlæ–‡ä»¶å®šä¹‰å¥½çš„ä¿¡æ¯ï¼‰åˆ°kube-apiserverï¼›&lt;/li&gt;&#xA;&lt;li&gt;Apiserveræ”¶åˆ°æŒ‡ä»¤åï¼Œé€šçŸ¥ç»™controller-manageråˆ›å»ºä¸€ä¸ªèµ„æºå¯¹è±¡ï¼›&lt;/li&gt;&#xA;&lt;li&gt;Controller-manageré€šè¿‡api-serverå°†podçš„é…ç½®ä¿¡æ¯å­˜å‚¨åˆ°ETCDæ•°æ®ä¸­å¿ƒä¸­ï¼›&lt;/li&gt;&#xA;&lt;li&gt;Kube-scheduleræ£€æµ‹åˆ°podä¿¡æ¯ä¼šå¼€å§‹è°ƒåº¦é¢„é€‰ï¼Œä¼šå…ˆè¿‡æ»¤æ‰ä¸ç¬¦åˆPodèµ„æºé…ç½®è¦æ±‚çš„èŠ‚ç‚¹ï¼Œç„¶åå¼€å§‹è°ƒåº¦è°ƒä¼˜ï¼Œä¸»è¦æ˜¯æŒ‘é€‰å‡ºæ›´é€‚åˆè¿è¡Œpodçš„èŠ‚ç‚¹ï¼Œç„¶åå°†podçš„èµ„æºé…ç½®å•å‘é€åˆ°nodeèŠ‚ç‚¹ä¸Šçš„kubeletç»„ä»¶ä¸Šã€‚&lt;/li&gt;&#xA;&lt;li&gt;Kubeletæ ¹æ®schedulerå‘æ¥çš„èµ„æºé…ç½®å•è¿è¡Œpodï¼Œè¿è¡ŒæˆåŠŸåï¼Œå°†podçš„è¿è¡Œä¿¡æ¯è¿”å›ç»™schedulerï¼Œschedulerå°†è¿”å›çš„podè¿è¡ŒçŠ¶å†µçš„ä¿¡æ¯å­˜å‚¨åˆ°etcdæ•°æ®ä¸­å¿ƒã€‚&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h3 id=&#34;åˆ é™¤podæµç¨‹&#34;&gt;åˆ é™¤podæµç¨‹&lt;/h3&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;podä»serviceçš„endpointåˆ—è¡¨ä¸­è¢«ç§»é™¤ï¼›&lt;/li&gt;&#xA;&lt;li&gt;å¦‚æœè¯¥podå®šä¹‰äº†ä¸€ä¸ªåœæ­¢å‰çš„é’©å­ï¼Œå…¶ä¼šåœ¨podå†…éƒ¨è¢«è°ƒç”¨ï¼Œåœæ­¢é’©å­ä¸€èˆ¬å®šä¹‰äº†å¦‚ä½•ä¼˜é›…çš„ç»“æŸè¿›ç¨‹ï¼›&lt;/li&gt;&#xA;&lt;li&gt;è¿›ç¨‹è¢«å‘é€TERMä¿¡å·ï¼ˆkill -14ï¼‰ï¼›&lt;/li&gt;&#xA;&lt;li&gt;å½“è¶…è¿‡ä¼˜é›…é€€å‡ºçš„æ—¶é—´åï¼ŒPodä¸­çš„æ‰€æœ‰è¿›ç¨‹éƒ½ä¼šè¢«å‘é€SIGKILLä¿¡å·ï¼ˆkill -9ï¼‰ã€‚&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 id=&#34;podå¸¸ç”¨å‘½ä»¤&#34;&gt;podå¸¸ç”¨å‘½ä»¤&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;kubectl describe po cluster-admin-0 -n default # è·å–æŒ‡å®šnamespacesä¸‹çš„podè¯¦æƒ…ï¼Œå¯ä»¥çœ‹å‡ºcontainerä¿¡æ¯&#xA;kubectl get pods --all-namespaces # è·å–æ‰€æœ‰namespacesä¸‹çš„pod&#xA;kubectl get pods -n default # -n è·å–æŒ‡å®šnamaspacesä¸‹çš„pod&#xA;kubectl get pod podname -nkube-system -oyaml # è·å–podçš„è¯¦æƒ…ï¼Œ-oyaml ä»¥yamlæ ¼å¼è¾“å‡ºï¼Œä¹Ÿå¯ä»¥ -ojson&#xA;kubectl exec -it taskcenter-0 -c loglistener -noceanus /bin/bash # è¿›å…¥æŸä¸ªpodä¸‹çš„cotainer&#xA;kubectl logs tke-log-agent-2687c -c loglistener # è·å–æŸä¸ªpodä¸‹cotainerçš„logï¼Œä¹Ÿå¯ä»¥åŠ  -f å‚æ•°ï¼Œç±»ä¼¼äº tail -f&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2 id=&#34;åˆ›å»ºpodçš„æ–¹å¼&#34;&gt;åˆ›å»ºpodçš„æ–¹å¼&lt;/h2&gt;&#xA;&lt;p&gt;podæœ¬èº«ä¸å…·å¤‡æ•…éšœé‡å¯ä»¥åŠå‰¯æœ¬ç­‰åŠŸèƒ½ï¼Œä¸€èˆ¬ä½¿ç”¨å…¶ä»–çš„èµ„æºåˆ›å»ºpodã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Dockeræ„å»ºGoå·¥ç¨‹é•œåƒ</title>
      <link>https://qiref.github.io/post/2021/06/23/docker%E6%9E%84%E5%BB%BAgo%E5%B7%A5%E7%A8%8B%E9%95%9C%E5%83%8F/</link>
      <pubDate>Wed, 23 Jun 2021 10:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/23/docker%E6%9E%84%E5%BB%BAgo%E5%B7%A5%E7%A8%8B%E9%95%9C%E5%83%8F/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šDockeræ„å»ºGoå·¥ç¨‹é•œåƒã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;å·¥ç¨‹&#34;&gt;å·¥ç¨‹&lt;/h2&gt;&#xA;&lt;p&gt;å·¥ç¨‹æ˜¯ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„Http serverçš„demoï¼Œç°åœ¨å°†è¿™ä¸ªå·¥ç¨‹æ„å»ºä¸ºdockeré•œåƒã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;import (&#xA;    &amp;quot;fmt&amp;quot;&#xA;    &amp;quot;log&amp;quot;&#xA;    &amp;quot;net/http&amp;quot;&#xA;)&#xA;&#xA;func Init() {&#xA;    log.Println(&amp;quot;start server&amp;quot;)&#xA;    http.HandleFunc(&amp;quot;/hello_world&amp;quot;, HelloWorld)&#xA;    http.Handle(&amp;quot;/test_handle&amp;quot;, &amp;amp;TestHandleStruct{content: &amp;quot;test handle&amp;quot;})&#xA;    if err := http.ListenAndServe(&amp;quot;:8080&amp;quot;, nil); err != nil {&#xA;        log.Println(&amp;quot;start server on 8080&amp;quot;)&#xA;    }&#xA;    log.Fatal(&amp;quot;start server failed.&amp;quot;)&#xA;}&#xA;&#xA;func main() {&#xA;    // å¯åŠ¨HTTPæœåŠ¡&#xA;    server.Init()&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2 id=&#34;æ„å»º&#34;&gt;æ„å»º&lt;/h2&gt;&#xA;&lt;p&gt;éœ€è¦åœ¨å·¥ç¨‹æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªDockerfile&lt;/p&gt;&#xA;&lt;p&gt;å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-docker&#34;&gt;# æ‹‰å–Goè¯­è¨€çš„ç‰ˆæœ¬&#xA;FROM golang:1.16&#xA;&#xA;# åœ¨å®¹å™¨å†…è®¾ç½®å·¥ä½œç›®å½•&#xA;WORKDIR /app&#xA;&#xA;# æŠŠæ–‡ä»¶å¤åˆ¶åˆ°å½“å‰å·¥ä½œç›®å½•&#xA;COPY . .&#xA;&#xA;FROM alpine:latest as prod&#xA;&#xA;# è®¾ç½®GOPROXYçš„ç¯å¢ƒå˜é‡&#xA;ENV GOPROXY=&amp;quot;https://goproxy.cn&amp;quot;&#xA;&#xA;# ç¼–è¯‘é¡¹ç›®&#xA;#RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64  go build -o ./bin/go_http_server_demo ./src/main/main.go&#xA;&#xA;ADD ./bin/go_http_server_demo ./&#xA;&#xA;# æš´éœ²ç«¯å£&#xA;EXPOSE 8080&#xA;&#xA;# å¯æ‰§è¡Œæ–‡ä»¶&#xA;CMD [&amp;quot;./go_http_server_demo&amp;quot;]&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;ç„¶ååˆ°æ ¹ç›®å½•ä¸‹ç¼–è¯‘é¡¹ç›®ï¼Œæ³¨æ„ç¼–è¯‘æ—¶è¦æ ¹æ®å½“å‰æœºå™¨çš„ç±»å‹è®¾ç½®ç¯å¢ƒå˜é‡ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Dockerå…¥é—¨</title>
      <link>https://qiref.github.io/post/2021/06/21/docker%E5%85%A5%E9%97%A8/</link>
      <pubDate>Mon, 21 Jun 2021 10:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/21/docker%E5%85%A5%E9%97%A8/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šDockerç®€å•ä½¿ç”¨ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼ŒåŸºäº Go è¯­è¨€å¼€å‘ï¼Œå¹¶éµä» Apache2.0 åè®®å¼€æºã€‚&#xA;Docker å¯ä»¥è®©å¼€å‘è€…æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚&#xA;å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ï¼ˆç±»ä¼¼ iPhone çš„ appï¼‰,æ›´é‡è¦çš„æ˜¯å®¹å™¨æ€§èƒ½å¼€é”€æä½ã€‚&lt;/p&gt;&#xA;&lt;p&gt;Dockerä¸‹è½½åœ°å€ï¼š&lt;a href=&#34;https://www.docker.com/get-started&#34;&gt;https://www.docker.com/get-started&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;å®‰è£…å®Œæˆåï¼Œæ‰å¯ä»¥æ‰§è¡Œdockerçš„ç›¸å…³å‘½ä»¤ã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;$ docker system info&#xA;&#xA;Client:&#xA; Context:    default&#xA; Debug Mode: false&#xA; Plugins:&#xA;  buildx: Build with BuildKit (Docker Inc., v0.5.1-docker)&#xA;  compose: Docker Compose (Docker Inc., 2.0.0-beta.3)&#xA;  scan: Docker Scan (Docker Inc., v0.8.0)&#xA;&#xA;Server:&#xA; Containers: 0&#xA;  Running: 0&#xA;  Paused: 0&#xA;  Stopped: 0&#xA; Images: 0&#xA; Server Version: 20.10.7&#xA; Storage Driver: overlay2&#xA;  Backing Filesystem: extfs&#xA;  Supports d_type: true&#xA;  Native Overlay Diff: true&#xA;  userxattr: false&#xA; Logging Driver: json-file&#xA; Cgroup Driver: cgroupfs&#xA; Cgroup Version: 1&#xA; Plugins:&#xA;  Volume: local&#xA;  Network: bridge host ipvlan macvlan null overlay&#xA;  Log: awslogs fluentd gcplogs gelf journald json-file local logentries splunk syslog&#xA; Swarm: inactive&#xA; Runtimes: runc io.containerd.runc.v2 io.containerd.runtime.v1.linux&#xA; Default Runtime: runc&#xA; Init Binary: docker-init&#xA; containerd version: d71fcd7d8303cbf684402823e425e9dd2e99285d&#xA; runc version: b9ee9c6314599f1b4a7f497e1f1f856fe433d3b7&#xA; init version: de40ad0&#xA; Security Options:&#xA;  seccomp&#xA;   Profile: default&#xA; Kernel Version: 5.10.25-linuxkit&#xA; Operating System: Docker Desktop&#xA; OSType: linux&#xA; Architecture: x86_64&#xA; CPUs: 6&#xA; Total Memory: 1.941GiB&#xA; Name: docker-desktop&#xA; ID: TA2L:IL5R:BGA2:7NS2:RE5C:LOZ6:7RHP:275V:F5OQ:KAJP:QHWN:VOQU&#xA; Docker Root Dir: /var/lib/docker&#xA; Debug Mode: false&#xA; HTTP Proxy: http.docker.internal:3128&#xA; HTTPS Proxy: http.docker.internal:3128&#xA; Registry: https://index.docker.io/v1/&#xA; Labels:&#xA; Experimental: false&#xA; Insecure Registries:&#xA;  127.0.0.0/8&#xA; Live Restore Enabled: false&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;macä¸Šåœæ­¢dockeræœåŠ¡ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Kubernatesç»„ä»¶</title>
      <link>https://qiref.github.io/post/2021/06/21/kubernates%E7%BB%84%E4%BB%B6/</link>
      <pubDate>Mon, 21 Jun 2021 10:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/21/kubernates%E7%BB%84%E4%BB%B6/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šKubernatesåŸºç¡€æ¦‚å¿µåŠå…¶ç»„ä»¶ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;Kubernetesæ˜¯ä¸€ä¸ªå¼€æºçš„å®¹å™¨ç¼–æ’å¼•æ“ï¼Œç”¨æ¥å¯¹å®¹å™¨åŒ–åº”ç”¨è¿›è¡Œè‡ªåŠ¨åŒ–éƒ¨ç½²ã€æ‰©ç¼©å®¹å’Œç®¡ç†ï¼Œç®€ç§°K8sï¼ŒK8s è¿™ä¸ªç¼©å†™æ˜¯å› ä¸ºkå’Œsä¹‹é—´æœ‰å…«ä¸ªå­—ç¬¦ã€‚Google åœ¨ 2014 å¹´å¼€æºäº† Kubernetes é¡¹ç›®ã€‚&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://qiref.github.io/assets/img/components-of-kubernetes.svg&#34; alt=&#34;kubernetes&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;æ§åˆ¶é¢ç»„ä»¶&#34;&gt;æ§åˆ¶é¢ç»„ä»¶&lt;/h2&gt;&#xA;&lt;h3 id=&#34;kube-apiserver&#34;&gt;kube-apiserver&lt;/h3&gt;&#xA;&lt;p&gt;apiserveræ˜¯ Kubernetes æ§åˆ¶é¢çš„ç»„ä»¶ï¼Œ è¯¥ç»„ä»¶å…¬å¼€äº† Kubernetes APIã€‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;etcd&#34;&gt;etcd&lt;/h3&gt;&#xA;&lt;p&gt;etcd æ˜¯å…¼å…·ä¸€è‡´æ€§å’Œé«˜å¯ç”¨æ€§çš„é”®å€¼æ•°æ®åº“ï¼Œå¯ä»¥ä½œä¸ºä¿å­˜ Kubernetes æ‰€æœ‰é›†ç¾¤æ•°æ®çš„åå°æ•°æ®åº“ã€‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;kube-scheduler&#34;&gt;kube-scheduler&lt;/h3&gt;&#xA;&lt;p&gt;è´Ÿè´£ç›‘è§†æ–°åˆ›å»ºçš„ã€æœªæŒ‡å®šè¿è¡ŒèŠ‚ç‚¹ï¼ˆnodeï¼‰çš„ Podsï¼Œé€‰æ‹©èŠ‚ç‚¹è®© Pod åœ¨ä¸Šé¢è¿è¡Œã€‚&lt;/p&gt;&#xA;&lt;p&gt;è°ƒåº¦å†³ç­–è€ƒè™‘çš„å› ç´ åŒ…æ‹¬å•ä¸ª Pod å’Œ Pod é›†åˆçš„èµ„æºéœ€æ±‚ã€ç¡¬ä»¶/è½¯ä»¶/ç­–ç•¥çº¦æŸã€äº²å’Œæ€§å’Œåäº²å’Œæ€§è§„èŒƒã€æ•°æ®ä½ç½®ã€å·¥ä½œè´Ÿè½½é—´çš„å¹²æ‰°å’Œæœ€åæ—¶é™ã€‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;kube-controller-manager&#34;&gt;kube-controller-manager&lt;/h3&gt;&#xA;&lt;p&gt;ä»é€»è¾‘ä¸Šè®²ï¼Œæ¯ä¸ªæ§åˆ¶å™¨éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„è¿›ç¨‹ï¼Œ ä½†æ˜¯ä¸ºäº†é™ä½å¤æ‚æ€§ï¼Œå®ƒä»¬éƒ½è¢«ç¼–è¯‘åˆ°åŒä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¹¶åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­è¿è¡Œã€‚&lt;/p&gt;&#xA;&lt;p&gt;è¿™äº›æ§åˆ¶å™¨åŒ…æ‹¬:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;èŠ‚ç‚¹æ§åˆ¶å™¨ï¼ˆNode Controllerï¼‰: è´Ÿè´£åœ¨èŠ‚ç‚¹å‡ºç°æ•…éšœæ—¶è¿›è¡Œé€šçŸ¥å’Œå“åº”&lt;/li&gt;&#xA;&lt;li&gt;ä»»åŠ¡æ§åˆ¶å™¨ï¼ˆJob controllerï¼‰: ç›‘æµ‹ä»£è¡¨ä¸€æ¬¡æ€§ä»»åŠ¡çš„ Job å¯¹è±¡ï¼Œç„¶ååˆ›å»º Pods æ¥è¿è¡Œè¿™äº›ä»»åŠ¡ç›´è‡³å®Œæˆ&lt;/li&gt;&#xA;&lt;li&gt;ç«¯ç‚¹æ§åˆ¶å™¨ï¼ˆEndpoints Controllerï¼‰: å¡«å……ç«¯ç‚¹(Endpoints)å¯¹è±¡(å³åŠ å…¥ Service ä¸ Pod)&lt;/li&gt;&#xA;&lt;li&gt;æœåŠ¡å¸æˆ·å’Œä»¤ç‰Œæ§åˆ¶å™¨ï¼ˆService Account &amp;amp; Token Controllersï¼‰: ä¸ºæ–°çš„å‘½åç©ºé—´åˆ›å»ºé»˜è®¤å¸æˆ·å’Œ API è®¿é—®ä»¤ç‰Œ&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;cloud-controller-manager&#34;&gt;cloud-controller-manager&lt;/h3&gt;&#xA;&lt;p&gt;äº‘æ§åˆ¶å™¨ç®¡ç†å™¨æ˜¯æŒ‡åµŒå…¥ç‰¹å®šäº‘çš„æ§åˆ¶é€»è¾‘çš„ æ§åˆ¶å¹³é¢ç»„ä»¶ã€‚ äº‘æ§åˆ¶å™¨ç®¡ç†å™¨å…è®¸æ‚¨é“¾æ¥é›†ç¾¤åˆ°äº‘æä¾›å•†çš„åº”ç”¨ç¼–ç¨‹æ¥å£ä¸­ï¼Œ å¹¶æŠŠå’Œè¯¥äº‘å¹³å°äº¤äº’çš„ç»„ä»¶ä¸åªå’Œæ‚¨çš„é›†ç¾¤äº¤äº’çš„ç»„ä»¶åˆ†ç¦»å¼€ã€‚&#xA;cloud-controller-manager ä»…è¿è¡Œç‰¹å®šäºäº‘å¹³å°çš„æ§åˆ¶å›è·¯ã€‚ å¦‚æœä½ åœ¨è‡ªå·±çš„ç¯å¢ƒä¸­è¿è¡Œ Kubernetesï¼Œæˆ–è€…åœ¨æœ¬åœ°è®¡ç®—æœºä¸­è¿è¡Œå­¦ä¹ ç¯å¢ƒï¼Œ æ‰€éƒ¨ç½²çš„ç¯å¢ƒä¸­ä¸éœ€è¦äº‘æ§åˆ¶å™¨ç®¡ç†å™¨ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Goè¯­è¨€å®ç°httpServer</title>
      <link>https://qiref.github.io/post/2021/06/19/go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0httpserver/</link>
      <pubDate>Sat, 19 Jun 2021 10:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/19/go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0httpserver/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šä½¿ç”¨Goè¯­è¨€åŸç”ŸåŒ…å®ç°Http Serverã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;å¯åŠ¨ä¸€ä¸ªhttp-server&#34;&gt;å¯åŠ¨ä¸€ä¸ªHttp Server&lt;/h2&gt;&#xA;&lt;p&gt;ä½¿ç”¨Goè¯­è¨€åŸç”Ÿçš„net/httpåº“å¯ä»¥å¾ˆç®€å•å®ç°ä¸€ä¸ªhttp serverã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;log.Println(&amp;quot;start server&amp;quot;)&#xA;if err := http.ListenAndServe(&amp;quot;:8080&amp;quot;, nil); err != nil {&#xA;    log.Println(&amp;quot;start server on 8080&amp;quot;)&#xA;}&#xA;log.Fatal(&amp;quot;start server failed.&amp;quot;)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;æ²¡é”™ï¼Œåªè¦è¿™ä¹ˆå‡ è¡Œä»£ç ï¼Œå°±å¼€å¯äº†ä¸€ä¸ªhttp serverï¼Œç›‘å¬8080ç«¯å£ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;æ¥æ”¶httpè¯·æ±‚&#34;&gt;æ¥æ”¶Httpè¯·æ±‚&lt;/h2&gt;&#xA;&lt;h3 id=&#34;httphandlefunc&#34;&gt;http.HandleFunc&lt;/h3&gt;&#xA;&lt;p&gt;å¼€å¯äº†Http serveråï¼Œæ— æ³•å¤„ç†Httpè¯·æ±‚è¿™ä¸ªå°±æ˜¯ä¸ªç©ºçš„Serverï¼Œä¸‹é¢ç»™å®ƒåŠ ä¸Šå¤„ç†Http Requestçš„èƒ½åŠ›ã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func init() {&#xA;    log.Println(&amp;quot;start server&amp;quot;)&#xA;    http.HandleFunc(&amp;quot;/hello_world&amp;quot;, HelloWorld)&#xA;    if err := http.ListenAndServe(&amp;quot;:8080&amp;quot;, nil); err != nil {&#xA;        log.Println(&amp;quot;start server on 8080&amp;quot;)&#xA;    }&#xA;    log.Fatal(&amp;quot;start server failed.&amp;quot;)&#xA;}&#xA;&#xA;func HelloWorld(w http.ResponseWriter, r *http.Request) {&#xA;    _, err := w.Write([]byte(&amp;quot;hello world&amp;quot;))&#xA;    if err != nil {&#xA;        log.Println(err)&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;code&gt;http.HandleFunc(&amp;quot;/hello_world&amp;quot;, HelloWorld)&lt;/code&gt; è¿™è¡Œä»£ç æŒ‡å®šäº†ä¸€ä¸ªè·¯ç”±å¯¹åº”çš„æ–¹æ³•ï¼Œç„¶åè®¿é—®&lt;a href=&#34;http://127.0.0.1:8080/hello_world&#34;&gt;http://127.0.0.1:8080/hello_world&lt;/a&gt; å¯ä»¥å¾—åˆ°hello worldçš„å­—ç¬¦ä¸²ï¼Œè¿™æ®µå­—ç¬¦ä¸²ä¹Ÿæ˜¯&lt;code&gt;HelloWorld(w http.ResponseWriter, r *http.Request)&lt;/code&gt; å‡½æ•°çš„è¾“å‡ºã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Goè¯­è¨€åå°„</title>
      <link>https://qiref.github.io/post/2021/06/17/go%E8%AF%AD%E8%A8%80%E5%8F%8D%E5%B0%84/</link>
      <pubDate>Thu, 17 Jun 2021 10:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/17/go%E8%AF%AD%E8%A8%80%E5%8F%8D%E5%B0%84/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šç†è§£Goè¯­è¨€çš„åå°„æœºåˆ¶ï¼Œåå°„æ˜¯æŒ‡åœ¨ç¨‹åºè¿è¡ŒæœŸå¯¹ç¨‹åºæœ¬èº«è¿›è¡Œè®¿é—®å’Œä¿®æ”¹çš„èƒ½åŠ›ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;åå°„åŸºç¡€ä¿¡æ¯&#34;&gt;åå°„åŸºç¡€ä¿¡æ¯&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func reflectDemo() {&#xA;    str := &amp;quot;reflect&amp;quot;&#xA;    fmt.Println(reflect.ValueOf(str))&#xA;    fmt.Println(reflect.TypeOf(str))&#xA;}&#xA;// ç»“æœ&#xA;// reflect&#xA;// string&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;reflect.ValueOf()è·å–æ•°æ®è¿è¡Œæ—¶çš„å€¼ã€‚&#xA;reflect.TypeOf()è·å–æ•°æ®ç±»å‹ä¿¡æ¯ã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// Type values are comparable, such as with the == operator,&#xA;// so they can be used as map keys.&#xA;// Two Type values are equal if they represent identical types.&#xA;type Type interface {&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// To compare two Values, compare the results of the Interface method.&#xA;// Using == on two Values does not compare the underlying values&#xA;// they represent.&#xA;type Value struct {&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;ä»æºç ä¸­å¯ä»¥çœ‹å‡ºï¼ŒTypeæ˜¯ä¸ªinterfaceï¼Œè€ŒValueæ˜¯ä¸ªstructã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Goè¯­è¨€deferã€panicã€recover</title>
      <link>https://qiref.github.io/post/2021/06/15/go%E8%AF%AD%E8%A8%80deferpanicrecover/</link>
      <pubDate>Tue, 15 Jun 2021 10:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/15/go%E8%AF%AD%E8%A8%80deferpanicrecover/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šç†è§£Goè¯­è¨€deferã€panicã€recoverã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;defer&#34;&gt;defer&lt;/h2&gt;&#xA;&lt;p&gt;Go è¯­è¨€çš„ defer ä¼šåœ¨å½“å‰å‡½æ•°è¿”å›å‰æ‰§è¡Œä¼ å…¥çš„å‡½æ•°ï¼Œå®ƒä¼šç»å¸¸è¢«ç”¨äºå…³é—­æ–‡ä»¶æè¿°ç¬¦ã€å…³é—­æ•°æ®åº“è¿æ¥ä»¥åŠè§£é”èµ„æºï¼Œæ€»ç»“ä¸€å¥è¯å°±æ˜¯å®Œæˆå‡½æ•°æ‰§è¡Œå®Œçš„æ”¶å°¾å·¥ä½œã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func DeferDemo() {&#xA;    defer fmt.Println(&amp;quot;this is defer println&amp;quot;)&#xA;    fmt.Println(&amp;quot;this is println&amp;quot;)&#xA;}&#xA;// è¾“å‡º&#xA;// this is println&#xA;// this is defer println&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;è¿è¡Œä»¥ä¸Šä»£ç æ¯æ¬¡éƒ½æ˜¯ç¬¬äºŒä¸ªprintlnå…ˆè¾“å‡ºï¼Œç„¶åæ‰æ˜¯deferå…³é”®å­—ä¿®é¥°çš„printlnè¾“å‡ºã€‚&lt;/p&gt;&#xA;&lt;p&gt;å¦‚æœæœ‰å¤šä¸ªdeferï¼Œè¾“å‡ºé¡ºåºåˆä¼šå¦‚ä½•ï¼Ÿ&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func MultiDeferDemo() {&#xA;    for i := 0; i &amp;lt; 5; i++ {&#xA;        defer fmt.Println(&amp;quot; defer &amp;quot;, i)&#xA;    }&#xA;}&#xA;// è¾“å‡º&#xA;// defer  4&#xA;// defer  3&#xA;// defer  2&#xA;// defer  1&#xA;// defer  0&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;æ¯æ¬¡æœ€å…ˆè¾“å‡ºçš„éƒ½æ˜¯å¾ªç¯çš„æœ€åä¸€ä¸ªprintlnï¼Œå¯ä»¥å¾—å‡ºï¼šå¤šä¸ªdeferï¼Œè¿è¡Œé¡ºåºéµå¾ªLIFOè§„åˆ™ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Goè¯­è¨€åŒ…ç®¡ç†</title>
      <link>https://qiref.github.io/post/2021/06/10/go%E8%AF%AD%E8%A8%80%E5%8C%85%E7%AE%A1%E7%90%86/</link>
      <pubDate>Thu, 10 Jun 2021 10:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/10/go%E8%AF%AD%E8%A8%80%E5%8C%85%E7%AE%A1%E7%90%86/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šGoè¯­è¨€åŒ…ç®¡ç†ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;åŒ…ä½¿ç”¨è§„èŒƒ&#34;&gt;åŒ…ä½¿ç”¨è§„èŒƒ&lt;/h2&gt;&#xA;&lt;p&gt;åŒ…çš„ä¹ æƒ¯ç”¨æ³•ï¼š&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;åŒ…åä¸€èˆ¬æ˜¯å°å†™çš„ï¼Œä½¿ç”¨ä¸€ä¸ªç®€çŸ­ä¸”æœ‰æ„ä¹‰çš„åç§°ã€‚&lt;/li&gt;&#xA;&lt;li&gt;åŒ…åä¸€èˆ¬è¦å’Œæ‰€åœ¨çš„ç›®å½•åŒåï¼Œä¹Ÿå¯ä»¥ä¸åŒï¼ŒåŒ…åä¸­ä¸èƒ½åŒ…å«- ç­‰ç‰¹æ®Šç¬¦å·ã€‚&lt;/li&gt;&#xA;&lt;li&gt;åŒ…ä¸€èˆ¬ä½¿ç”¨åŸŸåä½œä¸ºç›®å½•åç§°ï¼Œè¿™æ ·èƒ½ä¿è¯åŒ…åçš„å”¯ä¸€æ€§ï¼Œæ¯”å¦‚ GitHub é¡¹ç›®çš„åŒ…ä¸€èˆ¬ä¼šæ”¾åˆ°GOPATH/src/github.com/userName/projectName ç›®å½•ä¸‹ã€‚&lt;/li&gt;&#xA;&lt;li&gt;åŒ…åä¸º main çš„åŒ…ä¸ºåº”ç”¨ç¨‹åºçš„å…¥å£åŒ…ï¼Œç¼–è¯‘ä¸åŒ…å« main åŒ…çš„æºç æ–‡ä»¶æ—¶ä¸ä¼šå¾—åˆ°å¯æ‰§è¡Œæ–‡ä»¶ã€‚&lt;/li&gt;&#xA;&lt;li&gt;ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æºç æ–‡ä»¶åªèƒ½å±äºåŒä¸€ä¸ªåŒ…ï¼ŒåŒæ ·å±äºåŒä¸€ä¸ªåŒ…çš„æºç æ–‡ä»¶ä¸èƒ½æ”¾åœ¨å¤šä¸ªæ–‡ä»¶å¤¹ä¸‹ã€‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;Go è¯­è¨€ä¸­ï¼Œæ‰€æœ‰çš„å®šä¹‰ï¼Œæ¯”å¦‚å‡½æ•°ã€å˜é‡ã€ç»“æ„ä½“ç­‰ï¼Œå¦‚æœé¦–å­—æ¯æ˜¯å¤§å†™ï¼Œé‚£ä¹ˆå°±å¯ä»¥è¢«å…¶ä»–åŒ…ä½¿ç”¨ï¼›åŒä¸€åŒ…ä¸‹ï¼Œä¸å­˜åœ¨å¼•ç”¨é—®é¢˜ã€‚&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;åŸºäºåŒ…çš„å°è£…&#34;&gt;åŸºäºåŒ…çš„å°è£…&lt;/h2&gt;&#xA;&lt;p&gt;åœ¨Goè¯­è¨€ä¸­å°è£…å°±æ˜¯æŠŠæŠ½è±¡å‡ºæ¥çš„å­—æ®µå’Œå¯¹å­—æ®µçš„æ“ä½œå°è£…åœ¨ä¸€èµ·ï¼Œæ•°æ®è¢«ä¿æŠ¤åœ¨å†…éƒ¨ï¼Œç¨‹åºçš„å…¶å®ƒåŒ…åªèƒ½é€šè¿‡è¢«æˆæƒçš„æ–¹æ³•ï¼Œæ‰èƒ½å¯¹å­—æ®µè¿›è¡Œæ“ä½œã€‚&lt;/p&gt;&#xA;&lt;p&gt;å°è£…çš„å¥½å¤„ï¼š&#xA;éšè—å®ç°ç»†èŠ‚ï¼›&#xA;å¯ä»¥å¯¹æ•°æ®è¿›è¡ŒéªŒè¯ï¼Œä¿è¯æ•°æ®å®‰å…¨åˆç†ã€‚&lt;/p&gt;&#xA;&lt;p&gt;å°è£…çš„å®ç°æ­¥éª¤ï¼š&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;å°†ç»“æ„ä½“ã€å­—æ®µçš„é¦–å­—æ¯å°å†™ï¼›&lt;/li&gt;&#xA;&lt;li&gt;ç»™ç»“æ„ä½“æ‰€åœ¨çš„åŒ…æä¾›ä¸€ä¸ªå·¥å‚æ¨¡å¼çš„å‡½æ•°ï¼Œé¦–å­—æ¯å¤§å†™ï¼Œç±»ä¼¼ä¸€ä¸ªæ„é€ å‡½æ•°ï¼›&lt;/li&gt;&#xA;&lt;li&gt;æä¾›ä¸€ä¸ªé¦–å­—æ¯å¤§å†™çš„ Set æ–¹æ³•ï¼ˆç±»ä¼¼å…¶å®ƒè¯­è¨€çš„ publicï¼‰ï¼Œç”¨äºå¯¹å±æ€§åˆ¤æ–­å¹¶èµ‹å€¼ï¼›&lt;/li&gt;&#xA;&lt;li&gt;æä¾›ä¸€ä¸ªé¦–å­—æ¯å¤§å†™çš„ Get æ–¹æ³•ï¼ˆç±»ä¼¼å…¶å®ƒè¯­è¨€çš„ publicï¼‰ï¼Œç”¨äºè·å–å±æ€§çš„å€¼ã€‚&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 id=&#34;åŒ…çš„åˆå§‹åŒ–&#34;&gt;åŒ…çš„åˆå§‹åŒ–&lt;/h2&gt;&#xA;&lt;p&gt;æ¯ä¸ªåŒ…éƒ½å…è®¸æœ‰ä¸€ä¸ª init å‡½æ•°ï¼Œå½“è¿™ä¸ªåŒ…è¢«å¯¼å…¥æ—¶ï¼Œä¼šæ‰§è¡Œè¯¥åŒ…çš„è¿™ä¸ª init å‡½æ•°ï¼Œåšä¸€äº›åˆå§‹åŒ–ä»»åŠ¡ã€‚&#xA;å¯¹äº init å‡½æ•°çš„æ‰§è¡Œæœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„:&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;init å‡½æ•°ä¼˜å…ˆäº main å‡½æ•°æ‰§è¡Œ&lt;/li&gt;&#xA;&lt;li&gt;åœ¨ä¸€ä¸ªåŒ…å¼•ç”¨é“¾ä¸­ï¼ŒåŒ…çš„åˆå§‹åŒ–æ˜¯æ·±åº¦ä¼˜å…ˆçš„ã€‚æ¯”å¦‚ï¼Œæœ‰è¿™æ ·ä¸€ä¸ªåŒ…å¼•ç”¨å…³ç³»ï¼šmainâ†’Aâ†’Bâ†’Cï¼Œé‚£ä¹ˆåˆå§‹åŒ–é¡ºåºä¸º&#xA;C.initâ†’B.initâ†’A.initâ†’main&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 id=&#34;å°è£…å¼•ç”¨å®ä¾‹&#34;&gt;å°è£…å¼•ç”¨å®ä¾‹&lt;/h2&gt;&#xA;&lt;p&gt;å»ºç«‹å¦‚ä¸‹å·¥ç¨‹ç»“æ„ï¼Œåœ¨mainåŒ…ä¸­éœ€è¦è®¿é—®modelåŒ…ä¸­çš„å†…å®¹ã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;project&#xA;|---src&#xA;    |---main&#xA;        -main.go&#xA;    |---model&#xA;        -student.go&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;student.go&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;type student struct {&#xA;    Name      string&#xA;    idCardNum string // ç§æœ‰ï¼Œå¤–éƒ¨åŒ…ä¸å¯è®¿é—®&#xA;    Age       int8&#xA;}&#xA;&#xA;func NewStudent(stuName string, age int8) *student {&#xA;    return &amp;amp;student{&#xA;        Name: stuName,&#xA;        Age:  age,&#xA;    }&#xA;}&#xA;&#xA;// å®šä¹‰ç»“æ„ä½“æ–¹æ³•&#xA;func (stu *student) SetIdCardNum(idCN string) {&#xA;    stu.idCardNum = idCN&#xA;}&#xA;&#xA;// å®šä¹‰ç»“æ„ä½“æ–¹æ³•&#xA;func (stu *student) GetIdCardNum() string {&#xA;    return stu.idCardNum&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;main.go&lt;/p&gt;</description>
    </item>
    <item>
      <title>Goè¯­è¨€channel</title>
      <link>https://qiref.github.io/post/2021/06/09/go%E8%AF%AD%E8%A8%80channel/</link>
      <pubDate>Wed, 09 Jun 2021 21:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/09/go%E8%AF%AD%E8%A8%80channel/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šGoè¯­è¨€ä¸­ï¼Œåç¨‹ä¹‹é—´é€šè¿‡channelç›¸äº’é€šä¿¡ï¼Œå¯ä»¥ä»ä¸€ä¸ªGoåç¨‹å°†å€¼å‘é€åˆ°é€šé“ï¼Œç„¶ååœ¨åˆ«çš„åç¨‹ä¸­æ¥æ”¶ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;channel-å®šä¹‰&#34;&gt;channel å®šä¹‰&lt;/h2&gt;&#xA;&lt;p&gt;å®šä¹‰channelçš„è¯­æ³•ä¸ºï¼šmake(chan val-type)ï¼Œval-typeå°±æ˜¯éœ€è¦ä¼ é€’å€¼çš„ç±»å‹ã€‚ &lt;code&gt;chan1 &amp;lt;- val&lt;/code&gt; è¡¨ç¤ºå°†valå‘é€åˆ°channel chann1ä¸­ï¼Œ &lt;code&gt;r := &amp;lt;- chann1&lt;/code&gt;è¡¨ç¤ºä»chann1ä¸­è¯»å–æ¶ˆæ¯ã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func Ping(c *chan string, s string) {&#xA;    *c &amp;lt;- s&#xA;}&#xA;&#xA;func Pong(c *chan string) string {&#xA;    return &amp;lt;-*c&#xA;}&#xA;&#xA;// main&#xA;func main() {&#xA;&#xA;    c := make(chan string)&#xA;    go Ping(&amp;amp;c, &amp;quot;ping&amp;quot;)&#xA;    go func() {&#xA;        pong := Pong(&amp;amp;c)&#xA;        fmt.Println(pong)&#xA;    }()&#xA;&#xA;    time.Sleep(time.Second * 2)&#xA;}&#xA;&#xA;// ç»“æœ&#xA;// ping&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå‘é€šé“ä¸­å‘é€æ¶ˆæ¯å’Œä»é€šé“ä¸­æ¥æ”¶æ¶ˆæ¯ï¼Œéƒ½æ˜¯é˜»å¡çš„ï¼Œå¦‚æœå‘é€å’Œæ¥æ”¶ä¸æ˜¯æˆå¯¹å‡ºç°ï¼Œå°±ä¼šå‘ç”Ÿé”™è¯¯ã€‚&#xA;å°†ä¸Šæ–‡ä¸­ä»£ç æ”¹æˆè¿™æ ·ï¼š&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;c := make(chan string)&#xA;Ping(&amp;amp;c, &amp;quot;ping&amp;quot;)&#xA;//go func() {&#xA;//    pong := Pong(&amp;amp;c)&#xA;//    fmt.Println(pong)&#xA;//}()&#xA;&#xA;time.Sleep(time.Second * 2)&#xA;&#xA;//fatal error: all goroutines are asleep - deadlock!&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2 id=&#34;channelæ–¹å‘&#34;&gt;channelæ–¹å‘&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func pong(ping &amp;lt;-chan string, pong chan&amp;lt;- string) {&#xA;    msg := &amp;lt;-ping&#xA;    pong &amp;lt;- msg&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;åœ¨chançš„å®šä¹‰ä¸­ï¼Œç®­å¤´çš„æ–¹å‘æ˜¯å›ºå®šçš„ï¼Œ&lt;code&gt;&amp;lt;-&lt;/code&gt;ç®­å¤´æ–¹å‘åªèƒ½å‘å·¦ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Goè¯­è¨€æ¥å£</title>
      <link>https://qiref.github.io/post/2021/06/05/go%E8%AF%AD%E8%A8%80%E6%8E%A5%E5%8F%A3/</link>
      <pubDate>Sat, 05 Jun 2021 21:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/05/go%E8%AF%AD%E8%A8%80%E6%8E%A5%E5%8F%A3/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šGoæ”¯æŒæ¥å£ï¼Œæ¥å£æ˜¯æ–¹æ³•ç‰¹å¾çš„å‘½åé›†åˆã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h1 id=&#34;goè¯­è¨€æ¥å£&#34;&gt;goè¯­è¨€æ¥å£&lt;/h1&gt;&#xA;&lt;p&gt;goè¯­è¨€ä¸­æœ‰æ¥å£çš„æ¦‚å¿µï¼Œæ¥å£æ˜¯æ–¹æ³•ç‰¹å¾çš„å‘½åé›†åˆã€‚å®ƒæŠŠæ‰€æœ‰çš„å…·æœ‰å…±æ€§çš„æ–¹æ³•å®šä¹‰åœ¨ä¸€èµ·ï¼Œä»»ä½•å…¶ä»–ç±»å‹åªè¦å®ç°äº†è¿™äº›æ–¹æ³•å°±æ˜¯å®ç°äº†è¿™ä¸ªæ¥å£ã€‚&lt;/p&gt;&#xA;&lt;p&gt;æ³¨æ„ï¼Œå®ç°äº†è¿™äº›æ–¹æ³•å°±ç®—å®ç°äº†è¿™ä¸ªæ¥å£ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;å®šä¹‰æ¥å£&#34;&gt;å®šä¹‰æ¥å£&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// å®šä¹‰geometryæ¥å£&#xA;type geometry interface {&#xA;    area() float64&#xA;    peri() float64&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;æ¥å£çš„å®šä¹‰ä¹Ÿæ¯”è¾ƒç®€å•ã€‚å®šä¹‰å’Œå®ç°è§„åˆ™å¦‚ä¸‹ï¼š&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;/* å®šä¹‰æ¥å£ */&#xA;type interface_name interface {&#xA;   method_name1 [return_type]&#xA;   method_name2 [return_type]&#xA;   method_name3 [return_type]&#xA;   ...&#xA;   method_namen [return_type]&#xA;}&#xA;&#xA;/* å®šä¹‰ç»“æ„ä½“ */&#xA;type struct_name struct {&#xA;   /* variables */&#xA;}&#xA;&#xA;/* å®ç°æ¥å£æ–¹æ³• */&#xA;func (struct_name_variable struct_name) method_name1() [return_type] {&#xA;   /* æ–¹æ³•å®ç° */&#xA;}&#xA;...&#xA;func (struct_name_variable struct_name) method_namen() [return_type] {&#xA;   /* æ–¹æ³•å®ç°*/&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2 id=&#34;å®ç°æ¥å£&#34;&gt;å®ç°æ¥å£&lt;/h2&gt;&#xA;&lt;p&gt;Goè¯­è¨€ä¸­æ¥å£çš„å®ç°éƒ½æ˜¯éšå¼çš„ï¼Œé»˜è®¤å®ç°äº†æ¥å£çš„æ‰€æœ‰æ–¹æ³•å°±éšå¼åœ°å®ç°äº†æ¥å£ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Goè¯­è¨€æŒ‡é’ˆ</title>
      <link>https://qiref.github.io/post/2021/06/05/go%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88/</link>
      <pubDate>Sat, 05 Jun 2021 21:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/05/go%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šGoæ”¯æŒæŒ‡é’ˆï¼Œå…è®¸åœ¨ç¨‹åºä¸­é€šè¿‡å¼•ç”¨ä¼ é€’å€¼æˆ–è€…æ•°æ®ç»“æ„ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;goè¯­è¨€ä¸­çš„æŒ‡é’ˆå’ŒCè¯­è¨€ä¸­çš„æŒ‡é’ˆç±»ä¼¼ï¼Œä½†æ¯”Cè¯­è¨€ä¸­çš„æŒ‡é’ˆæ›´ç®€å•ã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// Goè¯­è¨€å–åœ°å€ç¬¦å·æ˜¯&amp;amp;ï¼Œæ”¾åˆ°å˜é‡å‰ä¼šè¿”å›å¯¹åº”å˜é‡çš„å†…å­˜åœ°å€&#xA;var i1 int = 1&#xA;var j = i1&#xA;&#xA;fmt.Println(&amp;amp;i1)&#xA;fmt.Println(&amp;amp;j)&#xA;&#xA;// å®šä¹‰æŒ‡é’ˆå˜é‡ var var_name *var_type&#xA;s := &amp;quot;sss&amp;quot;&#xA;p := 2181&#xA;&#xA;var ip *string = &amp;amp;s&#xA;var port *int = &amp;amp;p&#xA;&#xA;fmt.Println(*ip)&#xA;fmt.Println(*port)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;å˜é‡ã€æŒ‡é’ˆå’Œåœ°å€ä¸‰è€…çš„å…³ç³»æ˜¯ï¼Œæ¯ä¸ªå˜é‡éƒ½æ‹¥æœ‰åœ°å€ï¼ŒæŒ‡é’ˆçš„å€¼å°±æ˜¯åœ°å€ã€‚&lt;/p&gt;&#xA;&lt;p&gt;é€šè¿‡&lt;code&gt;&amp;amp;&lt;/code&gt; è·å–å¯¹åº”å˜é‡çš„å†…å­˜åœ°å€ã€‚ é€šè¿‡&lt;code&gt;*&lt;/code&gt; è·å–æŒ‡é’ˆçš„å€¼ï¼Œä¹Ÿå°±æ˜¯æŒ‡é’ˆå–å€¼ã€‚å–åœ°å€æ“ä½œç¬¦ &lt;code&gt;&amp;amp;&lt;/code&gt; å’Œå–å€¼æ“ä½œç¬¦ &lt;code&gt;*&lt;/code&gt; æ˜¯ä¸€å¯¹äº’è¡¥æ“ä½œç¬¦ï¼Œ&lt;code&gt;&amp;amp;&lt;/code&gt; å–å‡ºåœ°å€ï¼Œ&lt;code&gt;*&lt;/code&gt; æ ¹æ®åœ°å€å–å‡ºåœ°å€æŒ‡å‘çš„å€¼ã€‚&lt;/p&gt;&#xA;&lt;p&gt;å˜é‡ã€æŒ‡é’ˆåœ°å€ã€æŒ‡é’ˆå˜é‡ã€å–åœ°å€ã€å–å€¼çš„ç›¸äº’å…³ç³»å’Œç‰¹æ€§å¦‚ä¸‹ï¼š&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;å¯¹å˜é‡è¿›è¡Œå–åœ°å€æ“ä½œä½¿ç”¨&amp;amp;æ“ä½œç¬¦ï¼Œå¯ä»¥è·å¾—è¿™ä¸ªå˜é‡çš„æŒ‡é’ˆå˜é‡ã€‚&lt;/li&gt;&#xA;&lt;li&gt;æŒ‡é’ˆå˜é‡çš„å€¼æ˜¯æŒ‡é’ˆåœ°å€ã€‚&lt;/li&gt;&#xA;&lt;li&gt;å¯¹æŒ‡é’ˆå˜é‡è¿›è¡Œå–å€¼æ“ä½œä½¿ç”¨*æ“ä½œç¬¦ï¼Œå¯ä»¥è·å¾—æŒ‡é’ˆå˜é‡æŒ‡å‘çš„åŸå˜é‡çš„å€¼ã€‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;é€šè¿‡newåˆ›å»ºæŒ‡é’ˆ&#34;&gt;é€šè¿‡New()åˆ›å»ºæŒ‡é’ˆ&lt;/h2&gt;&#xA;&lt;p&gt;Goè¯­è¨€è¿˜æä¾›äº†å¦å¤–ä¸€ç§æ–¹æ³•æ¥åˆ›å»ºæŒ‡é’ˆå˜é‡ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š&#xA;new(type) è¿™ä¸ªtypeå¯ä»¥ä¸ºintã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// create ptr by new()&#xA;func createPtr() {&#xA;    str := new(string)&#xA;    *str = &amp;quot;ssss&amp;quot;&#xA;&#xA;    fmt.Println(&amp;quot;str is : &amp;quot;, str)&#xA;    fmt.Println(&amp;quot;*str is : &amp;quot;, *str)&#xA;&#xA;    // str is :  0xc000116050&#xA;    // *str is :  ssss&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;new() å‡½æ•°å¯ä»¥åˆ›å»ºä¸€ä¸ªå¯¹åº”ç±»å‹çš„æŒ‡é’ˆï¼Œåˆ›å»ºè¿‡ç¨‹ä¼šåˆ†é…å†…å­˜ï¼Œè¢«åˆ›å»ºçš„æŒ‡é’ˆæŒ‡å‘é»˜è®¤å€¼ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Goè¯­è¨€goroutine</title>
      <link>https://qiref.github.io/post/2021/06/03/go%E8%AF%AD%E8%A8%80goroutine/</link>
      <pubDate>Thu, 03 Jun 2021 21:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/03/go%E8%AF%AD%E8%A8%80goroutine/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šGoè¯­è¨€goroutine&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;goroutineåç¨‹&#34;&gt;goroutineåç¨‹&lt;/h2&gt;&#xA;&lt;p&gt;Go åç¨‹ åœ¨æ‰§è¡Œä¸Šæ¥è¯´æ˜¯è½»é‡çº§çš„çº¿ç¨‹ã€‚goè¯­è¨€å±‚é¢å¹¶ä¸æ”¯æŒå¤šè¿›ç¨‹æˆ–å¤šçº¿ç¨‹ï¼Œä½†æ˜¯åç¨‹æ›´å¥½ç”¨ï¼Œåç¨‹è¢«ç§°ä¸ºç”¨æˆ·æ€çº¿ç¨‹ï¼Œä¸å­˜åœ¨CPUä¸Šä¸‹æ–‡åˆ‡æ¢é—®é¢˜ï¼Œæ•ˆç‡éå¸¸é«˜ã€‚&lt;/p&gt;&#xA;&lt;p&gt;goè¯­è¨€ä¸­å¯åŠ¨ä¸€ä¸ªåç¨‹éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨æ‰§è¡Œå‡½æ•°å‰åŠ ä¸Šgoå…³é”®å­—ï¼Œå°±å¯ä»¥å¯ç”¨goroutineã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func main() {&#xA;&#xA;    // ä½¿ç”¨åŒ¿åå‡½æ•°å¯ç”¨goroutine&#xA;    go func() {&#xA;        fmt.Println(&amp;quot;goroutine&amp;quot;)&#xA;    }()&#xA;&#xA;    // è°ƒç”¨å‡½æ•°å¯ç”¨goroutine&#xA;    go func1()&#xA;}&#xA;&#xA;func func1() {&#xA;    fmt.Println(&amp;quot;f1() was called.&amp;quot;)&#xA;}&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;æ²¡é”™å°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œåœ¨goè¯­è¨€ä¸­ï¼Œgoroutineä¼šè¢«æ”¾åˆ°è¿è¡Œé˜Ÿåˆ—runtime.runqputä¸­ï¼Œç„¶åç”±è°ƒåº¦å™¨è°ƒåº¦ã€‚å¹¶éæ˜¯æ¯ä¸€ä¸ªåç¨‹éƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„çº¿ç¨‹å»æ‰§è¡Œï¼Œåç¨‹æ¯”çº¿ç¨‹çš„ç²’åº¦æ›´ç»†ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ä½†æ˜¯ä¸Šè¿°ä»£ç å¹¶ä¸ä¼šæœ‰è¾“å‡ºç»“æœï¼Œå› ä¸ºè¿˜æ²¡ç­‰func1()å‡½æ•°æ‰§è¡Œå®Œæˆï¼Œmain()å°±å·²ç»æ‰§è¡Œå®Œæˆäº†ã€‚æ‰€ä»¥åœ¨main()å‡½æ•°æ‰§è¡Œå®Œæˆä¹‹å‰sleepä¸€ä¸‹å°±å¯ä»¥çœ‹åˆ°func1()çš„æ‰§è¡Œç»“æœã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;time.Sleep(time.Second * 1)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2 id=&#34;waitgroup&#34;&gt;WaitGroup&lt;/h2&gt;&#xA;&lt;p&gt;sleepè‚¯å®šæ˜¯ä¸é è°±çš„ï¼Œgoè¯­è¨€ä¸­å¯ä»¥ç­‰å¾…åç¨‹æ‰§è¡Œå®Œæˆåå†å›åˆ°ä¸»çº¿ç¨‹ã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// å®šä¹‰å…¨å±€å˜é‡&#xA;var WG = sync.WaitGroup{}&#xA;&#xA;func main() {&#xA;    WG.Add(1)&#xA;    go func1()&#xA;    WG.Wait()&#xA;}&#xA;&#xA;func func1() {&#xA;    fmt.Println(&amp;quot;f1() was called.&amp;quot;)&#xA;    WG.Done()&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;åœ¨è°ƒç”¨func1()ä¹‹å‰ï¼Œè°ƒç”¨å…¨å±€å˜é‡WG.Add()æ–¹æ³•ï¼Œç„¶åå¯ç”¨goroutineè°ƒç”¨func1()ï¼Œç„¶åè°ƒç”¨WG.Wait()å‡½æ•°è¿›è¡Œç­‰å¾…ï¼Œfun1()è°ƒç”¨ç»“æŸåï¼Œè°ƒç”¨WG.Done()ã€‚&#xA;é€šè¿‡è¯•éªŒå¯ä»¥å‘ç°ï¼šAdd()æ–¹æ³•ä¸­çš„æ•°å€¼ä¸Done()æ–¹æ³•çš„æ•°é‡åº”è¯¥ä¿æŒä¸€è‡´ã€‚å½“Add(2)æ—¶ï¼ŒDone()æ–¹æ³•åº”è¯¥æ‰§è¡Œä¸¤æ¬¡ã€‚ç›´åˆ° WaitGroup è®¡æ•°å™¨æ¢å¤ä¸º 0ï¼› å³æ‰€æœ‰åç¨‹çš„å·¥ä½œéƒ½å·²ç»å®Œæˆã€‚&#xA;çœ‹æºç å¯ä»¥å‘ç°ï¼ŒDone()ä¸Add()å®é™…ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°ã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// Done decrements the WaitGroup counter by one.&#xA;func (wg *WaitGroup) Done() {&#xA;    wg.Add(-1)&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2 id=&#34;å¤šä¸ªgoroutineå¦‚ä½•æ‰§è¡Œ&#34;&gt;å¤šä¸ªgoroutineå¦‚ä½•æ‰§è¡Œ&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func main() {&#xA;    loop := 5&#xA;    WG.Add(loop)&#xA;    for i := 0; i &amp;lt; loop; i++ {&#xA;        go func2(i)&#xA;    }&#xA;    WG.Wait()&#xA;}&#xA;&#xA;// define func2&#xA;func func2(i int) {&#xA;    fmt.Println(&amp;quot;func2() was called. i is : &amp;quot;, i)&#xA;    WG.Done()&#xA;}&#xA;&#xA;// è¿è¡Œç»“æœï¼š&#xA;//func2() was called. i is : 4&#xA;//func2() was called. i is : 2&#xA;//func2() was called. i is : 3&#xA;//func2() was called. i is : 0&#xA;//func2() was called. i is : 1&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;æ¯ä¸ªgoroutineçš„è¿è¡Œå¹¶ä¸è§„åˆ™ï¼Œæ¯ä¸ªåç¨‹åœ¨å¹¶å‘æ‰§è¡Œã€‚&amp;#x1f914;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Goè¯­è¨€åŸºæœ¬æ•°æ®ç»“æ„</title>
      <link>https://qiref.github.io/post/2021/06/01/go%E8%AF%AD%E8%A8%80%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</link>
      <pubDate>Tue, 01 Jun 2021 21:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/01/go%E8%AF%AD%E8%A8%80%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šGoè¯­è¨€åŸºæœ¬æ•°æ®ç»“æ„&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;æ•°ç»„&#34;&gt;æ•°ç»„&lt;/h2&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;strings := [3]string{&amp;quot;1&amp;quot;, &amp;quot;2&amp;quot;, &amp;quot;2&amp;quot;}&#xA;intArray := [8]int{1, 2, 3, 4, 5, 5, 5, 55}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;å®šä¹‰ä¸¤ä¸ªæ•°ç»„,&lt;code&gt;fmt.Println(len(strings))&lt;/code&gt; å¯ä»¥ä½¿ç”¨&lt;code&gt;len()&lt;/code&gt;å‡½æ•°å¾—åˆ°æ•°ç»„çš„é•¿åº¦ï¼Œ&lt;code&gt;strings[1]&lt;/code&gt;å¯ä»¥è·å–æŒ‡å®šæ•°ç»„ä¸‹æ ‡çš„å…ƒç´ ã€‚&lt;/p&gt;&#xA;&lt;p&gt;æ‰€ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å¯ä»¥éå†æ•°ç»„ï¼š&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;for i := 0; i &amp;lt; len(strings); i++ {&#xA;    fmt.Println(strings[i])&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;ä¸‹æ–‡æä¾›äº†æ›´åŠ ä¼˜é›…çš„æ–¹å¼ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;slice&#34;&gt;slice&lt;/h2&gt;&#xA;&lt;p&gt;Goæ•°ç»„çš„é•¿åº¦ä¸å¯å˜ï¼ŒGoæä¾›äº†ä¸€ç§å†…ç½®ç±»å‹åˆ‡ç‰‡:sliceï¼Œä¸æ•°ç»„ç›¸æ¯”ï¼Œåˆ‡ç‰‡çš„é•¿åº¦ä¸æ˜¯å›ºå®šçš„ï¼Œå¯ä»¥åŠ¨æ€æ‰©å®¹ã€æ·»åŠ å…ƒç´ ã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;slice1 := make([]string, 2)&#xA;fmt.Println(slice1)&#xA;&#xA;slice1[0] = &amp;quot;22&amp;quot;&#xA;slice1[1] = &amp;quot;222&amp;quot;&#xA;fmt.Println(slice1)&#xA;&#xA;slice1 = append(slice1, &amp;quot;33&amp;quot;, &amp;quot;44&amp;quot;, &amp;quot;55&amp;quot;)&#xA;fmt.Println(slice1)&#xA;fmt.Println(len(slice1))&#xA;&#xA;// è£å‰ªï¼Œä»index 2 åˆ°index 4&#xA;sliceSub := slice1[2:4]&#xA;fmt.Println(sliceSub)&#xA;&#xA;// è£å‰ªï¼Œä»index 2 åˆ°æœ€å&#xA;sliceSub2 := slice1[2:]&#xA;fmt.Println(sliceSub2)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;make()&lt;/code&gt; æ–¹æ³•å¯ä»¥æ„å»ºä¸€ä¸ªsliceï¼Œå¹¶å¯ä»¥æŒ‡å®šåˆå§‹åŒ–å¤§å°å’Œå®¹é‡ï¼›&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;len()&lt;/code&gt; å¯ä»¥è·å–sliceçš„å¤§å°ï¼›&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;append()&lt;/code&gt; å¯ä»¥æƒ³sliceä¸­æ·»åŠ å…ƒç´ ï¼›&lt;/li&gt;&#xA;&lt;li&gt;å¯ä»¥é€šè¿‡è£å‰ªï¼Œä¸‹æ ‡ç§»åŠ¨ç­‰æ–¹å¼åˆ é™¤sliceã€‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;sliceä»å¤´éƒ¨åˆ é™¤&#34;&gt;sliceä»å¤´éƒ¨åˆ é™¤&lt;/h3&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;a = []int{1, 2, 3}&#xA;a = a[1:] // åˆ é™¤å¼€å¤´1ä¸ªå…ƒç´ &#xA;a = a[N:] // åˆ é™¤å¼€å¤´Nä¸ªå…ƒç´ &#xA;&#xA;a = append(a[:0], a[1:]...) // åˆ é™¤å¼€å¤´1ä¸ªå…ƒç´ &#xA;a = append(a[:0], a[N:]...) // åˆ é™¤å¼€å¤´Nä¸ªå…ƒç´ &#xA;&#xA;a = a[:copy(a, a[1:])] // åˆ é™¤å¼€å¤´1ä¸ªå…ƒç´ &#xA;a = a[:copy(a, a[N:])] // åˆ é™¤å¼€å¤´Nä¸ªå…ƒç´ &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h3 id=&#34;sliceä»ä¸­é—´åˆ é™¤&#34;&gt;sliceä»ä¸­é—´åˆ é™¤&lt;/h3&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;a = append(a[:i], a[i+1:]...) // åˆ é™¤ä¸­é—´1ä¸ªå…ƒç´ &#xA;a = append(a[:i], a[i+N:]...) // åˆ é™¤ä¸­é—´Nä¸ªå…ƒç´ &#xA;a = a[:i+copy(a[i:], a[i+1:])] // åˆ é™¤ä¸­é—´1ä¸ªå…ƒç´ &#xA;a = a[:i+copy(a[i:], a[i+N:])] // åˆ é™¤ä¸­é—´Nä¸ªå…ƒç´ &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h3 id=&#34;sliceä»å°¾éƒ¨åˆ é™¤&#34;&gt;sliceä»å°¾éƒ¨åˆ é™¤&lt;/h3&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;a = a[:len(a)-1] // åˆ é™¤å°¾éƒ¨1ä¸ªå…ƒç´ &#xA;a = a[:len(a)-N] // åˆ é™¤å°¾éƒ¨Nä¸ªå…ƒç´ &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h3 id=&#34;slice-æ‰©å®¹&#34;&gt;slice æ‰©å®¹&lt;/h3&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;slice2 := make([]string, 1, 1)&#xA;// cap()å‡½æ•°, è®¡ç®—sliceé•¿åº¦å¯ä»¥è¾¾åˆ°å¤šå°‘&#xA;fmt.Println(&amp;quot;cap(slice1) is :&amp;quot;, cap(slice1))&#xA;&#xA;slice2[0] = &amp;quot;0&amp;quot;&#xA;&#xA;slice2 = append(slice2, &amp;quot;3&amp;quot;)&#xA;fmt.Println(&amp;quot;cap(slice2) is :&amp;quot;, cap(slice2))&#xA;&#xA;numbers := []int{0, 1, 2, 3, 4, 5}&#xA;&#xA;numbers = append(numbers, 6)&#xA;&#xA;fmt.Println(numbers)&#xA;fmt.Println(cap(numbers))&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;é€šè¿‡&lt;code&gt;cap()&lt;/code&gt;å‡½æ•°å¯ä»¥è·å–sliceçš„å®¹é‡ï¼Œå®¹é‡æ˜¯&lt;code&gt;make()&lt;/code&gt;å‡½æ•°çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œè¶…è¿‡è®¾ç½®çš„å®¹é‡å†å¾€sliceä¸­æ·»åŠ å…ƒç´ å°±ä¼šä½¿sliceæ‰©å®¹ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Goè¯­è¨€å˜é‡</title>
      <link>https://qiref.github.io/post/2021/05/31/go%E8%AF%AD%E8%A8%80%E5%8F%98%E9%87%8F/</link>
      <pubDate>Mon, 31 May 2021 21:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/05/31/go%E8%AF%AD%E8%A8%80%E5%8F%98%E9%87%8F/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šGoè¯­è¨€å˜é‡&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;Goè¯­è¨€ä¸­çš„å˜é‡å®šä¹‰ç›¸å¯¹ä¸¥æ ¼ï¼Œå½“å®šä¹‰ä¸€ä¸ªå±€éƒ¨å˜é‡ä¸ºä½¿ç”¨æ—¶ï¼Œä¼šç¼–è¯‘æŠ¥é”™ï¼Œåœ¨goè¯­è¨€ä¸­ï¼Œæ— éœ€è¦å¤šä½™çš„ä»£ç ã€‚ä½†å…¨å±€å˜é‡é™¤å¤–ï¼Œå®šä¹‰å…¨å±€å˜é‡å…è®¸æš‚ä¸ä½¿ç”¨ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;å…¨å±€å˜é‡&#34;&gt;å…¨å±€å˜é‡&lt;/h2&gt;&#xA;&lt;p&gt;å…¨å±€å˜é‡å¯ä»¥è¢«å…¨å±€è®¿é—®&lt;/p&gt;&#xA;&lt;p&gt;å®šä¹‰å…¨å±€å˜é‡ï¼š&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// global variable&#xA;var x, y int&#xA;&#xA;var (&#xA;    a int&#xA;    b bool&#xA;)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2 id=&#34;åŸºæœ¬å¸¸é‡&#34;&gt;åŸºæœ¬å¸¸é‡&lt;/h2&gt;&#xA;&lt;p&gt;å¸¸é‡ä¸€ç»è¢«å®šä¹‰åæ— æ³•è¢«é‡æ–°èµ‹å€¼ï¼Œå¸¸é‡å¯ä»¥å®šä¹‰ä¸ºå…¨å±€çš„ï¼Œä¹Ÿå¯ä»¥å®šä¹‰ä¸ºå±€éƒ¨çš„ã€‚&lt;/p&gt;&#xA;&lt;p&gt;å®šä¹‰å¸¸é‡ï¼š&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// è¿™æ˜¯ä¸€ä¸ªå¸¸é‡&#xA;const CONST1 = 111&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2 id=&#34;iotaå¸¸é‡&#34;&gt;iotaå¸¸é‡&lt;/h2&gt;&#xA;&lt;p&gt;iotaï¼Œç‰¹æ®Šå¸¸é‡ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªå¯ä»¥è¢«ç¼–è¯‘å™¨ä¿®æ”¹çš„å¸¸é‡ã€‚&#xA;iota åœ¨ constå…³é”®å­—å‡ºç°æ—¶å°†è¢«é‡ç½®ä¸º 0(const å†…éƒ¨çš„ç¬¬ä¸€è¡Œä¹‹å‰)ï¼Œconst ä¸­æ¯æ–°å¢ä¸€è¡Œå¸¸é‡å£°æ˜å°†ä½¿ iota è®¡æ•°ä¸€æ¬¡(iota å¯ç†è§£ä¸º const è¯­å¥å—ä¸­çš„è¡Œç´¢å¼•)ã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;const (&#xA;    a = iota&#xA;    b = iota&#xA;    c = iota&#xA;)&#xA;&#xA;// ä»¥ä¸Šå†™æ³•å¯ä»¥ç®€å†™ä¸º&#xA;const (&#xA;    d = iota&#xA;    e&#xA;    f&#xA;)&#xA;&#xA;fmt.Println(a, b, c)&#xA;fmt.Println(d, e, f)&#xA;&#xA;// è¾“å‡ºç»“æœï¼š&#xA;&#xA;// 0 1 2&#xA;// 0 1 2 &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;iotaå¸¸é‡å¯ä»¥æ¢å¤è®¡æ•°&lt;/p&gt;</description>
    </item>
    <item>
      <title>MySQLæ‰§è¡Œè®¡åˆ’</title>
      <link>https://qiref.github.io/post/2020/10/21/mysql%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92/</link>
      <pubDate>Wed, 21 Oct 2020 11:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2020/10/21/mysql%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92/</guid>
      <description>&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯sqlæ‰§è¡Œè®¡åˆ’&#34;&gt;ä»€ä¹ˆæ˜¯SQLæ‰§è¡Œè®¡åˆ’&lt;/h2&gt;&#xA;&lt;p&gt;EXPLAINå‘½ä»¤æ˜¯æŸ¥çœ‹æŸ¥è¯¢ä¼˜åŒ–å™¨å¦‚ä½•å†³å®šæ‰§è¡ŒæŸ¥è¯¢çš„ä¸»è¦çš„æ–¹æ³•ï¼Œå­¦ä¼šè§£é‡ŠEXPLAINå°†å¸®åŠ©æˆ‘ä»¬äº†è§£SQLä¼˜åŒ–å™¨æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚æ‰§è¡Œè®¡åˆ’å¯ä»¥å‘Šè¯‰æˆ‘ä»¬SQLå¦‚ä½•ä½¿ç”¨ç´¢å¼•ï¼Œè¿æ¥æŸ¥è¯¢çš„æ‰§è¡Œé¡ºåºï¼ŒæŸ¥è¯¢çš„æ•°æ®è¡Œæ•°ã€‚&#xA;è¦ä½¿ç”¨EXPLAIN,åªéœ€è¦åœ¨æŸ¥è¯¢çš„SELECTå…³é”®å­—ä¹‹å‰å¢åŠ EXPLAINè¿™ä¸ªè¯ã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;MySQL [dev]&amp;gt; explain select * from TableName where Name like &#39;%c&#39;;&#xA;+----+-------------+--------------+------------+------+---------------+------+---------+------+------+----------+-------------+&#xA;| id | select_type | table        | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |&#xA;+----+-------------+--------------+------------+------+---------------+------+---------+------+------+----------+-------------+&#xA;|  1 | SIMPLE      | ClusterGroup | NULL       | ALL  | NULL          | NULL | NULL    | NULL |  254 |    11.11 | Using where |&#xA;+----+-------------+--------------+------------+------+---------------+------+---------+------+------+----------+-------------+&#xA;1 row in set, 1 warning (0.01 sec)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2 id=&#34;æ‰§è¡Œè®¡åˆ’å‚æ•°è¯´æ˜&#34;&gt;æ‰§è¡Œè®¡åˆ’å‚æ•°è¯´æ˜&lt;/h2&gt;&#xA;&lt;h3 id=&#34;id&#34;&gt;id&lt;/h3&gt;&#xA;&lt;p&gt;æ˜¯ä¸€ä½æ•°å­—ï¼Œè¡¨ç¤ºselectè¯­å¥çš„é¡ºåºã€‚&#xA;idå€¼ç›¸åŒæ—¶ï¼Œæ‰§è¡Œé¡ºåºä»ä¸Šåˆ°ä¸‹ã€‚idå€¼ä¸åŒæ—¶ï¼Œidå€¼å¤§çš„å…ˆæ‰§è¡Œã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Centosæ­å»ºå…¬å…±yumæº</title>
      <link>https://qiref.github.io/post/2019/12/14/centos%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1yum%E6%BA%90/</link>
      <pubDate>Sat, 14 Dec 2019 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2019/12/14/centos%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1yum%E6%BA%90/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šè®°å½•åœ¨Centos7ä¸­å¦‚ä½•æŒ‚è½½ISOé•œåƒä½œyumæºï¼Œå¹¶å€ŸåŠ©httpæœåŠ¡ä½œå…¬å…±yumæºã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;éƒ¨ç½²yumç§æœ&#xA;ä¸Šä¼ centosé•œåƒæ–‡ä»¶åˆ°æœåŠ¡å™¨&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;mountÂ -tÂ iso9660Â -oÂ loop&#xA;centos-7-x86_64-dvd-1511.isoÂ /mnt/cdrom/&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;ï¼ˆå¸è½½ï¼šumoutn /mnt/cdrom)&lt;/p&gt;&#xA;&lt;p&gt;æŒ‚è½½æˆåŠŸï¼&#xA;å°†è½¯ä»¶é“¾æ¥åˆ°httpæœåŠ¡å‘å¸ƒè·¯å¾„ä¸‹&#xA;ç¡®å®šå½“å‰æœåŠ¡å™¨æ˜¯å¦å®‰è£…äº†httpdæœåŠ¡&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;lnÂ -sÂ /mnt/cdrom/Â /var/www/html/CentOS7 &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;æ£€æŸ¥httpæœåŠ¡&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;systemctlÂ status httpd.service &#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;å¯åŠ¨HTTPæœåŠ¡å™¨&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;systemctlÂ enable httpd.service&#xA;systemctlÂ startÂ httpd.service&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;ç•Œé¢æŸ¥çœ‹&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;cdÂ /etc/yum.repos.d/&#xA;mkdirÂ bak&#xA;mvÂ centos-*Â bak&#xA;viÂ CentOS-Base.repo&#xA;&#xA;[base]&#xA;name=CentOS-$releaseverÂ -Â Base&#xA;baseurl=http://192.168.67.15/CentOS7/&#xA;gpgcheck=1&#xA;gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;åˆ†å‘åˆ°æ‰€æœ‰æœåŠ¡å™¨&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;scpÂ -rÂ /etc/yum.repos.d/Â Â hadoop-01:/etc/&#xA;scpÂ -rÂ /etc/yum.repos.d/Â Â hadoop-02:/etc/&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;æ£€æŸ¥æ˜¯å¦æ­£æˆåŠŸå®‰è£…yumÂ æº&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;yumÂ cleanÂ all&#xA;yumÂ makecache&#xA;yumÂ list&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;å¦‚æœèƒ½çœ‹åˆ°è½¯ä»¶åˆ—è¡¨åˆ™è¯´æ˜å®‰è£…æˆåŠŸã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>é€†æ³¢å…°è¡¨è¾¾å¼ç®—æ³•</title>
      <link>https://qiref.github.io/post/2019/09/04/%E9%80%86%E6%B3%A2%E5%85%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%AE%97%E6%B3%95/</link>
      <pubDate>Wed, 04 Sep 2019 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2019/09/04/%E9%80%86%E6%B3%A2%E5%85%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%AE%97%E6%B3%95/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šå°†ä¸­ç¼€è¡¨è¾¾å¼è½¬åŒ–ä¸ºåç¼€è¡¨è¾¾å¼ï¼Œä»¥åŠè®¡ç®—åç¼€è¡¨è¾¾å¼çš„ç®—æ³•ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;&#xA;import org.slf4j.Logger;&#xA;import org.slf4j.LoggerFactory;&#xA;&#xA;import java.util.HashSet;&#xA;import java.util.Scanner;&#xA;import java.util.Stack;&#xA;&#xA;/**&#xA; * @author YaoQi&#xA; * Date: 2019/1/5 15:45&#xA; * Modified:&#xA; * Description: ä¸­ç¼€è¡¨è¾¾å¼è½¬åç¼€è¡¨è¾¾å¼&#xA; */&#xA;public class InfixToSuffixHandler {&#xA;&#xA;    private static final Logger logger = LoggerFactory.getLogger(InfixToSuffixHandler.class);&#xA;&#xA;    private static HashSet&amp;lt;Character&amp;gt; opStr = new HashSet&amp;lt;&amp;gt;();&#xA;&#xA;    static {&#xA;        logger.info(&amp;quot;Initialization operator&amp;quot;);&#xA;        opStr.add(&#39;+&#39;);&#xA;        opStr.add(&#39;-&#39;);&#xA;        opStr.add(&#39;*&#39;);&#xA;        opStr.add(&#39;/&#39;);&#xA;        logger.info(&amp;quot;Initialization finished&amp;quot;);&#xA;    }&#xA;&#xA;    /**&#xA;     * åˆ¤æ–­å­—ç¬¦æ˜¯å¦ä¸ºæ“ä½œç¬¦&#xA;     *&#xA;     * @param c å­—ç¬¦&#xA;     * @return&#xA;     */&#xA;    private static boolean isOpStr(char c) {&#xA;        return opStr.contains(c);&#xA;    }&#xA;&#xA;    /**&#xA;     * åˆ¤æ–­å­—ç¬¦æ˜¯å¦ä¸ºæ“ä½œæ•°&#xA;     *&#xA;     * @param c å­—ç¬¦&#xA;     * @return&#xA;     */&#xA;    private static boolean isOperand(char c) {&#xA;        return c &amp;gt;= &#39;0&#39; &amp;amp;&amp;amp; c &amp;lt;= &#39;9&#39;;&#xA;    }&#xA;&#xA;    /**&#xA;     * å¾—åˆ°å½“å‰æ“ä½œç¬¦çš„ä¼˜å…ˆçº§&#xA;     *&#xA;     * @param c æ“ä½œç¬¦&#xA;     * @return&#xA;     */&#xA;    private static int priority(char c) {&#xA;        switch (c) {&#xA;            case &#39;*&#39;:&#xA;            case &#39;/&#39;:&#xA;                return 3;&#xA;            case &#39;+&#39;:&#xA;            case &#39;-&#39;:&#xA;                return 2;&#xA;            case &#39;(&#39;:&#xA;                return 1;&#xA;            default: {&#xA;                logger.error(&amp;quot;c: {} is not operator marks&amp;quot;, c);&#xA;                return 0;&#xA;            }&#xA;        }&#xA;    }&#xA;&#xA;    /**&#xA;     * ç”¨åç¼€è¡¨è¾¾å¼æ±‚å€¼&#xA;     *&#xA;     * @param suffixExpr åç¼€è¡¨è¾¾å¼&#xA;     * @return&#xA;     */&#xA;    public static int numberCalculate(String suffixExpr) {&#xA;        Stack&amp;lt;Integer&amp;gt; count = new Stack&amp;lt;&amp;gt;();&#xA;        char c;&#xA;        int number1, number2;&#xA;        for (int i = 0; i &amp;lt; suffixExpr.length(); i++) {&#xA;            if (isOperand(c = suffixExpr.charAt(i))) {&#xA;                count.push(c - &#39;0&#39;);&#xA;            } else {&#xA;                number2 = count.pop();&#xA;                number1 = count.pop();&#xA;                switch (c) {&#xA;                    case &#39;+&#39;:&#xA;                        count.push(number1 + number2);&#xA;                        break;&#xA;                    case &#39;-&#39;:&#xA;                        count.push(number1 - number2);&#xA;                        break;&#xA;                    case &#39;*&#39;:&#xA;                        count.push(number1 * number2);&#xA;                        break;&#xA;                    case &#39;/&#39;:&#xA;                        count.push(number1 / number2);&#xA;                        break;&#xA;                    default:&#xA;                        break;&#xA;                }&#xA;            }&#xA;        }&#xA;        return count.pop();&#xA;    }&#xA;&#xA;&#xA;    /**&#xA;     * å°†ä¸­ç¼€è¡¨è¾¾å¼è½¬åŒ–ä¸ºåç¼€è¡¨è¾¾å¼&#xA;     *&#xA;     * @param expression ä¸­ç¼€è¡¨è¾¾å¼&#xA;     * @return è¿”å›åç¼€è¡¨è¾¾å¼&#xA;     */&#xA;    public static StringBuilder getSuffixExpression(String expression) {&#xA;        //ä¿å­˜å·²å°†å»ºç«‹çš„åç¼€è¡¨è¾¾å¼&#xA;        StringBuilder suffixExpr = new StringBuilder();&#xA;        //æ“ä½œç¬¦æ ˆ&#xA;        Stack&amp;lt;Character&amp;gt; opStr = new Stack&amp;lt;&amp;gt;();&#xA;        //è¾“å…¥è¡¨è¾¾å¼æŸä¸ªä½ç½®çš„å­—ç¬¦&#xA;        char c;&#xA;        //è¿ç®—ç¬¦æ ˆä¸­å¼¹å‡ºçš„å­—ç¬¦&#xA;        char pop;&#xA;        for (int i = 0; i &amp;lt; expression.length(); i++) {&#xA;            c = expression.charAt(i);&#xA;            //å¦‚æœå½“å‰å­—ç¬¦ä¸ºæ“ä½œæ•°&#xA;            if (isOperand(c)) {&#xA;                suffixExpr.append(c);&#xA;            } else if (isOpStr(c)) {&#xA;                //å¦‚æœå½“å‰å­—ç¬¦ä¸ºæ“ä½œç¬¦&#xA;                if (opStr.isEmpty()) {&#xA;                    opStr.push(c);&#xA;                } else {&#xA;                    while (!opStr.isEmpty() &amp;amp;&amp;amp; priority(opStr.peek()) &amp;gt;= priority(c)) {&#xA;                        pop = opStr.pop();&#xA;                        suffixExpr.append(pop);&#xA;                    }&#xA;                    opStr.push(c);&#xA;                }&#xA;            } else if (&#39;(&#39; == c) {&#xA;                //å¦‚æœå½“å‰å­—ç¬¦ä¸ºâ€˜(â€™&#xA;                opStr.push(c);&#xA;            } else if (&#39;)&#39; == c) {&#xA;                //å¦‚æœå½“å‰å­—ç¬¦ä¸ºâ€˜)â€™&#xA;                while ((pop = opStr.pop()) != &#39;(&#39;) {&#xA;                    suffixExpr.append(pop);&#xA;                }&#xA;            } else {&#xA;                logger.error(&amp;quot;c: {} is not valid in {}&amp;quot;, c, expression);&#xA;            }&#xA;        }&#xA;        while (!opStr.isEmpty()) {&#xA;            suffixExpr.append(opStr.pop());&#xA;        }&#xA;        System.out.println(&amp;quot;è½¬æ¢åçš„åç¼€è¡¨è¾¾å¼ä¸ºï¼š&amp;quot; + suffixExpr);&#xA;        return suffixExpr;&#xA;    }&#xA;&#xA;    public static void main(String[] args) {&#xA;        Scanner scan = new Scanner(System.in, &amp;quot;UTF-8&amp;quot;);&#xA;        //è¾“å…¥çš„è¡¨è¾¾å¼&#xA;        String expression = scan.nextLine();&#xA;        // ç”Ÿæˆåç¼€è¡¨è¾¾å¼&#xA;        StringBuilder suffixExpr = getSuffixExpression(expression);&#xA;        System.out.println(&amp;quot;åç¼€è¡¨è¾¾å¼è®¡ç®—çš„ç»“æœä¸ºï¼š&amp;quot; + numberCalculate(suffixExpr.toString()));&#xA;&#xA;    }&#xA;}&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h3 id=&#34;tips&#34;&gt;tips&lt;/h3&gt;&#xA;&lt;p&gt;ä¸€èˆ¬çš„ä»£æ•°è¡¨è¾¾å¼éƒ½æ˜¯ä¸­ç¼€è¡¨è¾¾å¼ï¼Œä¹Ÿå°±æ˜¯æ“ä½œæ•°åœ¨æ“ä½œç¬¦ä¸¤è¾¹ï¼Œåç¼€è¡¨è¾¾å¼ï¼ˆé€†æ³¢å…°è¡¨è¾¾å¼ï¼‰å°±æ˜¯æ“ä½œç¬¦åœ¨æ“ä½œæ•°åé¢ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>sparkå­¦ä¹ ç¬”è®°-RDDåŸºç¡€ç®—å­</title>
      <link>https://qiref.github.io/post/2019/07/27/spark%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-rdd%E5%9F%BA%E7%A1%80%E7%AE%97%E5%AD%90/</link>
      <pubDate>Sat, 27 Jul 2019 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2019/07/27/spark%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-rdd%E5%9F%BA%E7%A1%80%E7%AE%97%E5%AD%90/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šå­¦ä¹ sparkè¿‡ç¨‹ä¸­çš„ç¬”è®°ï¼Œè®°å½•sparkä¸­çš„åŸºç¡€ç®—å­ï¼Œä»¥åŠRDDçš„åŸºæœ¬æ¦‚å¿µã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;spark-transform-operation&#34;&gt;spark transform operation&lt;/h2&gt;&#xA;&lt;p&gt;æºç åœ°å€ï¼š&lt;a href=&#34;https://github.com/YaoQi17/sparkLearning/tree/master/sparkRDD&#34;&gt;https://github.com/YaoQi17/sparkLearning/tree/master/sparkRDD&lt;/a&gt;&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;&#xA;&lt;p&gt;RDD(Resilient Distributed Dataset) å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼Œæ˜¯ä¸€ç»„åˆ†å¸ƒå¼çš„æ•°æ®é›†åˆï¼Œé‡Œé¢çš„å…ƒç´ å¯å¹¶è¡Œè®¡ç®—ï¼Œå¯åˆ†åŒºï¼›&#xA;RDDå…è®¸ç”¨æˆ·åœ¨æ‰§è¡Œå¤šä¸ªæŸ¥è¯¢æ—¶æ˜¾ç¤ºåœ°å°†å·¥ä½œé›†ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œä¾‹å¦‚persist()ï¼›&lt;/p&gt;&#xA;&lt;h3 id=&#34;åˆ›å»ºæ–¹å¼&#34;&gt;åˆ›å»ºæ–¹å¼&lt;/h3&gt;&#xA;&lt;p&gt;åˆ›å»ºRDDçš„ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;è¯»å–å¤–ç•Œæ–‡ä»¶&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;å¤–ç•Œæ–‡ä»¶ä¸å±€é™äºç³»ç»Ÿæ–‡ä»¶ï¼ŒåŒ…æ‹¬HDFSã€HBaseç­‰&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;sparkSession.sparkContext.textFile(&amp;quot;sparkRDD/src/main/resources/data.txt&amp;quot;)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;é€šè¿‡å¹¶è¡ŒåŒ–çš„æ–¹å¼åˆ›å»º&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;val sparkSession = getDefaultSparkSession&#xA;val dataArray = Array(1, 2, 3, 4, 5, 6)&#xA;// åˆ›å»ºä¸€ä¸ªRDD&#xA;val rdd = sparkSession.sparkContext.parallelize(dataArray)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;é€šè¿‡å¹¶è¡ŒåŒ–çš„æ–¹å¼åˆ›å»ºè¿˜å¯ä»¥æŒ‡å®šåˆ†åŒºçš„æ•°é‡&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-scala&#34;&gt;/** Distribute a local Scala collection to form an RDD.&#xA;   *&#xA;   * @note Parallelize acts lazily. If `seq` is a mutable collection and is altered after the call&#xA;   * to parallelize and before the first action on the RDD, the resultant RDD will reflect the&#xA;   * modified collection. Pass a copy of the argument to avoid this.&#xA;   * @note avoid using `parallelize(Seq())` to create an empty `RDD`. Consider `emptyRDD` for an&#xA;   * RDD with no partitions, or `parallelize(Seq[T]())` for an RDD of `T` with empty partitions.&#xA;   * @param seq Scala collection to distribute&#xA;   * @param numSlices number of partitions to divide the collection into&#xA;   * @return RDD representing distributed collection&#xA;   */&#xA;  def parallelize[T: ClassTag](&#xA;      seq: Seq[T],&#xA;      numSlices: Int = defaultParallelism): RDD[T] = withScope {&#xA;    assertNotStopped()&#xA;    new ParallelCollectionRDD[T](this, seq, numSlices, Map[Int, Seq[String]]())&#xA;  }&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h3 id=&#34;rddç¼–ç¨‹&#34;&gt;RDDç¼–ç¨‹&lt;/h3&gt;&#xA;&lt;p&gt;RDDä¸­åŒ…å«ä¸¤ç§ç±»å‹çš„ç®—å­ï¼šTransformationå’ŒActionï¼›&lt;/p&gt;</description>
    </item>
    <item>
      <title>SpringBoot HBase</title>
      <link>https://qiref.github.io/post/2019/07/11/springboot-hbase/</link>
      <pubDate>Thu, 11 Jul 2019 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2019/07/11/springboot-hbase/</guid>
      <description>&lt;p&gt;æ‘˜è¦:è®°å½•è‡ªå·±å†™çš„ä¸€ä¸ªåŸºäºSpringBootæ“ä½œHBaseçš„ç»„ä»¶ï¼Œæ”¯æŒkerberosè®¤è¯æ–¹å¼è®¿é—®ï¼Œæœ¬æ–‡ç›¸å½“äºAPIæ–‡æ¡£ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;hbase-ç»„ä»¶æ¥å£æ–‡æ¡£&#34;&gt;HBase ç»„ä»¶æ¥å£æ–‡æ¡£&lt;/h2&gt;&#xA;&lt;p&gt;æºç åœ°å€ï¼š&lt;a href=&#34;https://github.com/YaoQi17/HBase-Component&#34;&gt;https://github.com/YaoQi17/HBase-Component&lt;/a&gt;&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;ä½¿ç”¨è¯´æ˜&#34;&gt;ä½¿ç”¨è¯´æ˜&lt;/h2&gt;&#xA;&lt;p&gt;åŸºæœ¬æ¦‚å¿µ&lt;/p&gt;&#xA;&lt;p&gt;table: è¡¨&lt;/p&gt;&#xA;&lt;p&gt;columnFamily:åˆ—æ—ï¼Œä¸€ä¸ªè¡¨ä¸‹å¯ä»¥æœ‰å¤šä¸ªåˆ—æ—ï¼Œä½†æ˜¯ä¸å»ºè®®è®¾ç½®å¤šä¸ªåˆ—æ—ï¼ŒHBaseå»ºè®®è®¾è®¡é•¿çª„å‹çš„è¡¨è€Œä¸æ˜¯çŸ­å®½å‹ã€‚&lt;/p&gt;&#xA;&lt;p&gt;qualifier:åˆ—ï¼Œä¸€ä¸ªåˆ—æ—ä¸‹å¯ä»¥æœ‰å¤šåˆ—ï¼Œä¸€ä¸ªè¡¨ä¸­çš„åˆ—å¯ä»¥æ˜¯ä¸å¯¹é½çš„ï¼Œä½†æ˜¯è¿™æ ·æ•ˆç‡ä¸é«˜ï¼ŒåŒä¸€å¼ è¡¨ä¸­çš„åˆ—æœ€å¥½æ˜¯ç›¸åŒçš„ã€‚&lt;/p&gt;&#xA;&lt;p&gt;cell:ä¸€åˆ—æ•°æ®ä¸‹çš„ä¸€ä¸ªå•å…ƒæ ¼ï¼Œä¸€ä¸ªåˆ—ä¸‹å¯ä»¥æœ‰å¤šä¸ªå•å…ƒæ ¼ï¼Œæ ¹æ®ç‰ˆæœ¬å·åŒºåˆ†ï¼Œé»˜è®¤æ¯æ¬¡è¯»å–æœ€æ–°ç‰ˆæœ¬çš„æ•°æ®ï¼Œcellä¸‹çš„å­˜å‚¨æ˜¯æ•°æ®æœ¬èº«ã€‚&lt;/p&gt;&#xA;&lt;p&gt;row: è¡Œï¼Œå¤šåˆ—æ•°æ®ç»„æˆä¸€è¡Œï¼Œä¸€è¡Œä¸­æœ‰å¤šä¸ªqualifierã€‚&lt;/p&gt;&#xA;&lt;p&gt;rowKey: è¡Œå¥ï¼Œç”¨äºå”¯ä¸€æ ‡è¯†ä¸€è¡Œæ•°æ®ï¼Œä¸€è¡Œä¸‹æœ‰å¤šåˆ—ï¼Œè¡Œå¥çš„è®¾è®¡ç›´æ¥å…³ç³»åˆ°æŸ¥è¯¢çš„æ•ˆç‡ã€‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;hbaseé…ç½®&#34;&gt;HBaseé…ç½®&lt;/h3&gt;&#xA;&lt;p&gt;ä»¥ä¸‹é…ç½®ä¸ºæœ€åŸºç¡€é…ç½®ï¼Œç¼ºä¸€ä¸å¯ã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-yml&#34;&gt;HBase:&#xA;  conf:&#xA;    quorum: 192.168.80.234:2181,192.168.80.235:2181,192.168.80.241:2181&#xA;    znodeParent: /hbase-unsecure&#xA;    #å¦‚æœæœ‰æ›´å¤šé…ç½®ï¼Œå†™åœ¨configä¸‹ï¼Œä¾‹å¦‚ï¼š&#xA;    #config:&#xA;    #  key: value&#xA;    #  key: value&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;å¦‚æœéœ€è¦æ›´å¤šé…ç½®ï¼Œéœ€è¦åœ¨configä¸­é…ç½®ï¼Œä»¥key-valueçš„å½¢å¼ä¹¦å†™ã€‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;å‚æ•°è¯´æ˜&#34;&gt;å‚æ•°è¯´æ˜&lt;/h3&gt;&#xA;&lt;p&gt;quorumæ˜¯HBaseä¸­zookeeperçš„é…ç½®ï¼ŒznodeParentæ˜¯HBaseé…ç½®åœ¨zookeeperä¸­çš„è·¯å¾„ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;ç®€å•ç¤ºä¾‹&#34;&gt;ç®€å•ç¤ºä¾‹&lt;/h2&gt;&#xA;&lt;p&gt;å¼•å…¥ç»„ä»¶jaråŒ…ï¼š&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;dependency&amp;gt;&#xA;    &amp;lt;groupId&amp;gt;com.semptian.hbase.component&amp;lt;/groupId&amp;gt;&#xA;    &amp;lt;artifactId&amp;gt;hbase-component&amp;lt;/artifactId&amp;gt;&#xA;    &amp;lt;version&amp;gt;1.0.1-SNAPSHOT&amp;lt;/version&amp;gt;&#xA;&amp;lt;/dependency&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;åœ¨éœ€è¦çš„åœ°æ–¹æ³¨å…¥HBaseOperationsæ¥å£ï¼Œè¯¥æ¥å£çš„å®ç°ç±»æ˜¯HBaseTemplateï¼Œé€šè¿‡è¿™ä¸ªç±»æ¥æ“ä½œHBaseã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Autowired&#xA;    private HBaseOperations hBaseDao;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;æŸ¥è¯¢ä¸€æ¡æ•°æ®ï¼Œé€šè¿‡rowKeyæŸ¥è¯¢ï¼š&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public void testQueryTable() {&#xA;        Result result = hBaseDao.queryByTableNameAndRowKey(&#xA;            &amp;quot;LBS&amp;quot;, 9223372036854775803L);&#xA;        System.out.println(result.isEmpty());&#xA;        result.listCells().forEach(cell -&amp;gt; {&#xA;            System.out.println(&#xA;            &amp;quot;row:&amp;quot; + Bytes.toLong(CellUtil.cloneRow(cell)) + &#xA;            &amp;quot;,family:&amp;quot;+ Bytes.toString(CellUtil.cloneFamily(cell)) +&#xA;            &amp;quot;, qualifier: &amp;quot; + Bytes.toString(CellUtil.cloneQualifier(cell)) +&#xA;            &amp;quot;, value:&amp;quot; + Bytes.toString(CellUtil.cloneValue(cell)));&#xA;        });&#xA;    }&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;h2 id=&#34;è¡¨çš„åŸºæœ¬æ“ä½œ&#34;&gt;è¡¨çš„åŸºæœ¬æ“ä½œ&lt;/h2&gt;&#xA;&lt;h3 id=&#34;æ–°å»ºè¡¨&#34;&gt;æ–°å»ºè¡¨&lt;/h3&gt;&#xA;&lt;p&gt;åˆ›å»ºè¡¨é€šè¿‡HBaseTemplateå°±å¯ä»¥å®ç°ï¼ŒHBaseTemplateç±»ä¸­å¸¦æœ‰è¿™ä¸ªæ–¹æ³•ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>å·¥å‚æ¨¡å¼</title>
      <link>https://qiref.github.io/post/2019/07/11/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/</link>
      <pubDate>Thu, 11 Jul 2019 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2019/07/11/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šè¯¦ç»†ç»“æŸå·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰çš„ä½¿ç”¨ï¼Œä»¥åŠåœ¨Javaä¸­çš„å®ç°æ–¹å¼ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;ç®€ä»‹&#34;&gt;ç®€ä»‹&lt;/h2&gt;&#xA;&lt;p&gt;å·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰æ˜¯ Java ä¸­æœ€å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ã€‚å·¥å‚æ¨¡å¼ä¸»è¦æ˜¯è§£å†³åˆ›å»ºå¯¹è±¡çš„é—®é¢˜ï¼Œå…¸å‹çš„åº”ç”¨å°±æ˜¯åœ¨springä¸­çš„IOCï¼Œåè½¬æ§åˆ¶ï¼Œåè½¬æ§åˆ¶å°±æ˜¯æŠŠåˆ›å»ºå¯¹è±¡çš„æƒé™äº¤ç»™æ¡†æ¶ï¼Œæ‰€ä»¥springå°±æ˜¯ä¸€ä¸ªç”Ÿäº§å¯¹è±¡çš„å·¥å‚ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;æ€è·¯&#34;&gt;æ€è·¯&lt;/h2&gt;&#xA;&lt;p&gt;å·¥å‚æ¨¡å¼çš„æ€è·¯å°±æ˜¯è®¾è®¡ä¸€ä¸ªäº§ç”Ÿå¯¹è±¡çš„æœºåˆ¶ï¼Œè®©ç”Ÿäº§å¯¹è±¡çš„è¿‡ç¨‹äº¤ç»™ç¬¬ä¸‰æ–¹ï¼Œåœ¨å·¥å‚æ¨¡å¼ä¸­ï¼Œä¸ä¼šå¯¹å®¢æˆ·ç«¯æš´éœ²åˆ›å»ºé€»è¾‘ï¼Œå¹¶ä¸”ä½¿ç”¨é€šç”¨æ¥å£æ¥æ”¶æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;å®ç°è¿‡ç¨‹&#34;&gt;å®ç°è¿‡ç¨‹&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;æ–°å»ºæŠ½è±¡çš„æ¥å£&lt;/li&gt;&#xA;&lt;li&gt;æ–°å»ºå…·ä½“çš„å®ä½“ç±»ï¼Œå®ç°æŠ½è±¡çš„æ¥å£&lt;/li&gt;&#xA;&lt;li&gt;åˆ›å»ºå®ä¾‹åŒ–å¯¹è±¡çš„å·¥å‚&lt;/li&gt;&#xA;&lt;li&gt;åœ¨å®¢æˆ·ç«¯ä¸­é€šè¿‡å·¥å‚åˆ›å»ºå…·ä½“çš„å®ä½“å¯¹è±¡ï¼Œå¯¹è±¡å¯ä»¥ç”¨æŠ½è±¡æ¥å£æ¥æ”¶ã€‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;è¿™ç§æ–¹å¼æ˜¯æœ€ç®€å•çš„å®ç°æ–¹å¼ï¼š&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;// åˆ›å»ºæ¥å£&#xA;public interface Shape {&#xA;    void draw();&#xA;}&#xA;&#xA;// åˆ›å»ºå®ä½“ç±»Circle&#xA;public class Circle implements Shape {&#xA;    @Override&#xA;    public void draw() {&#xA;        System.out.println(&amp;quot;drawing a circle&amp;quot;);&#xA;    }&#xA;}&#xA;&#xA;// åˆ›å»ºå®ä½“ç±»Rectangle&#xA;public class Rectangle implements Shape {&#xA;    @Override&#xA;    public void draw() {&#xA;        System.out.println(&amp;quot;drawing a Rectangle&amp;quot;);&#xA;    }&#xA;}&#xA;&#xA;// åˆ›å»ºå®ä½“ç±»Square &#xA;public class Square implements Shape {&#xA;    @Override&#xA;    public void draw() {&#xA;        System.out.println(&amp;quot;drawing a square&amp;quot;);&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;ç„¶ååˆ›å»ºå·¥å‚ç±»ï¼Œç”Ÿæˆå¯¹åº”çš„å®ä½“ç±»ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Gitå­¦ä¹ ç¬”è®°</title>
      <link>https://qiref.github.io/post/2019/06/16/git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Sun, 16 Jun 2019 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2019/06/16/git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šå­¦ä¹ Gitçš„ä¸€äº›ç¬”è®°ï¼Œè®°å½•äº†Gitçš„ä¸€äº›å¸¸è§å‘½ä»¤ï¼Œä»¥åŠGitä¸­æ–‡ä»¶çš„ç”Ÿå‘½å‘¨æœŸã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#git%E6%96%87%E4%BB%B6%E7%8A%B6%E6%80%81%E5%8F%98%E5%8C%96&#34;&gt;gitæ–‡ä»¶çŠ¶æ€å˜åŒ–&lt;/a&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E7%8A%B6%E6%80%81%E8%AF%B4%E6%98%8E&#34;&gt;çŠ¶æ€è¯´æ˜ï¼š&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2&#34;&gt;çŠ¶æ€è½¬æ¢:&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E6%AD%A3%E5%B8%B8%E6%B5%81%E7%A8%8B&#34;&gt;æ­£å¸¸æµç¨‹&lt;/a&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#git-clone-%E4%BB%8E%E8%BF%9C%E7%A8%8B%E6%8B%89%E4%B8%80%E4%B8%AA%E5%B7%A5%E7%A8%8B%E4%B8%8B%E6%9D%A5&#34;&gt;git clone ä»è¿œç¨‹æ‹‰ä¸€ä¸ªå·¥ç¨‹ä¸‹æ¥&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E5%A2%9E%E5%8A%A0%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6&#34;&gt;å¢åŠ ä¸€ä¸ªæ–‡ä»¶&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#git-status-%E6%9F%A5%E7%9C%8B%E7%8A%B6%E6%80%81&#34;&gt;git status æŸ¥çœ‹çŠ¶æ€&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#git-add-%E6%8A%8A%E6%96%87%E4%BB%B6%E4%BB%8Euntracked--staged&#34;&gt;git add æŠŠæ–‡ä»¶ä»Untracked&amp;ndash;&amp;gt;Staged&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#git-rm---cached&#34;&gt;git rm &amp;ndash;cached&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#git-commit-%E6%8F%90%E4%BA%A4&#34;&gt;git commit æäº¤&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#git-push-%E6%8A%8Amaster%E5%88%86%E6%94%AF%E7%9A%84%E5%86%85%E5%AE%B9%E6%8F%90%E4%BA%A4%E5%88%B0%E8%BF%9C%E7%AB%AF&#34;&gt;git push æŠŠmasteråˆ†æ”¯çš„å†…å®¹æäº¤åˆ°è¿œç«¯&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#git-diff-%E6%9F%A5%E7%9C%8B%E5%8F%98%E5%8C%96&#34;&gt;git diff æŸ¥çœ‹å˜åŒ–&lt;/a&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E6%93%8D%E4%BD%9C%E5%AE%9E%E4%BE%8B&#34;&gt;æ“ä½œå®ä¾‹&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E5%9B%9E%E6%BB%9A%E8%BF%98%E6%B2%A1%E6%9C%89commit%E7%9A%84%E6%96%87%E4%BB%B6&#34;&gt;å›æ»šè¿˜æ²¡æœ‰commitçš„æ–‡ä»¶&lt;/a&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E6%93%8D%E4%BD%9C%E5%AE%9E%E4%BE%8B-1&#34;&gt;æ“ä½œå®ä¾‹&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E5%9B%9E%E6%BB%9A%E6%9F%90%E4%B8%AA%E6%8F%90%E4%BA%A4&#34;&gt;å›æ»šæŸä¸ªæäº¤&lt;/a&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E6%93%8D%E4%BD%9C%E5%AE%9E%E4%BE%8B-2&#34;&gt;æ“ä½œå®ä¾‹&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E5%88%86%E6%94%AF%E6%93%8D%E4%BD%9C&#34;&gt;åˆ†æ”¯æ“ä½œ&lt;/a&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E6%9F%A5%E7%9C%8B%E5%88%86%E6%94%AF&#34;&gt;æŸ¥çœ‹åˆ†æ”¯&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E5%88%9B%E5%BB%BA%E5%88%86%E6%94%AF&#34;&gt;åˆ›å»ºåˆ†æ”¯&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E5%88%86%E6%94%AF%E4%B8%8A%E5%A2%9E%E5%8A%A0%E5%86%85%E5%AE%B9&#34;&gt;åˆ†æ”¯ä¸Šå¢åŠ å†…å®¹&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E6%8E%A8%E9%80%81%E5%88%86%E6%94%AF%E5%88%B0%E8%BF%9C%E7%A8%8B&#34;&gt;æ¨é€åˆ†æ”¯åˆ°è¿œç¨‹&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E4%B8%A4%E4%B8%AA%E5%88%86%E6%94%AF%E8%BF%9B%E8%A1%8C%E6%AF%94%E8%BE%83&#34;&gt;ä¸¤ä¸ªåˆ†æ”¯è¿›è¡Œæ¯”è¾ƒ&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E5%88%86%E6%94%AF%E5%90%88%E5%B9%B6%E5%88%B0master%E4%B8%8A&#34;&gt;åˆ†æ”¯åˆå¹¶åˆ°masterä¸Š&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E4%BB%8E%E8%BF%9C%E7%A8%8B%E6%8B%89%E4%B8%80%E4%B8%AA%E5%88%86%E6%94%AF&#34;&gt;ä»è¿œç¨‹æ‹‰ä¸€ä¸ªåˆ†æ”¯&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#tag%E6%93%8D%E4%BD%9C&#34;&gt;tagæ“ä½œ&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#%E5%85%B6%E4%BB%96&#34;&gt;å…¶ä»–&lt;/a&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#git%E8%A6%86%E7%9B%96%E6%9C%AC%E5%9C%B0%E4%BF%AE%E6%94%B9pull-%E8%BF%9C%E7%A8%8B&#34;&gt;gitè¦†ç›–æœ¬åœ°ä¿®æ”¹ï¼Œpull è¿œç¨‹&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#git%E4%BF%AE%E6%94%B9%E4%B8%8A%E4%B8%80%E6%AC%A1commit-message&#34;&gt;gitä¿®æ”¹ä¸Šä¸€æ¬¡commit message&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#git%E9%87%8D%E5%91%BD%E5%90%8D%E5%88%86%E6%94%AF&#34;&gt;gité‡å‘½ååˆ†æ”¯&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;gitæ–‡ä»¶çŠ¶æ€å˜åŒ–&#34;&gt;gitæ–‡ä»¶çŠ¶æ€å˜åŒ–&lt;/h2&gt;&#xA;&lt;h3 id=&#34;çŠ¶æ€è¯´æ˜&#34;&gt;çŠ¶æ€è¯´æ˜ï¼š&lt;/h3&gt;&#xA;&lt;p&gt;Untracked: åˆšæ–°åŠ çš„æ–‡ä»¶ï¼Œè¿˜æ²¡æœ‰çº³å…¥gitç®¡ç†èŒƒå›´&lt;/p&gt;&#xA;&lt;p&gt;UnModified: å·²ç»committedçš„æ–‡ä»¶&lt;/p&gt;&#xA;&lt;p&gt;Modified: å·²ç»committedçš„æ–‡ä»¶ï¼Œé€šè¿‡viç­‰ä¿®æ”¹åï¼Œå°±å˜æˆModified&lt;/p&gt;&#xA;&lt;p&gt;Staged: git add åçš„æ–‡ä»¶&lt;/p&gt;&#xA;&lt;h3 id=&#34;çŠ¶æ€è½¬æ¢&#34;&gt;çŠ¶æ€è½¬æ¢:&lt;/h3&gt;&#xA;&lt;p&gt;Untracked-&amp;gt;Staged: é€šè¿‡git add æ¥å®Œæˆ&lt;/p&gt;&#xA;&lt;p&gt;UnModified-&amp;gt;Modified: ä¿®æ”¹æ–‡ä»¶å†…å®¹æ¥å®Œæˆï¼Œæ¯”å¦‚viå‘½ä»¤&lt;/p&gt;&#xA;&lt;p&gt;Modified-&amp;gt;Staged: é€šè¿‡git add æ¥å®Œæˆ&lt;/p&gt;</description>
    </item>
    <item>
      <title>SpringBootä¸­ä½¿ç”¨AOP</title>
      <link>https://qiref.github.io/post/2019/06/16/springboot%E4%B8%AD%E4%BD%BF%E7%94%A8aop/</link>
      <pubDate>Sun, 16 Jun 2019 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2019/06/16/springboot%E4%B8%AD%E4%BD%BF%E7%94%A8aop/</guid>
      <description>&lt;p&gt;æ‘˜è¦ï¼šSpringä¸­å¦‚ä½•ä½¿ç”¨æ³¨è§£å®ç°é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£ã€‚&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;åœºæ™¯&#34;&gt;åœºæ™¯&lt;/h2&gt;&#xA;&lt;p&gt;æ¯”å¦‚ç”¨æˆ·ç™»å½•ï¼Œæ¯ä¸ªè¯·æ±‚å‘èµ·ä¹‹å‰éƒ½ä¼šåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•ï¼Œå¦‚æœæ¯ä¸ªè¯·æ±‚éƒ½å»åˆ¤æ–­ä¸€æ¬¡ï¼Œé‚£å°±é‡å¤åœ°åšäº†å¾ˆå¤šäº‹æƒ…ï¼Œåªè¦æ˜¯æœ‰é‡å¤çš„åœ°æ–¹ï¼Œå°±æœ‰ä¼˜åŒ–çš„ç©ºé—´ã€‚ç°åœ¨å°±æŠŠé‡å¤çš„åœ°æ–¹æŠ½å–å‡ºæ¥ï¼Œæš‚ä¸”ç§°ä¹‹ä¸º &amp;quot; æ‹¦æˆªå™¨ &amp;ldquo;ï¼Œç„¶åæ¯æ¬¡è¯·æ±‚ä¹‹å‰å°±å…ˆç»è¿‡&amp;rdquo; æ‹¦æˆªå™¨ &amp;ldquo;ï¼Œè¿™ä¸ªç¼–ç¨‹çš„æ€æƒ³å°±å¯ä»¥ç§°ä¹‹ä¸ºé¢å‘åˆ‡é¢ç¼–ç¨‹ã€‚AOP(Aspect  Oriented Program)&lt;/p&gt;&#xA;&lt;p&gt;æœ€å…¸å‹çš„åº”ç”¨å°±æ˜¯äº‹åŠ¡ç®¡ç†å’Œæƒé™éªŒè¯ï¼Œè¿˜æœ‰æ—¥å¿—ç»Ÿè®¡ï¼Œä¸‹æ–‡ä¸­çš„æ¡ˆä¾‹å°±æ˜¯æ¥å£æ‰§è¡Œæ—¶é—´çš„ç»Ÿè®¡ã€‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;springä¸­ä½¿ç”¨aopåŸºäºæ³¨è§£&#34;&gt;springä¸­ä½¿ç”¨AOPï¼ˆåŸºäºæ³¨è§£ï¼‰&lt;/h2&gt;&#xA;&lt;p&gt;ä¸å¾—ä¸è¯´æ³¨è§£æ˜¯ä¸ªå¾ˆå·§å¦™çš„è®¾è®¡ï¼Œä½¿ç”¨å¾ˆå°‘é‡çš„ä¿¡æ¯æè¿°æ•°æ®ï¼Œè¿™ç±»æ•°æ®ç§°ä¹‹ä¸ºå…ƒæ•°æ®ï¼Œæè¿°æ•°æ®çš„æ•°æ®ã€‚å…³äºæ³¨è§£çš„ç†è§£ï¼Œè¿™é‡Œæœ‰ä¸ªä¼ é€é—¨ï¼šhttp://www.importnew.com/10294.html&lt;/p&gt;&#xA;&lt;p&gt;ä¸‹é¢çš„æ¡ˆä¾‹æ˜¯åœ¨springBootä¸­è¿›è¡Œçš„ï¼Œç›´è§‚åœ°æ„Ÿå—ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨æ³¨è§£å®ŒæˆAOPã€‚&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;@Service&#xA;public class UserService {&#xA;&#xA;    public void getUser() {&#xA;        //To do something&#xA;        System.out.println(&amp;quot;getUser() has been called&amp;quot;);&#xA;        try {&#xA;            Thread.sleep(1000);&#xA;        } catch (InterruptedException e) {&#xA;            e.printStackTrace();&#xA;        }&#xA;    }&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;åˆ‡é¢æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;&#xA;@Component&#xA;@Aspect&#xA;public class LoggerAspect {&#xA;    /**&#xA;     * getUser()æ‰§è¡Œä¹‹å‰æ‰§è¡Œ&#xA;     */&#xA;    @Before(&amp;quot;execution(* com.springboot.demo.service.UserService.getUser(..))&amp;quot;)&#xA;    public void callBefore() {&#xA;        System.out.println(&amp;quot;before call method&amp;quot;);&#xA;        System.out.println(&amp;quot;begin........................&amp;quot;);&#xA;    }&#xA;&#xA;    /**&#xA;     * getUser()æ‰§è¡Œä¹‹åæ‰§è¡Œ&#xA;     */&#xA;    @After(&amp;quot;execution(* com.springboot.demo.service.UserService.getUser(..))&amp;quot;)&#xA;    public void callAfter() {&#xA;        System.out.println(&amp;quot;after call method&amp;quot;);&#xA;        System.out.println(&amp;quot;end..............................&amp;quot;);&#xA;    }&#xA;}&#xA;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;æ¥ä¸ªå•å…ƒæµ‹è¯•éªŒè¯ä¸€ä¸‹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>About Hugo XMin</title>
      <link>https://qiref.github.io/about/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://qiref.github.io/about/</guid>
      <description>&lt;p&gt;&lt;strong&gt;XMin&lt;/strong&gt; is the first Hugo theme I have designed. The original reason that I wrote it was I needed a minimal example of Hugo themes when I was writing the  &lt;a href=&#34;https://github.com/rstudio/blogdown&#34;&gt;&lt;strong&gt;blogdown&lt;/strong&gt;&lt;/a&gt; book. Basically I wanted a simple theme that supports a navigation menu, a home page, other single pages, lists of pages, blog posts, categories, tags, and RSS. That is all. Nothing fancy. In terms of CSS and JavaScript, I really want to keep them minimal. In fact, this theme does not contain any JavaScript code at all, although on this example website I did introduce some JavaScript code (still relatively simple anyway). The theme does not contain any images, either, and is pretty much a plain-text theme.&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
