<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>å¤§é“è‡³ç®€</title>
    <link>https://qiref.github.io/</link>
    <description>Recent content on å¤§é“è‡³ç®€</description>
    <generator>Hugo</generator>
    <language>cn-zh</language>
    <lastBuildDate>Mon, 05 Jan 2026 19:28:12 +0800</lastBuildDate>
    <atom:link href="https://qiref.github.io/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Flinkæºç -RPCä½“ç³»</title>
      <link>https://qiref.github.io/post/2026/01/05/flink%E6%BA%90%E7%A0%81-rpc%E4%BD%93%E7%B3%BB/</link>
      <pubDate>Mon, 05 Jan 2026 19:28:12 +0800</pubDate>
      <guid>https://qiref.github.io/post/2026/01/05/flink%E6%BA%90%E7%A0%81-rpc%E4%BD%93%E7%B3%BB/</guid>
      <description>æœ¬æ–‡æ¡£è¯¦ç»†æ¢³ç† Flink ä¸­çš„ RPCï¼ˆè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰ä½“ç³»æ¶æ„ï¼ŒåŒ…æ‹¬ RPC ç³»ç»Ÿçš„åˆå§‹åŒ–æµç¨‹ã€æ ¸å¿ƒç±»å…³ç³»ä»¥åŠå„ç»„ä»¶ä¹‹é—´çš„é€šä¿¡æ¨¡å¼ã€‚&#xA;1. æ•´ä½“æ¶æ„æ¦‚è§ˆ Flink çš„ RPC ä½“ç³»åŸºäº Apache Pekko (åŸ Akka) Actor æ¨¡å‹å®ç°ï¼Œæä¾›äº†ä¸€å¥—å®Œæ•´çš„åˆ†å¸ƒå¼é€šä¿¡æ¡†æ¶ã€‚&#xA;RpcEndpoint (ä¸šåŠ¡é€»è¾‘) &amp;lt;---&amp;gt; RpcService (RPC æœåŠ¡ç®¡ç†) &amp;lt;---&amp;gt; RpcGateway (è¿œç¨‹ä»£ç†æ¥å£) â†‘ â†‘ â†‘ | | | PekkoRpcActor (Actor å®ç°) PekkoRpcService (Pekko å®ç°) PekkoInvocationHandler (åŠ¨æ€ä»£ç†) â†“ ActorSystem (Pekko è¿è¡Œæ—¶) 2. æ ¸å¿ƒç±»å’Œæ–‡ä»¶ä½ç½® 2.1 RPC æ ¸å¿ƒæ¥å£ï¼ˆflink-rpc-coreï¼‰ RpcEndpoint - flink-rpc-core/.../rpc/RpcEndpoint.java - RPC ç«¯ç‚¹åŸºç±»ï¼Œæ‰€æœ‰æä¾› RPC æœåŠ¡çš„ç»„ä»¶éƒ½ç»§æ‰¿å®ƒ RpcGateway - flink-rpc-core/.../rpc/RpcGateway.java - RPC ç½‘å…³æ¥å£ï¼Œå®šä¹‰å¯è¿œç¨‹è°ƒç”¨çš„æ–¹æ³• RpcServer - flink-rpc-core/.../rpc/RpcServer.java - RPC æœåŠ¡å™¨æ¥å£ï¼Œç»„åˆäº†å¤šä¸ªåŠŸèƒ½æ¥å£ RpcService - flink-rpc-core/.</description>
    </item>
    <item>
      <title>Flinkæºç -Jobmanagerä½œä¸šæäº¤ä¸è°ƒåº¦</title>
      <link>https://qiref.github.io/post/2025/12/26/flink%E6%BA%90%E7%A0%81-jobmanager%E4%BD%9C%E4%B8%9A%E6%8F%90%E4%BA%A4%E4%B8%8E%E8%B0%83%E5%BA%A6/</link>
      <pubDate>Fri, 26 Dec 2025 11:39:10 +0800</pubDate>
      <guid>https://qiref.github.io/post/2025/12/26/flink%E6%BA%90%E7%A0%81-jobmanager%E4%BD%9C%E4%B8%9A%E6%8F%90%E4%BA%A4%E4%B8%8E%E8%B0%83%E5%BA%A6/</guid>
      <description>è¯¦ç»†æ¢³ç† Flink ä¸­ä» Client æäº¤ä½œä¸šåˆ°ä»»åŠ¡åœ¨ TaskManager ä¸Šæ‰§è¡Œçš„å®Œæ•´æµç¨‹ã€‚&#xA;1. æ•´ä½“æµç¨‹æ¦‚è§ˆ Client æäº¤ JobGraph â†“ REST API (JobSubmitHandler) -- æ¥æ”¶ HTTP è¯·æ±‚ï¼Œè§£æ JobGraph â†“ Dispatcher.submitJob() -- ä½œä¸šæäº¤å…¥å£ï¼Œåˆ›å»º JobManagerRunner â†“ JobManagerRunner.start() -- å¯åŠ¨ Leader é€‰ä¸¾ â†“ grantLeadership() -- è·å¾— Leadership â†“ JobMasterServiceProcess -- åˆ›å»º JobMaster â†“ JobMaster.onStart() -- JobMaster å¯åŠ¨ï¼Œè§¦å‘è°ƒåº¦ â†“ SchedulerBase.startScheduling -- åˆ›å»º ExecutionGraphï¼Œå¼€å§‹è°ƒåº¦ â†“ SchedulingStrategy -- è°ƒåº¦ç­–ç•¥ï¼Œå†³å®šä»»åŠ¡è°ƒåº¦é¡ºåº â†“ ExecutionDeployer -- åˆ†é… Slotï¼Œéƒ¨ç½²ä»»åŠ¡ â†“ TaskManagerGateway -- RPC è°ƒç”¨ï¼Œæäº¤ä»»åŠ¡åˆ° TaskManager â†“ TaskExecutor.submitTask() -- åˆ›å»º Taskï¼Œå¯åŠ¨æ‰§è¡Œçº¿ç¨‹ â†“ Task.</description>
    </item>
    <item>
      <title>Flinkæºç -CompletableFutureå¼‚æ­¥ç¼–ç¨‹</title>
      <link>https://qiref.github.io/post/2025/12/25/flink%E6%BA%90%E7%A0%81-completablefuture%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/</link>
      <pubDate>Thu, 25 Dec 2025 12:05:41 +0800</pubDate>
      <guid>https://qiref.github.io/post/2025/12/25/flink%E6%BA%90%E7%A0%81-completablefuture%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/</guid>
      <description>1. åŸºç¡€æ¦‚å¿µ 1.1 ä»€ä¹ˆæ˜¯ CompletableFuture CompletableFuture æ˜¯ Java 8 å¼•å…¥çš„å¼‚æ­¥ç¼–ç¨‹å·¥å…·ï¼Œå®ƒä»£è¡¨ä¸€ä¸ªå¯èƒ½å°šæœªå®Œæˆçš„å¼‚æ­¥è®¡ç®—ç»“æœã€‚ä¸ä¼ ç»Ÿçš„ Future ç›¸æ¯”ï¼Œå®ƒæ”¯æŒï¼š&#xA;éé˜»å¡å›è°ƒï¼šä¸éœ€è¦è°ƒç”¨ get() é˜»å¡ç­‰å¾… é“¾å¼æ“ä½œï¼šå¯ä»¥å°†å¤šä¸ªå¼‚æ­¥æ“ä½œä¸²è”èµ·æ¥ ç»„åˆæ“ä½œï¼šå¯ä»¥ç»„åˆå¤šä¸ªå¼‚æ­¥æ“ä½œçš„ç»“æœ å¼‚å¸¸å¤„ç†ï¼šæä¾›ä¼˜é›…çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ 1.2 åŒæ­¥ vs å¼‚æ­¥å¯¹æ¯” // ==================== åŒæ­¥æ–¹å¼ - é˜»å¡ç­‰å¾… ==================== public String processSync() { String result1 = step1(); // é˜»å¡ 2 ç§’ String result2 = step2(result1); // é˜»å¡ 2 ç§’ String result3 = step3(result2); // é˜»å¡ 2 ç§’ return result3; // æ€»è€—æ—¶: 6 ç§’ } // ==================== å¼‚æ­¥æ–¹å¼ - éé˜»å¡ ==================== public CompletableFuture&amp;lt;String&amp;gt; processAsync() { return CompletableFuture .</description>
    </item>
    <item>
      <title>é¾Ÿé¾ŸæŠ•èµ„ç­–ç•¥</title>
      <link>https://qiref.github.io/note/2025/12/24/%E9%BE%9F%E9%BE%9F%E6%8A%95%E8%B5%84%E7%AD%96%E7%95%A5/</link>
      <pubDate>Wed, 24 Dec 2025 21:29:30 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/12/24/%E9%BE%9F%E9%BE%9F%E6%8A%95%E8%B5%84%E7%AD%96%E7%95%A5/</guid>
      <description>é¾Ÿé¾ŸæŠ•èµ„ç»„åˆ æµåŠ¨æ€§æŠ•èµ„ ä¸€å¹´çš„ç”Ÿæ´»è´¹ï¼Œç”¨äºä¿éšœç”Ÿæ´»ä¸­çš„ä¸´æ—¶ç‰¹æ®Šåœºæ™¯ 1-2% çš„æŠ•èµ„æ ‡çš„ï¼ŒçŸ­èETFï¼Œå›½å€ºé€†å›è´­ï¼Œä½™é¢å®&#xA;ç°é‡‘æµæŠ•èµ„ å½“æµåŠ¨æ€§æŠ•èµ„å·²ç»è¶…è¿‡ä¸€å¹´ç”Ÿæ´»è´¹æ—¶ï¼Œå¯ä»¥å°†å¤šä½™çš„èµ„é‡‘ç”¨äºç°é‡‘æµæŠ•èµ„ æŠ•èµ„å›½ä¼ã€å¤®ä¼è‚¡æ¯ç‡é«˜äº3%çš„ä¼ä¸šï¼Œä¸è€ƒè™‘è‚¡ä»·æ³¢åŠ¨ï¼Œåªæ”¶è‚¡æ¯ å½“é€‰ä¸åˆ°å¥½çš„æŠ•èµ„æ ‡çš„æ—¶å¯é€‰æ‹©çº¢åˆ©åº•æ³¢ ETF 3200 ä»¥ä¸‹ å½“ç°é‡‘æµèƒ½è¶…è¿‡ä¸€å¹´ç”Ÿæ´»è´¹çš„30%æ—¶ï¼Œå¯è€ƒè™‘è¿›ä¸€æ­¥çš„æŠ•èµ„ç­–ç•¥&#xA;å•†ä¸šæ¨¡å¼ è½»èµ„äº§&amp;gt;é‡èµ„äº§ é‡å¤æ€§çš„èµ„æœ¬å¼€æ”¯&#xA;å•†ä¸šæ¨¡å¼æ˜¯å¦å…·å¤‡é«˜åº¦ä¸å¯æ›¿ä»£æ€§ï¼Œè¡Œä¸šå„æ–­/ç«äº‰&#xA;ä¸æŠ•èµ„çœ‹ä¸æ‡‚çš„å•†ä¸šæ¨¡å¼&#xA;å‘¨æœŸæ€§æœ‰å¤šå¼º&#xA;æœ‰æ— å®šä»·æƒ&#xA;åˆ©æ¶¦åˆ†é… èµ„æœ¬å¼€æ”¯ x&#xA;æ´¾æ¯ âˆš&#xA;ç•™å­˜å…¬å¸è´¦æˆ· x&#xA;æ³¨é”€å‹å›è´­ âˆš&#xA;è‚¡æƒæ¿€åŠ± x åˆ†ç»™é«˜ç®¡äº†&#xA;åªæœ‰ æ´¾æ¯ å’Œ æ³¨é”€å‹å›è´­ æ‰æ˜¯åˆ†ç»™æ™®é€šæŠ•èµ„è€…çš„åˆ°æ‰‹æ”¶ç›Š&#xA;è‚¡æ¯ç©¿é€å›æŠ¥ç‡è®¡ç®—è‚¡ä»· ç©¿é€å›æŠ¥ç‡&#xA;å‡€åˆ©æ¶¦*è‚¡æ¯æ”¯ä»˜ç‡ = è‚¡æ¯æ”¯ä»˜ç‡ * ä¿å®ˆä¼°è®¡å‡€åˆ©æ¶¦ ç©¿é€å›æŠ¥ç‡=(è‚¡æ¯æ”¯ä»˜ç‡ * ä¿å®ˆä¼°è®¡å‡€åˆ©æ¶¦ + æ³¨é”€å›è´­)/æ€»å¸‚å€¼ è‚¡ä»·=å¹´åº¦å‡€åˆ©æ¶¦ * 0.8ï¼ˆå‡è®¾ä¸‹å¹´åˆ©æ¶¦ä¸‹æ»‘20%ï¼‰ * è‚¡æ¯æ”¯ä»˜ç‡ / è‚¡æ¯ / æ€»è‚¡æœ¬ é€šè¿‡ç©¿é€å›æŠ¥ç‡è®¡ç®—è‚¡ä»·ï¼Œå½“çœŸå®è‚¡ä»·ä½äºè®¡ç®—çš„è‚¡ä»·æ—¶ï¼Œæ‰å¯ä»¥æŠ•èµ„è¿™ä¸ªå…¬å¸&#xA;ç°é‡‘æµ å½“è‚¡ä»·åœ¨åˆé€‚çš„ä»·ä½æ—¶ï¼Œå¦ä¸€ä¸ªç»´åº¦è€ƒè™‘ä¼ä¸šçš„ç°é‡‘æµï¼Œè¿‘3å¹´å‡€ç°é‡‘æµæ˜¯å¦å……è¶³ï¼ˆä¼ä¸šè´¢åŠ¡æ˜¯å¦å¥åº·ï¼Œåˆ†çº¢çš„å¯æŒç»­ï¼‰&#xA;çœŸå®å¯æ”¯é…çš„ç°é‡‘æµ + ç°é‡‘è´®å¤‡ çœŸå®å¯æ”¯é…çš„ç°é‡‘æµ = ç»è¥æ€§ç°é‡‘æµå‡€æµå…¥ - èµ„æœ¬å¼€æ”¯ - è´¢åŠ¡è´¹ç”¨ å¦‚æœæœ‰ä¸€å †é¢„æ”¶è´¦æ¬¾ç¥¨æ®æ˜¯æ²¡ç”¨çš„ï¼Œå¯èƒ½ä¼šèµ„é‡‘æ–­è£‚</description>
    </item>
    <item>
      <title>Flinkæºç -Flink Client</title>
      <link>https://qiref.github.io/post/2025/12/04/flink%E6%BA%90%E7%A0%81-flink-client/</link>
      <pubDate>Thu, 04 Dec 2025 19:39:10 +0800</pubDate>
      <guid>https://qiref.github.io/post/2025/12/04/flink%E6%BA%90%E7%A0%81-flink-client/</guid>
      <description>Flink Client Layer å­¦ä¹ æŒ‡å— æ ¹æ® Flink æºç çš„æ¶æ„ï¼ŒClient Layer ä¸»è¦è´Ÿè´£ä½œä¸šæäº¤ã€å›¾è½¬æ¢ã€é›†ç¾¤äº¤äº’ã€‚æœ¬æ–‡è§„åˆ’äº†ä¸€ä¸ªä»æ˜“åˆ°éš¾ã€å¾ªåºæ¸è¿›çš„å­¦ä¹ è·¯å¾„ã€‚&#xA;ä½œä¸šæäº¤å…¥å£ èµ·ç‚¹æ–‡ä»¶ï¼š StreamExecutionEnvironment.java&#xA;// FileSinkDemo.java ä¸­çš„è¿™è¡Œä»£ç æ˜¯æ•´ä¸ª Client Layer çš„å…¥å£ env.execute(&amp;quot;Local FileSystem Debug&amp;quot;); // å­¦ä¹ è·¯å¾„ï¼š // 1. StreamExecutionEnvironment.execute() // 2. StreamExecutionEnvironment.executeAsync() // 3. StreamExecutionEnvironment.getStreamGraph() // 4. PipelineExecutor.execute() å­¦ä¹ æ–¹å¼ï¼š&#xA;// åˆ›å»ºè°ƒè¯• Demo public class ClientLayerLearningDemo { public static void main(String[] args) throws Exception { Configuration conf = new Configuration(); StreamExecutionEnvironment env = StreamExecutionEnvironment.createLocalEnvironmentWithWebUI(conf); env.setParallelism(2); // ç®€å•çš„ä½œä¸š DataStream&amp;lt;String&amp;gt; source = env.fromElements(&amp;quot;a&amp;quot;, &amp;quot;b&amp;quot;, &amp;quot;c&amp;quot;); source.map(x -&amp;gt; x.</description>
    </item>
    <item>
      <title>Flinkæºç å­¦ä¹ æŒ‡å—</title>
      <link>https://qiref.github.io/post/2025/12/04/flink%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97/</link>
      <pubDate>Thu, 04 Dec 2025 11:08:10 +0800</pubDate>
      <guid>https://qiref.github.io/post/2025/12/04/flink%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97/</guid>
      <description>ä» Flink çš„æ•´ä½“æ¶æ„å¼€å§‹ï¼Œå»ºç«‹å…¨å±€è§†é‡ï¼Œå†æ·±å…¥æºç ç»†èŠ‚ã€‚&#xA;Flink æ•´ä½“æ¶æ„æ¦‚è§ˆ ä¸‰å±‚æ¶æ„æ¨¡å‹ Flink é‡‡ç”¨ç»å…¸çš„ä¸»ä»æ¶æ„ï¼Œåˆ†ä¸ºä¸‰å±‚ï¼š&#xA;Client Layerï¼ˆå®¢æˆ·ç«¯å±‚ï¼‰&#xA;Clientï¼šç”¨æˆ·ç¨‹åºå…¥å£ JobGraph Generationï¼šå°†ç”¨æˆ·ä»£ç è½¬æ¢ä¸º JobGraph Job Submissionï¼šæäº¤ä½œä¸šåˆ°é›†ç¾¤ Master Layerï¼ˆä¸»èŠ‚ç‚¹å±‚ï¼‰&#xA;JobManagerï¼šé›†ç¾¤ä¸»èŠ‚ç‚¹ï¼ŒåŒ…å«ä»¥ä¸‹ç»„ä»¶ï¼š Dispatcherï¼šæ¥æ”¶ä½œä¸šæäº¤ï¼Œç®¡ç†ä½œä¸šç”Ÿå‘½å‘¨æœŸ ResourceManagerï¼šç®¡ç† TaskManager èµ„æºï¼Œåˆ†é… slot JobMasterï¼šå•ä¸ªä½œä¸šçš„åè°ƒè€…ï¼Œè´Ÿè´£è°ƒåº¦å’Œ checkpoint Checkpoint Coordinatorï¼šåè°ƒ checkpoint æµç¨‹ Schedulerï¼šä»»åŠ¡è°ƒåº¦å™¨ Worker Layerï¼ˆå·¥ä½œèŠ‚ç‚¹å±‚ï¼‰&#xA;TaskManagerï¼šå·¥ä½œèŠ‚ç‚¹ï¼ŒåŒ…å«ä»¥ä¸‹ç»„ä»¶ï¼š Task Slotï¼šæ‰§è¡Œå…·ä½“ä»»åŠ¡çš„å®¹å™¨ Network Stackï¼šå¤„ç†æ•°æ®äº¤æ¢ State Backendï¼šç®¡ç†ç®—å­çŠ¶æ€ ä½œä¸šæ‰§è¡Œæµç¨‹ ä»¥ä¸€ä¸ªç®€å•çš„ FileSinkDemo ä¸ºä¾‹ï¼š&#xA;StreamExecutionEnvironment env = StreamExecutionEnvironment.createLocalEnvironmentWithWebUI(conf); DataStream&amp;lt;String&amp;gt; source = env.fromData(&amp;quot;hello&amp;quot;, &amp;quot;world&amp;quot;, &amp;quot;flink&amp;quot;); source.sinkTo(fileSink); env.execute(); å®Œæ•´æ‰§è¡Œæµç¨‹ï¼š&#xA;ç”¨æˆ·ä»£ç  ---&amp;gt; StreamGraph ---&amp;gt; JobGraph ---&amp;gt; ExecutionGraph ---&amp;gt; ç‰©ç†æ‰§è¡Œ | | | | | Client Client Client JobMaster TaskManager æºç æ·±å…¥åˆ†æ ç¬¬ä¸€é˜¶æ®µï¼šStreamGraph ç”Ÿæˆ å…¥å£ï¼šStreamExecutionEnvironment å½“è°ƒç”¨ env.</description>
    </item>
    <item>
      <title>Hash bucket</title>
      <link>https://qiref.github.io/post/2025/11/05/hash-bucket/</link>
      <pubDate>Wed, 05 Nov 2025 11:24:38 +0800</pubDate>
      <guid>https://qiref.github.io/post/2025/11/05/hash-bucket/</guid>
      <description>const ( // BucketSize æ¡¶çš„æ•°é‡ï¼Œç”¨äºæé«˜ç°åº¦ç²¾åº¦ BucketSize = 10000 // DefaultSalt é»˜è®¤ç›å€¼ DefaultSalt = &amp;quot;gray_release_salt_2024&amp;quot; ) // GrayReleaseService ç°åº¦å‘å¸ƒæœåŠ¡ type GrayReleaseService struct { salt string mu sync.RWMutex } // NewGrayReleaseService åˆ›å»ºç°åº¦å‘å¸ƒæœåŠ¡å®ä¾‹ func NewGrayReleaseService(salt string) *GrayReleaseService { if salt == &amp;quot;&amp;quot; { salt = DefaultSalt } return &amp;amp;GrayReleaseService{ salt: salt, } } // IsInGrayGroup åˆ¤æ–­ç”¨æˆ·æ˜¯å¦åœ¨ç°åº¦ç»„ä¸­ // userID: ç”¨æˆ·ID // percentage: ç°åº¦ç™¾åˆ†æ¯” (0-100) // featureCode: åŠŸèƒ½ä»£ç ï¼Œç”¨ä½œé¢å¤–çš„ç›å€¼ç¡®ä¿ä¸åŒåŠŸèƒ½ç‹¬ç«‹åˆ†å¸ƒ func (g *GrayReleaseService) IsInGrayGroup(userID int64, percentage int, featureCode string) bool { // è¾¹ç•Œæ£€æŸ¥ if percentage &amp;lt;= 0 { return false } if percentage &amp;gt;= 100 { return true } // è®¡ç®—ç°åº¦æ¡¶æ•°é‡ grayBuckets := (percentage * BucketSize) / 100 // è®¡ç®—ç”¨æˆ·æ‰€å±æ¡¶ userBucket := g.</description>
    </item>
    <item>
      <title>TCP/UDPç½‘ç»œåè®®å®è·µ</title>
      <link>https://qiref.github.io/post/2025/10/23/tcp/udp%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E5%AE%9E%E8%B7%B5/</link>
      <pubDate>Thu, 23 Oct 2025 20:33:00 +0800</pubDate>
      <guid>https://qiref.github.io/post/2025/10/23/tcp/udp%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E5%AE%9E%E8%B7%B5/</guid>
      <description>ä¼ è¾“å±‚é‡Œæ¯”è¾ƒé‡è¦çš„ä¸¤ä¸ªåè®®ï¼Œä¸€ä¸ªæ˜¯ TCPï¼Œä¸€ä¸ªæ˜¯ UDPï¼›TCP æ˜¯é¢å‘è¿æ¥çš„ï¼ŒUDP æ˜¯é¢å‘æ— è¿æ¥çš„ï¼›&#xA;é¢å¯¹è¿™ç§æ¦‚å¿µæ€§çš„ä¸œè¥¿ï¼Œç”šè‡³è¿˜è¦å’¬æ–‡åš¼å­—ï¼Œä¸å…è§‰å¾—æ¯ç‡¥ï¼Œä½†å…¶å®ç½‘ç»œä¹Ÿå¯ä»¥å¾ˆå¥½ç©ï¼Œæœ€é‡è¦çš„æ˜¯è¦ç»“åˆå®è·µï¼Œé¢å¯¹ä¸Šé¢ä¸€å¥è¯ï¼Œä¸€å­—ä¸€å¥è®°ä¸‹æ¥å°±è·ŸèƒŒç”µè¯å·ç æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œç”šè‡³å‘³åŒåš¼èœ¡ï¼Œå¦‚æœè¦ç†è§£å…¶ä¸­çš„ä¸€äº›æœºåˆ¶ï¼Œä»¥åŠç½‘ç»œåè®®åœ¨è®¾è®¡æ—¶æ‰€éœ€è¦è§£å†³çš„å®é™…é—®é¢˜ï¼Œåˆ™éœ€è¦äº²è‡ªåŠ¨æ‰‹ä½“ä¼šï¼Œçº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…ã€‚&#xA;UDP æ‰€è°“é¢å‘è¿æ¥ï¼Œæ— è¿æ¥ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨æŠ¥æ–‡åœ¨ä¼ è¾“ä¹‹å‰ï¼Œé€šä¿¡çš„ä¸¤ç«¯æ˜¯å¦éœ€è¦æå‰å»ºç«‹è¿æ¥ï¼ŒUDP æ— éœ€æå‰å»ºç«‹è¿æ¥ï¼Œç®€å•ç²—æš´ï¼Œç›´æ¥ä»æºç«¯ä¼ è¾“åˆ°ç›®æ ‡ç«¯ï¼›&#xA;ä»ä¸€ä¸ªæŠ¥æ–‡å¼€å§‹ é¦–å…ˆå€ŸåŠ© docker å¯åŠ¨ä¸¤ä¸ªå®¹å™¨ï¼Œnetshoot æ˜¯ä¸€ä¸ªè‡ªå¸¦å¾ˆå¤šç½‘ç»œå·¥å…·çš„é•œåƒï¼Œç”¨äºæµ‹è¯•ç½‘ç»œ&#xA;docker pull nicolaka/netshoot # 172.17.0.3 docker run -d --name netshoot_container1 nicolaka/netshoot sleep infinity # 172.17.0.4 docker run -d --name netshoot_container2 nicolaka/netshoot sleep infinity docker ps åœ¨ netshoot_container1 ä¸­ä½¿ç”¨ tcpdump ç›‘å¬ 12345 ç«¯å£ï¼Œå¹¶æŒ‡å®šåè®®ä¸º udp&#xA;tcpdump -i eth0 udp port 12345 -X -v tcpdump: listening on eth0, link-type EN10MB (Ethernet), snapshot length 262144 bytes ç„¶ååœ¨ netshoot_container2 ä¸­ï¼Œå‘é€ä¸€ä¸ª udp çš„è¯·æ±‚åˆ° netshoot_container1 ä¸­ï¼š</description>
    </item>
    <item>
      <title>çº¢æ¥¼æ¢¦äººç‰©å…³ç³»</title>
      <link>https://qiref.github.io/note/2025/09/25/%E7%BA%A2%E6%A5%BC%E6%A2%A6%E4%BA%BA%E7%89%A9%E5%85%B3%E7%B3%BB/</link>
      <pubDate>Thu, 25 Sep 2025 10:24:40 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/09/25/%E7%BA%A2%E6%A5%BC%E6%A2%A6%E4%BA%BA%E7%89%A9%E5%85%B3%E7%B3%BB/</guid>
      <description></description>
    </item>
    <item>
      <title>20250725 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/07/25/20250725-english-learning-journal/</link>
      <pubDate>Fri, 25 Jul 2025 10:24:40 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/07/25/20250725-english-learning-journal/</guid>
      <description>In this weekend, I felt not so good, the sleep time was too late, I spent much time on the useless things, such as shopping apps , social media and so on. I didn&amp;rsquo;t know the reason and I tried to figure it out.&#xA;I lost my self-control, and I asked deepseek, It was said self-control was not against youself, but turn around your attention, If you desired sth, bought sth you not really needed.</description>
    </item>
    <item>
      <title>Chuck Based åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡è°ƒåº¦</title>
      <link>https://qiref.github.io/post/2025/07/18/chuck-based-%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6/</link>
      <pubDate>Fri, 18 Jul 2025 17:12:09 +0800</pubDate>
      <guid>https://qiref.github.io/post/2025/07/18/chuck-based-%E5%88%86%E5%B8%83%E5%BC%8F%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6/</guid>
      <description>é—®é¢˜èƒŒæ™¯ æœ‰ä¸ªeventè¡¨çš„æ•°æ®ï¼Œéœ€è¦ç”¨å®šæ—¶ä»»åŠ¡å®šæœŸå¤„ç†ï¼Œå¤„ç†åçŠ¶æ€æ”¹ä¸ºå·²å®Œæˆï¼› å®šæ—¶ä»»åŠ¡æ‰€åœ¨çš„ç¨‹åºæ˜¯å¤šå®ä¾‹çš„ï¼Œå¸Œæœ›èƒ½é€šè¿‡æ¨ªå‘æ‰©å±•ï¼ŒåŠ é€Ÿå®šæ—¶ä»»åŠ¡å¤„ç†çš„ååé‡ï¼›&#xA;å½“ scheduler task æ¨ªå‘æ‰©å®¹ï¼Œå‡ºç°å¤šä¸ªå®ä¾‹æ—¶ï¼Œå¤šä¸ªå®šæ—¶ä»»åŠ¡åŒæ—¶æ‰§è¡Œï¼Œä¸ºäº†ä¿è¯åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªå®ä¾‹æ‰§è¡Œå®šæ—¶ä»»åŠ¡ï¼Œå¤šä¸ªå®šæ—¶ä»»åŠ¡ä¹‹é—´éœ€è¦åŠ é”ï¼Œå¹¶å‘é‡ä¸å¤§çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç”¨æ•°æ®åº“å®ç°ä¸€ä¸ªç®€å•çš„åˆ†å¸ƒå¼é”ï¼›&#xA;CREATE TABLE `locker` ( `id` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT &#39;ID&#39;, `bizType` varchar(100) NOT NULL, `bizId` varchar(100) NOT NULL, `createTime` datetime DEFAULT CURRENT_TIMESTAMP, `updateTime` datetime DEFAULT CURRENT_TIMESTAMP, `unlockTime` datetime DEFAULT &#39;0000-00-00 00:00:00&#39;, PRIMARY KEY (`id`), UNIQUE KEY `bizType` (`bizType`,`bizId`) ) ENGINE=InnoDB AUTO_INCREMENT=2593578 DEFAULT CHARSET=utf8mb3 COMMENT=&#39;locker&#39;; ç›¸åŒå®šæ—¶ä»»åŠ¡ä½¿ç”¨ç›¸åŒçš„ bizType+bizIdï¼›é€šè¿‡UNIQUE KEY çº¦æŸï¼ŒåŒæ—¶åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹å†™å…¥æ•°æ®ï¼›å†™å…¥æˆåŠŸåˆ™è·å–åˆ°é”ï¼› è·å–åˆ°é”æ—¶ï¼Œå†™å…¥ä¸€ä¸ªè¿‡æœŸæ—¶é—´ï¼Œä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸æ–­å¯¹é”è¿›è¡Œç»­æœŸï¼› å¦èµ·å®šæ—¶ä»»åŠ¡ï¼Œæ‰«æè¿‡æœŸçš„é”è¿›è¡Œæ¸…é™¤ï¼› å®šæ—¶ä»»åŠ¡ç»“æŸåï¼Œæ¸…é™¤é”ï¼› åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œå¤šä¸ªå®šæ—¶ä»»åŠ¡è¿›ç¨‹ä¸­ï¼ŒåŒæ—¶åªæœ‰ä¸€ä¸ªå®ä¾‹æ‰§è¡Œï¼›å½“åŸå§‹é—®é¢˜ä¸­çš„ Event table æ•°æ®é‡å¾ˆå¤§ï¼Œéœ€è¦å¢åŠ å¤„ç†ååé‡æ—¶ï¼Œæ— æ³•é€šè¿‡æ¨ªå‘æ‰©å®¹è§£å†³ã€‚&#xA;å®šæ—¶ä»»åŠ¡æ‹†åˆ† å— DBLog è®ºæ–‡å¯å‘ï¼Œå¯ä»¥æå‰å¯¹æ•°æ®è¿›è¡Œåˆ†ç‰‡ï¼Œä¸åŒåˆ†ç‰‡äº¤ç»™ä¸åŒçš„å®ä¾‹è¿›è¡Œå¤„ç†ï¼Œä»è€Œæé«˜ååé‡ï¼›&#xA;å…·ä½“æ€è·¯å¦‚ä¸‹:&#xA;å…ˆå¯¹ event è¡¨æ•°æ®ä½œæ‹†åˆ†ï¼ŒæŒ‰ç…§ç‰¹å®šçš„ chuck sizeï¼Œæ‹†åˆ†ä¸ºä¸åŒ chuckï¼Œå†™å…¥åˆ° chuck è¡¨ï¼š CREATE TABLE `chuck` ( `id` bigint(11) unsigned NOT NULL AUTO_INCREMENT, `event_start_pos` bigint(20) DEFAULT NULL, `event_end_pos` bigint(20) DEFAULT NULL, `status` int(11) DEFAULT NULL COMMENT &#39;0:å¾…æ‰§è¡Œï¼›1ï¼šæ‰§è¡Œä¸­ï¼›2ï¼šå·²å®Œæˆ&#39;, `version` int(11) DEFAULT NULL, `create_time` timestamp NULL DEFAULT NULL, `update_time` timestamp NULL DEFAULT NULL, `expired_time` timestamp NULL DEFAULT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci; å¤šä¸ª scheduler task ä½¿ç”¨ä¹è§‚é”ç«äº‰ï¼Œä» chuck è¡¨ä¸­è¯»å–ä¸€ä¸ªåˆ†ç‰‡ï¼Œè¿›è¡Œå¤„ç†ï¼›å¤„ç†å®Œæˆåï¼Œä¿®æ”¹åˆ†ç‰‡çŠ¶æ€ï¼ŒåŒæ—¶ä¿®æ”¹ event è¡¨è®°å½•çš„çŠ¶æ€ï¼› select * FROM `chuck` where status=0 update chuck set status=1,version=$version+1 where id = ?</description>
    </item>
    <item>
      <title>20250709 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/07/09/20250709-english-learning-journal/</link>
      <pubDate>Wed, 09 Jul 2025 20:08:00 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/07/09/20250709-english-learning-journal/</guid>
      <description>Everything in this life is impermanent. Today, unfortunately, I heard many bad news, a young woman who is my wifeâ€˜s colleague, after her second child was born today. I was so sad to hear the news, the poor babies. the poor woman. Life is uncertain, people never knew what will be in the next day. The traffic accident, the disease, the deathâ€¦ human were vulnerable while facing the natural.</description>
    </item>
    <item>
      <title>20250707 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/07/07/20250707-english-learning-journal/</link>
      <pubDate>Mon, 07 Jul 2025 21:02:27 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/07/07/20250707-english-learning-journal/</guid>
      <description>Today was Monday, the first day int a week. It was hard to get down to business, I enjoyed last weekend. I made a lot of delicious food in the last weekend. As the old saying said, If you enjoy your food, you must love your life. That was true.&#xA;By the way, My wife prepared her exam in these days, and felt stressful. I knew It was difficult and important for her, but I trust her , she can pass the exam, I often share my journal to her, but not this one.</description>
    </item>
    <item>
      <title>20250701 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/07/01/20250701-english-learning-journal/</link>
      <pubDate>Tue, 01 Jul 2025 21:14:37 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/07/01/20250701-english-learning-journal/</guid>
      <description>Today, I found I love to stay alone. Iâ€™m not outgoing sometimes. In these days, I ate lunch alone, walked alone, and felt free. I could do anything what I want without concerning others. just took on my earphone, and watched some TV shows or read some books. When I was younger, I liked to stay with friends all day, after graduated , found that was hard to make friends, and the old friends was busy, most of them lived in different city and communicated less with each other.</description>
    </item>
    <item>
      <title>20250630 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/30/20250630-english-learning-journal/</link>
      <pubDate>Mon, 30 Jun 2025 20:52:23 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/30/20250630-english-learning-journal/</guid>
      <description>Today, It was so hot. I took a walk alone after dinner . I often do that in recent days, and liked the feeling. last week, I have checked my body on hospital , the doctor told me I shouldnâ€™t eat too much and take exercise. that true. after finished my walk. I felt comfortable.&#xA;The day, I learnt a new word â€œaccumulateâ€, and now , I&amp;rsquo;ll practice the new word in a sentence:</description>
    </item>
    <item>
      <title>20250625 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/25/20250625-english-learning-journal/</link>
      <pubDate>Wed, 25 Jun 2025 22:14:48 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/25/20250625-english-learning-journal/</guid>
      <description>Today, I watched a video in the youtube, Itâ€™s said wasting time is killing your life. Thatâ€™s sound horrible. But when I rethought about it, I understood . Every time I said Iâ€™ll do it later, the fact is Iâ€™ll never do it. thatâ€˜s human nature, people always want to stay comfortable zones. so do I, In these days, I realized how important the time is. There are so manny great thing I want to do, but I spent so much time to the useless thing in the past.</description>
    </item>
    <item>
      <title>20250624 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/24/20250624-english-learning-journal/</link>
      <pubDate>Tue, 24 Jun 2025 18:02:56 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/24/20250624-english-learning-journal/</guid>
      <description>Today, I resolved a complex problem, now, I reviewed the process, found a lot of experience I could learn .&#xA;First, when facing to complication that I have never seen. I should be more patient , the problem that I resolved cost one day to finish. In the process, I felt anxious , frustrating, but never gave up. in the end, I found the solution.&#xA;Second, I must gather enough information before starting, in other words, the context of the problem must be clear.</description>
    </item>
    <item>
      <title>20250619 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/19/20250619-english-learning-journal/</link>
      <pubDate>Thu, 19 Jun 2025 22:30:42 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/19/20250619-english-learning-journal/</guid>
      <description>Today, I didnâ€™t know what to write. It was difficult to write English journal everyday. But thatâ€™s what matters. see it. that phrase I have used yesterday. The best way is practicing constantly while learning English.&#xA;Let me see, what is the most impressive thing today. The first thing I can remember is â€¦.&#xA;Unfortunately, 10 min later, I still cannot know what to write. ğŸ˜‚ğŸ˜‚&#xA;I list some alternatives to words amazing , this what I have learnt today.</description>
    </item>
    <item>
      <title>20250618 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/18/20250618-english-learning-journal/</link>
      <pubDate>Wed, 18 Jun 2025 21:18:08 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/18/20250618-english-learning-journal/</guid>
      <description>I often think that I was stupid in the past life. It will be better If I did something or not did something at that time. so, I regred my dicision, But when I rethink that, That was me too, those things are apart of my life, I should accept it eventhought it was not so perfect . I cannot always be right. But I should know what is better, what is a wrong decision.</description>
    </item>
    <item>
      <title>20250617 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/17/20250617-english-learning-journal/</link>
      <pubDate>Tue, 17 Jun 2025 10:50:56 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/17/20250617-english-learning-journal/</guid>
      <description>Today I watched a presentation of TED on youtube, and it said we human beings can make friends with stress. In someway, The stress is benefit to our bodies. It depends on how we consider it. If we think stress is bad for our life, yes , those who will often be anxious while being stressed. But ,on the other hand, If we are under stress, it means that we are ready to handle it, speed of heart is higher, so we can resolve the difficult situations, weâ€™ll not be anxious about it.</description>
    </item>
    <item>
      <title>20250616 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/16/20250616-english-learning-journal/</link>
      <pubDate>Mon, 16 Jun 2025 11:15:43 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/16/20250616-english-learning-journal/</guid>
      <description>Today, I showed my English journal to my darling, I wanted to shared my thought to her because of trusting. But her reaction astonished me , &amp;ldquo;why not me in your first journal?&amp;rdquo; she said, what a amazing girl she was! she always gave me surprise.&#xA;Util now, she envy our son, Yesterday was father&amp;rsquo;s day, we went shopping in the evening, And she bought expensive clothes that&amp;rsquo;s suit me fine , I was so cheerful that day, After that, we went home, she said to me that I was worth owning its, and I was so moving to heard that.</description>
    </item>
    <item>
      <title>20250615 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/15/20250615-english-learning-journal/</link>
      <pubDate>Sun, 15 Jun 2025 10:26:11 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/15/20250615-english-learning-journal/</guid>
      <description>This is weekend, As usaul , I went home after finished my work, My son ran to me and hugged me , I loved that moment!&#xA;The next day, After lunch, he looked so tired, and wanted to go sleep, but he was too young to sleep by himself, just a two years old baby. Then , I picked the baby up, he lay on my shoulder, and we hung out in the room, 5 min later, he felt asleep almostly, he saw a peice of cookie on the table, and wanted to eat it, Thenï¼Œ I gave the cookie to him, he slept while eating cookies, Wow, He looked so busy.</description>
    </item>
    <item>
      <title>20250613 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/13/20250613-english-learning-journal/</link>
      <pubDate>Fri, 13 Jun 2025 10:18:38 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/13/20250613-english-learning-journal/</guid>
      <description>Today is a sunny day ï¼ŒI walked to my company as usual in the morning. And listening the POC English audio. I saw a lot of mushrooms on the ground, and One of them was so big its looked asdonished. At the time,I wanted to say something using my poor English , Unfortunately I forgot the vocabulary of mushroom, I felt disappointed of myself. But when I arrived at my company, began to took off my earphones, I heard a word mushroom, Suddenly it was seem like remember something, I opened a dictionary APP, checking the vocabulary , That was amazing.</description>
    </item>
    <item>
      <title>20250612 English Learning Journal</title>
      <link>https://qiref.github.io/note/2025/06/12/20250612-english-learning-journal/</link>
      <pubDate>Thu, 12 Jun 2025 21:19:25 +0800</pubDate>
      <guid>https://qiref.github.io/note/2025/06/12/20250612-english-learning-journal/</guid>
      <description>Today, I begin to write my journal of English Learning. And this is the first one.&#xA;I will write my thoughts or some new words, phrase about my learning English every day. In theses days, I have listened POC ENGLISH video in the youtube, that&amp;rsquo;s is high quality video about English learning. I will pay more attention to the video. By the way , the POC ENGLISH has their own website, there is a lot of blogs in that website, all of them are pretty good .</description>
    </item>
    <item>
      <title>å®¹å™¨ç½‘ç»œåŸç†åˆ†æ-å•ä¸»æœºå®¹å™¨ç½‘ç»œ</title>
      <link>https://qiref.github.io/post/2025/05/30/%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90-%E5%8D%95%E4%B8%BB%E6%9C%BA%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C/</link>
      <pubDate>Fri, 30 May 2025 16:28:12 +0800</pubDate>
      <guid>https://qiref.github.io/post/2025/05/30/%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90-%E5%8D%95%E4%B8%BB%E6%9C%BA%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C/</guid>
      <description>å•ä¸»æœºå®¹å™¨é€šä¿¡ åœ¨å®¹å™¨ç¯å¢ƒä¸­ï¼Œå¯åŠ¨ä¸¤ä¸ªcontainerï¼ŒC1ï¼ŒC2ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒC1 å’Œ C2 ç½‘ç»œæ˜¯é€šçš„ï¼Œä½†æ˜¯åœ¨ C1 å’Œ C2 ä¸­ï¼Œéƒ½åˆ†é…äº†è‡ªå·±çš„ IPï¼›&#xA;# å¯åŠ¨ä¸¤ä¸ªå®¹å™¨ç¯å¢ƒ # 172.17.0.3 docker run -d --name containerA nginx:alpine # 172.17.0.2 docker run -d --name containerB nginx:alpine # ç™»å½•containerA ping containerBï¼Œç½‘ç»œèƒ½é€š docker exec -it containerA sh # ping 172.17.0.2 PING 172.17.0.2 (172.17.0.2): 56 data bytes 64 bytes from 172.17.0.2: seq=0 ttl=64 time=0.076 ms ä¸ºä»€ä¹ˆåœ¨ä¸¤ä¸ª container ä¸­ï¼Œç½‘ç»œéƒ½æ˜¯äº’é€šçš„å‘¢ï¼Ÿ&#xA;åœ¨ contaner ä¸­ï¼ŒæŸ¥çœ‹ç½‘ç»œé…ç½®ï¼š&#xA;docker exec -it containerA sh ifconfig eth0 Link encap:Ethernet HWaddr 02:42:AC:11:00:03 inet addr:172.</description>
    </item>
    <item>
      <title>Paxosæ¨å¯¼è¿‡ç¨‹</title>
      <link>https://qiref.github.io/post/2025/01/01/paxos%E6%8E%A8%E5%AF%BC%E8%BF%87%E7%A8%8B/</link>
      <pubDate>Wed, 01 Jan 2025 16:29:06 +0800</pubDate>
      <guid>https://qiref.github.io/post/2025/01/01/paxos%E6%8E%A8%E5%AF%BC%E8%BF%87%E7%A8%8B/</guid>
      <description>paxos æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼å…±è¯†ç®—æ³•, å°±æ˜¯ç”¨æ¥è§£å†³åˆ†å¸ƒå¼ç³»ç»Ÿä¸­, å¤šå‰¯æœ¬æ•°æ®å¦‚ä½•ä¿è¯è¯»å†™ä¸€è‡´æ€§çš„é—®é¢˜.&#xA;ä¸å®Œç¾çš„å‰¯æœ¬æ•°æ®åŒæ­¥æœºåˆ¶ å‡è®¾æˆ‘ä»¬æœ‰ä¸ªåˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿ, æ•°æ®åœ¨å†™å…¥æ—¶, éœ€è¦æŠŠæ•°æ®å†™å…¥åˆ°å…¶ä»–èŠ‚ç‚¹: å‰¯æœ¬æ•°æ®ä»ä¸€ä¸ªèŠ‚ç‚¹å¤åˆ¶åˆ°å…¶ä»–èŠ‚ç‚¹, æœ‰å‡ ç§å¤åˆ¶åŠæ³•:&#xA;åŒæ­¥å¤åˆ¶ å¼‚æ­¥å¤åˆ¶ åŠåŒæ­¥å¤åˆ¶ åŒæ­¥å¤åˆ¶ # node1, node2, node3 a=x --&amp;gt; node1 --&amp;gt; node2 ------&amp;gt; node3 --&amp;gt; done æ•°æ®åœ¨ä¸€æ¬¡å†™å…¥æ—¶, éœ€è¦åŒæ—¶å†™å…¥ node1, node2, node3 ä¸‰ä¸ªèŠ‚ç‚¹, å†™å…¥å®Œæˆæ‰ç®—æ˜¯ä¸€æ¬¡å†™å…¥æˆåŠŸ;&#xA;åŒæ­¥å¤åˆ¶æœ‰ä»€ä¹ˆé—®é¢˜:&#xA;æ€§èƒ½ä½ä¸‹; å†™å…¥æ€§èƒ½ä¼šå—åˆ¶äºèŠ‚ç‚¹æ•°é‡; æ²¡æœ‰å®¹é”™, ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹å†™å…¥å¤±è´¥, åˆ™ç³»ç»Ÿä¸å¯ç”¨; å¼‚æ­¥å¤åˆ¶ a=x --&amp;gt; node1 --&amp;gt; done async( node1 --&amp;gt; node2 ; node1 --&amp;gt; node3 ) æ•°æ®åœ¨ä¸€æ¬¡å†™å…¥æ—¶, åªè¦å†™å…¥ä¸€ä¸ªèŠ‚ç‚¹, åˆ™è®¤å®šå†™å…¥æˆåŠŸ, node1 å†™å…¥ node2; node1 å†™å…¥ node3 æ˜¯å¼‚æ­¥å¤åˆ¶, ä¸å½±å“æ•´ä½“å†™å…¥ç»“æœ;&#xA;å¼‚æ­¥å¤åˆ¶æœ‰ä»€ä¹ˆé—®é¢˜:&#xA;æ•°æ®å¯èƒ½å­˜åœ¨ä¸ä¸€è‡´, å½“ async( node1 &amp;ndash;&amp;gt; node2) å†™å…¥å¤±è´¥æ—¶, node2 å’Œ node1 ä¸Šçš„æ•°æ®å°±ä¸ä¸€è‡´; åŠåŒæ­¥å¤åˆ¶ æ•°æ®åœ¨ä¸€æ¬¡å†™å…¥æ—¶, æ•°æ®å¿…é¡»å†™å…¥ä¸€å®šé‡çš„å‰¯æœ¬(ä¸æ˜¯å…¨éƒ¨), è¿™æ ·å¤šå‰¯æœ¬åˆ™æä¾›äº†è¾ƒé«˜çš„å¯é æ€§;</description>
    </item>
    <item>
      <title>ä¸¤é˜¶æ®µæäº¤å’Œä¸‰é˜¶æ®µæäº¤</title>
      <link>https://qiref.github.io/post/2024/07/25/%E4%B8%A4%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4%E5%92%8C%E4%B8%89%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4/</link>
      <pubDate>Thu, 25 Jul 2024 20:57:06 +0800</pubDate>
      <guid>https://qiref.github.io/post/2024/07/25/%E4%B8%A4%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4%E5%92%8C%E4%B8%89%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4/</guid>
      <description>åˆ†å¸ƒå¼å…±è¯†é—®é¢˜ åˆ†å¸ƒå¼å…±è¯†é—®é¢˜æ˜¯æŒ‡åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå¤šä¸ªèŠ‚ç‚¹æˆ–å‚ä¸è€…éœ€è¦å°±æŸä¸ªå…±åŒçš„ç»“æœè¾¾æˆä¸€è‡´æ„è§çš„é—®é¢˜ã€‚ä¾‹å¦‚ä¸»ä»åŒæ­¥é—®é¢˜, ç®€å•çš„ä¸»ä»åŒæ­¥å¯ä»¥å€ŸåŠ©ä¸¤é˜¶æ®µæäº¤å’Œä¸‰é˜¶æ®µæäº¤æ¥è§£å†³,ç¡®ä¿æ‰€æœ‰èŠ‚ç‚¹ä¸Šçš„äº‹åŠ¡æ“ä½œèƒ½å¤Ÿä¿æŒä¸€è‡´æ€§ï¼Œå³è¦ä¹ˆå…¨éƒ¨æäº¤ï¼Œè¦ä¹ˆå…¨éƒ¨å›æ»šã€‚&#xA;ä¸¤é˜¶æ®µæäº¤ åœ¨ä¸»ä»åŒæ­¥çš„åœºæ™¯ä¸­, backup éœ€è¦ä» master åŒæ­¥æ•°æ®, ä»æ•°æ®å†™å…¥çš„åœºæ™¯æ¥è¯´, å‡å®šä¸»ä»èŠ‚ç‚¹æ˜¯åŒæ­¥å¤åˆ¶, å®é™…ä¸Šå°±æ˜¯ä¸€æ¬¡åˆ†å¸ƒå¼äº‹åŠ¡, backup å’Œ master çš„ä¸€æ¬¡å†™å…¥è¦ä¹ˆéƒ½æˆåŠŸ, è¦ä¹ˆéƒ½å¤±è´¥, æ‰èƒ½ä¿è¯ä¸»ä»èŠ‚ç‚¹çš„æ•°æ®ä¸€è‡´æ€§;&#xA;å€ŸåŠ©ä¸¤é˜¶æ®µæäº¤, éœ€è¦å¼•å…¥ä¸€ä¸ªåè°ƒè€…: Coordinator, å¦‚ä¸‹:&#xA;å°†æäº¤è¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µ: PreCommitã€commit;&#xA;åœ¨ PreCommit é˜¶æ®µ, æ‰§è¡Œ WAL æµç¨‹, æŠŠäº‹åŠ¡æ—¥å¿—æå‰å†™å…¥, ç„¶å Coordinator åœ¨æ”¶åˆ°å‚ä¸è€…çš„ PreCommit ack ä¹‹å, å¼€å¯ç¬¬äºŒé˜¶æ®µ commit, commit æˆåŠŸä¹‹å, æ•°æ®æ‰ç®—æ˜¯çœŸæ­£çš„å†™å…¥. å½“ PreCommit å¤±è´¥æ—¶, Coordinator ä¼šå‘èµ·äº‹åŠ¡å›æ»š, æ‰€æœ‰å‚ä¸è€…ä¼šåŸºäº WAL çš„äº‹åŠ¡æ—¥å¿—, å›æ»šæ­¤æ¬¡äº‹åŠ¡;&#xA;å½“ Coordinator å’Œ Participant ç½‘ç»œå¼‚å¸¸æ—¶, å¦‚æœæ˜¯åœ¨ PreCommit é˜¶æ®µ, é‚£äº‹åŠ¡éƒ½ä¸ä¼šæäº¤, ç›¸å½“äºä¸€æ¬¡å†™å…¥å°±å¤±è´¥äº†; å¦‚æœåœ¨ commit é˜¶æ®µç½‘ç»œå¼‚å¸¸, Coordinator ä¼šé‡è¯•æ‰§è¡Œ, ç›´åˆ° Participant æ¢å¤, äº‹åŠ¡é‡æ–°æäº¤æˆ–è€…å›æ»š. ä½†åœ¨æ­¤æœŸé—´, å®¢æˆ·ç«¯çš„å†™å…¥éƒ½ä¼šè¢«æ‹’ç», æ­¤æ—¶åˆ†å¸ƒå¼ç³»ç»Ÿå¤„äºä¸å¯ç”¨çŠ¶æ€(ç›¸å½“äºä¿è¯äº†æ•°æ®ä¸€è‡´æ€§, ç‰ºç‰²äº†å¯ç”¨æ€§)</description>
    </item>
    <item>
      <title>å…³äºé”çš„æ€è€ƒå’Œæ€»ç»“(äºŒ)</title>
      <link>https://qiref.github.io/post/2024/05/21/%E5%85%B3%E4%BA%8E%E9%94%81%E7%9A%84%E6%80%9D%E8%80%83%E5%92%8C%E6%80%BB%E7%BB%93%E4%BA%8C/</link>
      <pubDate>Tue, 21 May 2024 15:53:46 +0800</pubDate>
      <guid>https://qiref.github.io/post/2024/05/21/%E5%85%B3%E4%BA%8E%E9%94%81%E7%9A%84%E6%80%9D%E8%80%83%E5%92%8C%E6%80%BB%E7%BB%93%E4%BA%8C/</guid>
      <description>ä¹¦æ¥ä¸Šæ–‡, åœ¨å•æœºæ¨¡å¼ä¸‹, å¯ä»¥å€ŸåŠ©æ“ä½œç³»ç»Ÿèƒ½åŠ›, ä½¿ç”¨åŸå­æŒ‡ä»¤å»å®ç°é”, ä½†æ˜¯åœ¨åˆ†å¸ƒå¼åœºæ™¯ä¸­, è¿™ç§æ–¹æ¡ˆå°±ä¼šæ— æ³•å®ç°, å› ä¸ºè¦ç«äº‰é”çš„è¿›ç¨‹åœ¨ä¸åŒçš„æœºå™¨ä¸Š, åˆ†å¸ƒå¼é”å› æ­¤è€Œè¯ç”Ÿ.&#xA;åˆ†å¸ƒå¼é”çš„å¸¸è§é—®é¢˜ ä¸¾ä¸€ä¸ªå¾ˆå¸¸è§çš„æ¡ˆä¾‹, å¦‚æœæŸä¸ªæœåŠ¡ä¸ºäº†å®ç°é«˜å¯ç”¨è€Œé‡‡ç”¨äº†å¤šå‰¯æœ¬æ¨¡å¼, å½“æœåŠ¡ä¸­å­˜åœ¨å®šæ—¶ä»»åŠ¡, å¦‚ä½•ä¿è¯åŒæ—¶åªæœ‰ä¸€ä¸ªå®šæ—¶ä»»åŠ¡åœ¨è¿è¡Œå‘¢? ä»è¿™é‡Œ, é—®é¢˜å°±å¼€å§‹å˜å¾—å¤æ‚.&#xA;å¾ˆå¸¸è§„çš„æ€è·¯å°±æ˜¯å€ŸåŠ©æ•°æ®åº“, æ“ä½œç³»ç»Ÿæä¾›äº†åŸå­æŒ‡ä»¤, åŒæ ·, æ•°æ®åº“ä¹Ÿæä¾›äº†äº‹åŠ¡æ¥ä¿è¯åŸå­æ€§, é‚£ä¹ˆæ¡ˆä¾‹ä¸­çš„é—®é¢˜å¯ä»¥è¿™ä¹ˆè§£å†³:&#xA;å¯ä»¥è®¾è®¡ä¸€å¼ è¡¨ lock, id, key ä¸¤ä¸ªå­—æ®µ, æŠŠ key è®¾ç½®ä¸ºå”¯ä¸€ç´¢å¼•; key çš„ä¸šåŠ¡æ„ä¹‰æ˜¯å®šæ—¶ä»»åŠ¡çš„å”¯ä¸€æ ‡è¯†; æ¯ä¸ªå®ä¾‹æ‰§è¡Œå®šæ—¶ä»»åŠ¡ä¹‹å‰, å¾€è¡¨é‡Œå†™å…¥ä¸€æ¡æ•°æ®: (1, tastA), ç”±äºäº‹åŠ¡æœºåˆ¶çš„å­˜åœ¨, å¦‚æœæ­¤æ—¶æœ‰å…¶ä»–å®ä¾‹å¾€è¿™ä¸ªè¡¨é‡Œå†™æ•°æ®æ—¶å°±ä¼šå¤±è´¥, æ­¤æ—¶è·³è¿‡å½“å‰å®ä¾‹çš„å®šæ—¶ä»»åŠ¡; æ‰§è¡Œå®Œå®šæ—¶ä»»åŠ¡ä¹‹å, æŠŠ (1, taskA) è¿™æ¡è®°å½•åˆ é™¤; é—®é¢˜è§£å†³äº†å—? è€ƒè™‘ä¸€ä¸‹å¼‚å¸¸æƒ…å†µ: å½“å®ä¾‹Aæ‹¿åˆ°é”ä¹‹åæŒ‚äº†, é‚£å…¶ä»–å®ä¾‹æ°¸è¿œä¹Ÿæ‹¿ä¸åˆ°é”äº†;&#xA;ä¸€ä¸ªå¾ˆç›´è§‚çš„æ€è·¯å°±æ˜¯ç»™é”è®¾ç½®è¶…æ—¶æ—¶é—´, ä½†æ˜¯è®¾ç½®è¶…æ—¶æ—¶é—´å°±éœ€è¦æƒè¡¡äº†, å¦‚æœå®šæ—¶ä»»åŠ¡æœ¬èº«çš„è€—æ—¶è·Ÿé”çš„è¶…æ—¶æ—¶é—´è¿˜è¦é•¿, é‚£å°±ä¼šå‡ºç°é”è¶…æ—¶è€Œå¯¼è‡´åŒæ—¶ä¸¤ä¸ªå®ä¾‹åœ¨æ‰§è¡Œå®šæ—¶ä»»åŠ¡, å› æ­¤, è¿™ä¸ªæ–¹æ¡ˆæ˜¯éœ€è¦ä¸€å®šçš„å‰æçš„, è¿™å–å†³äºå®é™…çš„ä¸šåŠ¡åœºæ™¯;&#xA;å†æ›´è¿›ä¸€æ­¥æ€è€ƒ, å¦‚æœçœŸçš„å®šæ—¶ä»»åŠ¡æ¯”é”çš„è¶…æ—¶æ—¶é—´è¿˜é•¿, æ€ä¹ˆè§£å†³å‘¢? é”çš„è¶…æ—¶æ—¶é—´å¦‚æœèƒ½åŠ¨æ€å˜åŒ–, è¿™ä¸ªé—®é¢˜å°±å¼•åˆƒè€Œè§£äº†, è¿™å°±æ˜¯é”ç»­æœŸ;&#xA;lock è¡¨ç»“æ„æ”¹ä¸º: id, key, createTime, expiredTime ; åœ¨æ‰§è¡Œå®šæ—¶ä»»åŠ¡æ—¶,å¾€è¡¨é‡Œå†™ä¸€æ¡æ•°æ® (1, tastA), åŒæ­¥å¼€ä¸€ä¸ªçº¿ç¨‹å»ç»™é”ç»­æœŸ, expiredTime æ—¶é—´å¢åŠ ; å®šæ—¶ä»»åŠ¡æ‰§è¡Œç»“æŸæ—¶, ç»­æœŸçº¿ç¨‹é€€å‡º, åˆ é™¤è®°å½• (1, tastA); æ³¨æ„, ç»­æœŸçš„å‰ææ˜¯åŠ äº†é”è¶…æ—¶çš„æœºåˆ¶, å¦‚æœä½¿ç”¨æ•°æ®åº“çš„è¯, éœ€è¦å®šæœŸæ‰«æ, å‘ç°å·²ç»è¾¾åˆ° expiredTime æ—¶, å°±åˆ é™¤è®°å½•;</description>
    </item>
    <item>
      <title>å…³äºé”çš„æ€è€ƒå’Œæ€»ç»“(ä¸€)</title>
      <link>https://qiref.github.io/post/2024/05/15/%E5%85%B3%E4%BA%8E%E9%94%81%E7%9A%84%E6%80%9D%E8%80%83%E5%92%8C%E6%80%BB%E7%BB%93%E4%B8%80/</link>
      <pubDate>Wed, 15 May 2024 15:53:46 +0800</pubDate>
      <guid>https://qiref.github.io/post/2024/05/15/%E5%85%B3%E4%BA%8E%E9%94%81%E7%9A%84%E6%80%9D%E8%80%83%E5%92%8C%E6%80%BB%E7%BB%93%E4%B8%80/</guid>
      <description>func add (a *int) *int { *a++ // çº¿ç¨‹ä¸å®‰å…¨ return a } è¿™æ˜¯ä¸€æ®µå¾ˆå…¸å‹çš„çº¿ç¨‹ä¸å®‰å…¨çš„ä»£ç ç¤ºä¾‹, åœ¨å¹¶å‘åœºæ™¯ä¸‹, a çš„ç»“æœæ˜¯ä¸ç¡®å®šçš„, å¤§æ¦‚ç‡ä¼šå°äº 1000, åŸå› æ˜¯ a++ å¹¶éåŸå­æ“ä½œ, ä¼šå­˜åœ¨åŒæ—¶æœ‰ä¸¤ä¸ªåç¨‹è¯»å–åˆ° a çš„å€¼æ˜¯ç›¸åŒçš„æƒ…å†µ, æ‰§è¡Œ a++ä¹‹åå†é‡æ–°å›å†™æ—¶, açš„å€¼ä¹Ÿæ˜¯ç›¸åŒçš„, æƒ³è¦å˜ä¸ºçº¿ç¨‹å®‰å…¨, å°±éœ€è¦åœ¨æ“ä½œä¸´ç•Œèµ„æºä¹‹å‰åŠ é”;&#xA;Mutex åœ¨æ“ä½œå…±äº«èµ„æºä¹‹å‰åŠ é”, ç„¶åæ“ä½œå®Œä¸´ç•Œèµ„æºä¹‹åé‡Šæ”¾é”, ä¿è¯åŒæ—¶åªæœ‰ä¸€ä¸ªåç¨‹æ“ä½œä¸´ç•Œèµ„æº;&#xA;var mu sync.Mutex func addSafe(a *int) *int { mu.Lock() // åŠ é” defer mu.Unlock() // é‡Šæ”¾é” *a++ return a } é”åœ¨å¤šçº¿ç¨‹æˆ–å¤šè¿›ç¨‹ç¯å¢ƒä¸­å®ç°èµ„æºçš„äº’æ–¥è®¿é—®ã€‚å½“ä¸€ä¸ªçº¿ç¨‹æˆ–è¿›ç¨‹æƒ³è¦è®¿é—®æŸä¸ªå…±äº«èµ„æºï¼ˆå¦‚æ•°æ®ç»“æ„ã€æ–‡ä»¶ç­‰ï¼‰æ—¶ï¼Œå®ƒå¿…é¡»é¦–å…ˆå°è¯•è·å–è¯¥èµ„æºå¯¹åº”çš„é”ã€‚å¦‚æœé”æœªè¢«å…¶ä»–çº¿ç¨‹æˆ–è¿›ç¨‹å ç”¨ï¼Œé‚£ä¹ˆè¯·æ±‚çš„çº¿ç¨‹æˆ–è¿›ç¨‹å°†è·å¾—é”å¹¶ç»§ç»­æ‰§è¡Œï¼›å¦åˆ™ï¼Œå®ƒå°†ç­‰å¾…ï¼Œç›´åˆ°é”è¢«é‡Šæ”¾ã€‚&#xA;// If the lock is already in use, the calling goroutine // blocks until the mutex is available.</description>
    </item>
    <item>
      <title>Go ppfofå·¥å…·ä½¿ç”¨</title>
      <link>https://qiref.github.io/post/2024/02/23/go-ppfof%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/</link>
      <pubDate>Fri, 23 Feb 2024 15:53:46 +0800</pubDate>
      <guid>https://qiref.github.io/post/2024/02/23/go-ppfof%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/</guid>
      <description>pprof pprof æ˜¯ç”¨äºå¯è§†åŒ–å’Œåˆ†ææ€§èƒ½åˆ†ææ•°æ®çš„å·¥å…·;&#xA;runtime/pprofï¼šé‡‡é›†ç¨‹åºï¼ˆé Serverï¼‰çš„è¿è¡Œæ•°æ®è¿›è¡Œåˆ†æ net/http/pprofï¼šé‡‡é›† HTTP Server çš„è¿è¡Œæ—¶æ•°æ®è¿›è¡Œåˆ†æ å¯ç”¨æ–¹å¼ åœ¨mainå‡½æ•°ä¹‹å‰ä½¿ç”¨å¯åŠ¨, DoProfile(6060)&#xA;import ( &amp;quot;net/http&amp;quot; _ &amp;quot;net/http/pprof&amp;quot; &amp;quot;strconv&amp;quot; ) type ProfileServer struct { } func (this *ProfileServer) DoProfile(port int) { go func() { err := http.ListenAndServe(&amp;quot;:&amp;quot;+strconv.FormatInt(int64(port), 10), nil) if err != nil { log.Errorf(&amp;quot;Failed to do profile on port: %d&amp;quot;, port) } else { log.Infof(&amp;quot;pprof start successfully on port %d&amp;quot;, port) } }() } åˆ†æ curl &#39;http://127.0.0.1:6060/debug/pprof/profile&#39; -o profile.20240223 curl &#39;http://127.</description>
    </item>
    <item>
      <title>B&#43;æ ‘</title>
      <link>https://qiref.github.io/post/2023/12/05/b-%E6%A0%91/</link>
      <pubDate>Tue, 05 Dec 2023 11:03:22 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/12/05/b-%E6%A0%91/</guid>
      <description>Bæ ‘å¼•å…¥ Bæ ‘ï¼ˆè‹±è¯­ï¼šB-treeï¼‰ï¼Œæ˜¯ä¸€ç§åœ¨è®¡ç®—æœºç§‘å­¦è‡ªå¹³è¡¡çš„æ ‘ï¼Œèƒ½å¤Ÿä¿æŒæ•°æ®æœ‰åºã€‚è¿™ç§æ•°æ®ç»“æ„èƒ½å¤Ÿè®©æŸ¥æ‰¾æ•°æ®ã€é¡ºåºè®¿é—®ã€æ’å…¥æ•°æ®åŠåˆ é™¤çš„åŠ¨ä½œï¼Œéƒ½åœ¨å¯¹æ•°æ—¶é—´å†…å®Œæˆã€‚Bæ ‘ï¼Œæ¦‚æ‹¬æ¥è¯´æ˜¯ä¸€ä¸ªä¸€èˆ¬åŒ–çš„äºŒå‰æœç´¢æ ‘ï¼ˆbinary search treeï¼‰ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥æ‹¥æœ‰2ä¸ªä»¥ä¸Šçš„å­èŠ‚ç‚¹ã€‚ä¸è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ä¸åŒï¼ŒBæ ‘é€‚ç”¨äºè¯»å†™ç›¸å¯¹å¤§çš„æ•°æ®å—çš„å­˜å‚¨ç³»ç»Ÿï¼Œä¾‹å¦‚ç£ç›˜ã€‚Bæ ‘å‡å°‘å®šä½è®°å½•æ—¶æ‰€ç»å†çš„ä¸­é—´è¿‡ç¨‹ï¼Œä»è€ŒåŠ å¿«è®¿é—®é€Ÿåº¦ã€‚Bæ ‘è¿™ç§æ•°æ®ç»“æ„å¯ä»¥ç”¨æ¥æè¿°å¤–éƒ¨å­˜å‚¨ã€‚è¿™ç§æ•°æ®ç»“æ„å¸¸è¢«åº”ç”¨åœ¨æ•°æ®åº“å’Œæ–‡ä»¶ç³»ç»Ÿçš„å®ç°ä¸Šã€‚&#xA;wiki ä¸Šæ˜¯è¿™ä¹ˆæè¿° B æ ‘çš„, é‡ç‚¹åœ¨äº B æ ‘è¢«ç”¨ä½œå­˜å‚¨ç³»ç»Ÿçš„å®ç°ä¸Š, åŸºäºäºŒå‰æœç´¢æ ‘å¤©ç„¶çš„æœ‰åºæ€§, å®ç° logn çº§åˆ«çš„æŸ¥è¯¢; æ—¢ç„¶æ˜¯ç”¨ä½œå­˜å‚¨ç³»ç»Ÿçš„å®ç°, é‚£ä¹ˆå¯ä»¥æ¥æ¨å¯¼ä¸€ä¸‹, ä¸ºä»€ä¹ˆB æ ‘ä¼šç”¨ä½œå­˜å‚¨ç³»ç»Ÿçš„å®ç°?&#xA;æƒ³è¦å®ç° logn çº§åˆ«çš„æŸ¥è¯¢, binary search tree skiip list éƒ½å¯ä»¥å®ç°, Why B æ ‘?&#xA;äºŒå‰æœç´¢æ ‘ 1&#xA;äºŒå‰æœç´¢æ ‘å¤©ç„¶æœ‰åº, ä¹Ÿèƒ½è¾¾åˆ° logn çº§åˆ«çš„æŸ¥è¯¢æ€§èƒ½, ä½†æ˜¯äºŒå‰æœç´¢æ ‘, æœ‰ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜, å¦‚æœæ’å…¥çš„æ•°æ®æœ¬èº«æ˜¯æœ‰åºçš„, é‚£äºŒå‰æœç´¢æ ‘å°±ä¼šé€€åŒ–ä¸ºé“¾è¡¨, è¦è§£å†³è¿™ä¸ªé—®é¢˜, å¯ä»¥ç”¨ AVL Tree (Balanced binary search tree) å’Œ Red-Black Tree.&#xA;AVL æ ‘ AVL Tree (Balanced binary search tree) åœ¨äºŒå‰æœç´¢æ ‘çš„åŸºç¡€ä¸Š, å¢åŠ äº†è‡ªå¹³è¡¡çš„æœºåˆ¶, è§£å†³äºŒå‰æœç´¢æ ‘é€€åŒ–ä¸ºé“¾è¡¨çš„é—®é¢˜, ä½†æ˜¯è‡ªå¹³è¡¡ä¹Ÿä¼šå¸¦æ¥æ–°çš„é—®é¢˜(å¹³è¡¡æ¡ä»¶å¿…é¡»æ»¡è¶³æ‰€æœ‰èŠ‚ç‚¹çš„å·¦å³å­æ ‘é«˜åº¦å·®ä¸è¶…è¿‡1), æ’å…¥æ—¶å¯èƒ½ä¼šè§¦å‘å¤šæ¬¡çš„è‡ªå¹³è¡¡, ä»è€Œä¼šå½±å“æ•°æ®æ’å…¥çš„æ•ˆç‡, é‚£æœ‰æ²¡æœ‰åŠæ³•è§£å†³é¢‘ç¹çš„è‡ªå¹³è¡¡çš„é—®é¢˜å‘¢?&#xA;çº¢é»‘æ ‘ Red-Black Tree å°±èƒ½åšåˆ°, çº¢é»‘æ ‘é€šè¿‡åˆ¶å®šä¸€ç³»åˆ—çš„è§„åˆ™:</description>
    </item>
    <item>
      <title>Log Structured Merge Tree</title>
      <link>https://qiref.github.io/post/2023/10/13/log-structured-merge-tree/</link>
      <pubDate>Fri, 13 Oct 2023 11:46:21 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/10/13/log-structured-merge-tree/</guid>
      <description>åŸºæœ¬æ¦‚å¿µ Log Structured Merge Tree, å…¶æœ¬è´¨ä¸Šæ˜¯ä¸€ç§å­˜å‚¨æ•°æ®çš„æ–¹å¼,é€šå¸¸ç”¨äºå„ç§å­˜å‚¨ç³»ç»Ÿçš„åº•å±‚æ•°æ®ç»“æ„,é€šè¿‡å°½å¯èƒ½å‡å°‘ç£ç›˜éšæœºIOæ¥æå‡å†™å…¥æ€§èƒ½, é€‚ç”¨äºå†™å¤šè¯»å°‘çš„åœºæ™¯.&#xA;éšæœºå†™å’Œé¡ºåºå†™ å¯¹äºä¸€ä¸ªå­˜å‚¨ç³»ç»Ÿè€Œè¨€, ä¸å¯é¿å…åœ°éœ€è¦å†™å…¥æ–‡ä»¶åˆ°ç£ç›˜, å¯¹äºå¸¸è§„çš„å†™æ¥è¯´, æ¯æ¥ä¸€æ¡æ•°æ®å†™ä¸€æ¬¡æ–‡ä»¶, æ•°æ®å¯èƒ½æ˜¯ add update delete, éœ€è¦é¢‘ç¹æ“ä½œæ–‡ä»¶, æ¯ä¸€æ¬¡å†™éƒ½æ˜¯ä¸€æ¬¡éšæœº IO; ä¸ºäº†æé«˜å†™å…¥é€Ÿåº¦, LSM Tree å¹¶ä¸æ˜¯æ¯ä¸€æ¬¡å†™æ“ä½œéƒ½æŠŠæ–‡ä»¶å†™åˆ°ç£ç›˜, è€Œæ˜¯å°†æ•°æ®åœ¨å†…å­˜ä¸­æ›´æ–°ï¼Œå½“å†…å­˜ä¸­çš„æ•°æ®è¾¾åˆ°ä¸€å®šçš„é˜ˆå€¼æ—¶ï¼Œæ‰å°†è¿™éƒ¨åˆ†æ•°æ®çœŸæ­£åˆ·æ–°åˆ°ç£ç›˜æ–‡ä»¶ä¸­. ä»¥è¿™ç§æ–¹å¼å°½å¯èƒ½è®©æ¯æ¬¡ç£ç›˜ IO éƒ½æ˜¯é¡ºåºå†™;&#xA;æ€è·¯ åŸºäºå‡å°‘ç£ç›˜çš„éšæœº IO æ¥æå‡æ•´ä½“å­˜å‚¨ç³»ç»Ÿçš„å†™å…¥æ€§èƒ½è¿™ä¸€èƒŒæ™¯, å¾ˆè‡ªç„¶å¯ä»¥æ¨å¯¼å‡ºç”¨æ‰¹é‡å†™å…¥çš„æ–¹å¼, è¦æƒ³æ‰¹é‡å†™å…¥, å°±éœ€è¦åœ¨å†…å­˜ç»´æŠ¤æœ€è¿‘å†™å…¥çš„æ•°æ®, è¾¾åˆ°é˜ˆå€¼ä¹‹åç”Ÿæˆä¸€ä¸ªæ–‡ä»¶å†™å…¥åˆ°ç£ç›˜, ä½†æ˜¯è¿™æ ·åˆä¼šå­˜åœ¨æ–°çš„é—®é¢˜:&#xA;å¦‚æœæŸä¸€æ¡æ•°æ®å·²ç»å†™å…¥åˆ°ç£ç›˜æ–‡ä»¶, åç»­åˆæœ‰æ›´æ–°, æ€ä¹ˆå¤„ç†å‘¢? å†…å­˜ä¸­ç»´æŠ¤çš„ä¸´æ—¶æ•°æ®, å¦‚æœè¿˜æœªæ¥å¾—åŠå†™å…¥ç£ç›˜, æœåŠ¡æŒ‚äº†, é‡æ–°å¯åŠ¨æ—¶, å†å²å†™å…¥çš„æ•°æ®å¦‚ä½•æ¢å¤? æ¯æ¬¡å†…å­˜ä¸­æ•°æ®è¾¾åˆ°é˜ˆå€¼,å†™ä¸€ä¸ªæ•´ä¸ªæ–‡ä»¶åˆ°ç£ç›˜,é‚£ä¹ˆæœ€ç»ˆä¼šç”Ÿæˆå¤§é‡çš„æ–‡ä»¶, å¦‚ä½•è§£å†³? è§£å†³é—®é¢˜1, ä¸ºäº†ä¼˜åŒ–è¿™ç§æ›´æ–°çš„å†™å…¥, å¯ä»¥é‡‡ç”¨æ•°æ®ç‰ˆæœ¬çš„åšæ³•, æˆ–è€…ç»™æ•°æ®å¢åŠ æ ‡å¿—, ç„¶åå®šæœŸåˆå¹¶, å½“ç„¶, è¿™ä¹Ÿæ˜¯ä»¥ç©ºé—´æ¢æ—¶é—´, ç›¸åŒçš„æ•°æ®å­˜å‚¨äº†å¤šæ¬¡, ä»¥æå‡å†™å…¥æ€§èƒ½; ä¸æ­¤åŒæ—¶, åœ¨æ•°æ®è¯»å–æ—¶,ç”±äºå†™å…¥çš„é€»è¾‘æ”¹å˜, ä¸€æ¡æ•°æ®å¯èƒ½ä¼šå­˜åœ¨äºå¤šä¸ªæ–‡ä»¶ä¸­, å› æ­¤åœ¨è¯»å–æ—¶, éœ€è¦è¿”å›æœ€æ–°çš„æ•°æ®, åœ¨è¯»å–åˆ°å¤šæ¡æ•°æ®æ—¶,éœ€è¦å¯¹å¤šæ¡æ•°æ®è¿›è¡Œåˆå–æœ€æ–°;&#xA;è§£å†³é—®é¢˜2, åœ¨ä¸šç•Œæ¯”è¾ƒæ ‡å‡†çš„åšæ³•æ˜¯ WAL, WAL çš„åŸºæœ¬åŸç†æ˜¯åœ¨æ‰§è¡Œæ•°æ®ä¿®æ”¹æ“ä½œä¹‹å‰ï¼Œå…ˆå°†è¿™äº›æ“ä½œè®°å½•åœ¨æ—¥å¿—ï¼ˆlogï¼‰æ–‡ä»¶ä¸­, ä»¥ç¡®ä¿åœ¨å‘ç”Ÿæ•…éšœæˆ–å´©æºƒæ—¶ï¼Œå¯ä»¥å€ŸåŠ©æ—¥å¿—è¿›è¡Œæ¢å¤å¹¶ä¿æŒæ•°æ®çš„ä¸€è‡´æ€§;&#xA;è§£å†³é—®é¢˜3, ä¸ºäº†é¿å…å¤§é‡æ–‡ä»¶, å¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œå®šæœŸåˆå¹¶, å½“æ•°æ®è¿˜åœ¨å†…å­˜ä¸­æ—¶, å¯ä»¥å€ŸåŠ©è·³è¡¨æˆ–è€… B+Tree ç­‰æ•°æ®ç»“æ„ä¿è¯å†…å­˜ä¸­æ•°æ®çš„é¡ºåºæ€§, åœ¨å†™æ–‡ä»¶æ—¶, ç”±äºæ•°æ®æ˜¯æœ‰åºçš„, åœ¨æ–‡ä»¶åˆå¹¶æ—¶,å¾ˆè‡ªç„¶å¯ä»¥å€ŸåŠ©å½’å¹¶æ’åºä¿è¯åˆå¹¶ä¹‹åçš„æ•°æ®çš„æœ‰åºæ€§, è€Œæœ‰åºæ€§åˆèƒ½å¤©ç„¶æé«˜æŸ¥è¯¢æ•ˆç‡.</description>
    </item>
    <item>
      <title>Skip Lists é˜…è¯»ç¬”è®°</title>
      <link>https://qiref.github.io/post/2023/10/01/skip-lists-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Sun, 01 Oct 2023 22:05:38 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/10/01/skip-lists-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</guid>
      <description>ç®—æ³•ä»‹ç» ã€ŠSkip Lists: A Probabilistic Alternative to Balanced Treesã€‹ è®ºæ–‡æ ‡é¢˜ç¿»è¯‘å°±æ˜¯ è·³è¡¨: å¹³è¡¡æ ‘çš„æ¦‚ç‡æ€§æ›¿ä»£æ–¹æ¡ˆ; è·³è¡¨æ˜¯ä¸€ç§å¯ä»¥ç”¨æ¥ä»£æ›¿å¹³è¡¡æ ‘çš„æ•°æ®ç»“æ„ã€‚è·³è¡¨ä½¿ç”¨æ¦‚ç‡å¹³è¡¡è€Œä¸æ˜¯ä¸¥æ ¼å¼ºåˆ¶çš„å¹³è¡¡ï¼Œå› æ­¤è·³è·ƒåˆ—è¡¨ä¸­çš„æ’å…¥å’Œåˆ é™¤ç®—æ³•æ¯”å¹³è¡¡æ ‘çš„ç­‰æ•ˆç®—æ³•è¦ç®€å•å¾—å¤šå¹¶ä¸”é€Ÿåº¦æ˜æ˜¾æ›´å¿«ã€‚&#xA;ä»è®ºæ–‡çš„æ ‡é¢˜å’Œä»‹ç», åŸºæœ¬ä¸Šå°±èƒ½çŸ¥é“è·³è¡¨æ˜¯ä¸€ç§æ€ä¹ˆæ ·çš„æ•°æ®ç»“æ„, ä¸ºäº†è§£å†³å¹³è¡¡æ ‘å®ç°çš„å¤æ‚æ€§, æä¾›ä¸€ç§æ¦‚ç‡æ€§å¹³è¡¡çš„æ•°æ®ç»“æ„,ä½œä¸ºå¹³è¡¡æ ‘çš„å¹³æ›¿æ•°æ®ç»“æ„, æŸ¥è¯¢å’Œæ’å…¥æ—¶é—´å¤æ‚åº¦æ˜¯ O(log n).&#xA;ç®—æ³•æµç¨‹ åŸºæœ¬åŸç† èŠ‚ç‚¹ç»“æ„ï¼šè·³è¡¨ç”±å¤šä¸ªå±‚çº§ç»„æˆï¼Œæ¯ä¸ªå±‚çº§éƒ½æ˜¯ä¸€ä¸ªæœ‰åºé“¾è¡¨ã€‚æ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸€ä¸ªå€¼å’Œå¤šä¸ªæŒ‡å‘ä¸‹ä¸€å±‚çº§èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚&#xA;å±‚çº§ç´¢å¼•ï¼šè·³è¡¨çš„æœ€åº•å±‚æ˜¯ä¸€ä¸ªæ™®é€šçš„æœ‰åºé“¾è¡¨ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½è¿æ¥åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚è€Œåœ¨æ›´é«˜çš„å±‚çº§ï¼ŒèŠ‚ç‚¹ä»¥ä¸€å®šçš„æ¦‚ç‡è¿æ¥åˆ°æ›´è¿œçš„èŠ‚ç‚¹ï¼Œå½¢æˆäº†ä¸€ç§â€œè·³è·ƒâ€çš„æ•ˆæœã€‚è¿™äº›è¿æ¥è¢«ç§°ä¸ºâ€œè·³è·ƒæŒ‡é’ˆâ€ï¼Œå®ƒä»¬å…è®¸æˆ‘ä»¬åœ¨æŸ¥æ‰¾æ—¶å¯ä»¥å¿«é€Ÿåœ°è·³è¿‡ä¸€äº›èŠ‚ç‚¹ã€‚&#xA;æŸ¥æ‰¾æ“ä½œï¼šä»è·³è¡¨çš„é¡¶å±‚å¼€å§‹ï¼Œæˆ‘ä»¬æ²¿ç€æ¯ä¸ªå±‚çº§å‘å³ç§»åŠ¨ï¼Œç›´åˆ°æ‰¾åˆ°ç›®æ ‡å€¼æˆ–æ‰¾åˆ°ä¸€ä¸ªå¤§äºç›®æ ‡å€¼çš„èŠ‚ç‚¹ã€‚ç„¶åæˆ‘ä»¬è¿›å…¥ä¸‹ä¸€å±‚çº§ç»§ç»­æŸ¥æ‰¾ï¼Œç›´åˆ°æœ€åº•å±‚ã€‚è¿™ç§æ–¹å¼å¯ä»¥åœ¨å¹³å‡æƒ…å†µä¸‹å®ç°å¿«é€Ÿçš„æŸ¥æ‰¾ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(log n)ã€‚&#xA;æ’å…¥å’Œåˆ é™¤æ“ä½œï¼šåœ¨æ’å…¥æ–°èŠ‚ç‚¹æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆæ‰§è¡ŒæŸ¥æ‰¾æ“ä½œï¼Œæ‰¾åˆ°åˆé€‚çš„æ’å…¥ä½ç½®ã€‚ç„¶åæˆ‘ä»¬åœ¨æ¯ä¸ªå±‚çº§ä¸Šæ’å…¥æ–°èŠ‚ç‚¹ï¼Œå¹¶æ ¹æ®ä¸€å®šçš„æ¦‚ç‡å†³å®šæ˜¯å¦è¦ä¸ºè¯¥èŠ‚ç‚¹æ·»åŠ è·³è·ƒæŒ‡é’ˆã€‚åˆ é™¤æ“ä½œç±»ä¼¼ï¼Œæˆ‘ä»¬é¦–å…ˆæ‰¾åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹ï¼Œç„¶åå°†å…¶ä»æ¯ä¸ªå±‚çº§ä¸­ç§»é™¤ã€‚&#xA;æŸ¥è¯¢ level è¡¨ç¤ºè·³è¡¨çš„å±‚çº§, è€Œ forward[i] æ˜¯æ¯ä¸€ä¸ªå±‚çº§çš„é“¾è¡¨.&#xA;Search(list, searchKey) x := listâ†’header // ä»è·³è¡¨çš„é¡¶å±‚å¼€å§‹,éå†åˆ°ç¬¬ä¸€å±‚ for i := listâ†’level downto 1 do while xâ†’forward[i]â†’key &amp;lt; searchKey do x := xâ†’forward[i] // xâ†’key &amp;lt; searchKey â‰¤ xâ†’forward[1]â†’key // æœ€ç»ˆçš„ç»“æœä»è·³è¡¨æœ€åº•å±‚è·å– x := xâ†’forward[1] if xâ†’key = searchKey then return xâ†’value else return failure å†™å…¥ ç”±è·³è¡¨çš„å®šä¹‰å¾—å‡º, è·³è¡¨çš„ä¸Šä¸€å±‚çº§ç›¸å½“äºä¸‹ä¸€å±‚çº§çš„ç´¢å¼•, å¦‚æœéœ€è¦æ„å»ºå¤šçº§çš„ç´¢å¼•, é¦–å…ˆéœ€è¦è§£å†³: å½“å‰nodeæ˜¯å¦åº”è¯¥ç´¢å¼•åˆ°ä¸Šä¸€å±‚çº§?</description>
    </item>
    <item>
      <title>DBLog é˜…è¯»ç¬”è®°</title>
      <link>https://qiref.github.io/post/2023/08/09/dblog-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Wed, 09 Aug 2023 10:39:17 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/08/09/dblog-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</guid>
      <description>ä»‹ç» è®ºæ–‡åŸå: DBLog: A Watermark Based Change-Data-Capture Framework , åŸºäº Watermark çš„ Change-Data-Capture(æ•°æ®åº“å®æ—¶æ•è·å·²æäº¤çš„å˜æ›´è®°å½•) æ¡†æ¶, æœ¬è´¨ä¸Šæ˜¯è§£å†³æ•°æ®åº“åŒæ­¥(å…¨é‡+å¢é‡)çš„æ¡†æ¶, Watermark æ˜¯æ¡†æ¶ä½¿ç”¨çš„ä¸€ç§æ‰‹æ®µ, åœ¨æºè¡¨ä¸­åˆ›å»ºè¡¨,ç”Ÿæˆå”¯ä¸€ uuid å¹¶æ›´æ–°è¡¨æ•°æ®, åœ¨æºè¡¨ä¸­å°±ä¼šç”Ÿæˆä¸€æ¡å˜æ›´è®°å½•,è®°ä½œ Watermark çš„å˜æ›´è®°å½•, é€šè¿‡ High Watermark å’Œ Low Watermark å°†å˜æ›´è®°å½•åˆ†å‰², ä¿è¯ select chunk æ•°æ®åŒ…å«äº†å¢é‡çš„å˜æ›´è®°å½•.&#xA;æ¡†æ¶æ•´ä½“æ¶æ„å¦‚ä¸‹:&#xA;æ¡†æ¶ç‰¹ç‚¹:&#xA;æŒ‰é¡ºåºå¤„ç†æ•è·åˆ°çš„ changelog; è½¬å‚¨å¯ä»¥éšæ—¶è¿›è¡Œï¼Œè·¨æ‰€æœ‰è¡¨ï¼Œé’ˆå¯¹ä¸€ä¸ªç‰¹å®šçš„è¡¨æˆ–è€…é’ˆå¯¹ä¸€ä¸ªè¡¨çš„å…·ä½“ä¸»é”®; ä»¥å—(chunk)çš„å½¢å¼è·å–è½¬å‚¨ï¼Œæ—¥å¿—ä¸è½¬å‚¨äº‹ä»¶äº¤é”™ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œchangelog å¯ä»¥ä¸è½¬å‚¨å¤„ç†ä¸€èµ·è¿›è¡Œã€‚å¦‚æœè¿›ç¨‹ç»ˆæ­¢ï¼Œå®ƒå¯ä»¥åœ¨æœ€åä¸€ä¸ªå®Œæˆçš„å—ä¹‹åæ¢å¤ï¼Œè€Œä¸éœ€è¦ä»å¤´å¼€å§‹ã€‚è¿™è¿˜å…è®¸åœ¨éœ€è¦æ—¶å¯¹è½¬å‚¨è¿›è¡Œè°ƒæ•´å’Œæš‚åœ; ä¸ä¼šè·å–è¡¨çº§é”ï¼Œè¿™å¯ä»¥é˜²æ­¢å½±å“æºæ•°æ®åº“ä¸Šçš„å†™æµé‡; æ”¯æŒä»»ä½•ç±»å‹çš„è¾“å‡ºï¼Œå› æ­¤ï¼Œè¾“å‡ºå¯ä»¥æ˜¯æµã€æ•°æ®å­˜å‚¨ç”šæˆ–æ˜¯ API; è®¾è®¡å……åˆ†è€ƒè™‘äº†é«˜å¯ç”¨æ€§ã€‚å› æ­¤ï¼Œä¸‹æ¸¸çš„æ¶ˆè´¹è€…å¯ä»¥æ”¾å¿ƒï¼Œåªè¦æºç«¯å‘ç”Ÿå˜åŒ–ï¼Œå®ƒä»¬å°±å¯ä»¥æ”¶åˆ°å˜åŒ–äº‹ä»¶ã€‚ æ³¨æ„, æœ¬æ–‡å¹¶éè¯¦ç»†ä»‹ç» DBLog æ¡†æ¶æœ¬èº«, è€Œæ˜¯åˆ†æå…¶æ¡†æ¶èƒŒåçš„è®¾è®¡æ€è·¯.&#xA;ç®—æ³•æµç¨‹ chunk åˆ’åˆ† å¯¹äºæºè¡¨æ•°æ®, å…¨é‡æ•°æ®ä½¿ç”¨åˆ†å—è¯»å–, åŸºäº primary key é¡ºåºæ’åº, å°†å…¨é‡æ•°æ®åˆ’åˆ†ä¸º N ä¸ª chunk;&#xA;watermark åŸºäº chunk åˆ’åˆ†, ç„¶å chunk æ•°æ®å…¨é‡å†™å…¥ä¸‹æ¸¸ä¹‹å, å†å°†æºè¡¨çš„å˜æ›´è®°å½• changelog å¢é‡åŒæ­¥åˆ°ä¸‹æ¸¸, æ•´ä½“æ€è·¯å°±æ˜¯è¿™æ ·, ä½†æ˜¯åˆ’åˆ† chunk æœ‰ä¸ªé—®é¢˜éœ€è¦è§£å†³, å°±æ˜¯å…ˆåŒæ­¥åˆ°ä¸‹æ¸¸çš„æ•°æ®ä¸ä¸€å®šçš„æœ€ç»ˆçš„æ•°æ®, ä¾‹å¦‚ä¸Šå›¾ chunk1 ä¸­çš„æ•°æ®åœ¨åŒæ­¥åˆ°ä¸‹æ¸¸ä¹‹åå¯èƒ½ä¼šåˆ é™¤, é‚£chunk1 çš„æ•°æ®å†™åˆ°ä¸‹æ¸¸ä¹‹å, ä¸‹æ¸¸å°±ä¼šå‡ºç°è„æ•°æ®; å¦‚ä½•è§£å†³ chunk å’Œ changelog ä¹‹é—´ä¸ä¼šç›¸äº’è¦†ç›–çš„é—®é¢˜?</description>
    </item>
    <item>
      <title>Javaè¿›ç¨‹åˆ†æå·¥å…·</title>
      <link>https://qiref.github.io/post/2023/06/26/java%E8%BF%9B%E7%A8%8B%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/</link>
      <pubDate>Mon, 26 Jun 2023 21:55:00 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/06/26/java%E8%BF%9B%E7%A8%8B%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/</guid>
      <description>JVM å†…å­˜åŒºåŸŸ å¦‚æœè¦ä¸ºæ–°ç”Ÿä»£åˆ†é… 256m çš„å†…å­˜ï¼ˆNewSize ä¸ MaxNewSize è®¾ä¸ºä¸€è‡´ï¼‰ï¼Œå‚æ•°åº”è¯¥è¿™æ ·æ¥å†™ï¼š-Xmn256m;&#xA;è¿˜å¯ä»¥é€šè¿‡ -XX:NewRatio=&amp;lt;int&amp;gt; æ¥è®¾ç½®è€å¹´ä»£ä¸æ–°ç”Ÿä»£å†…å­˜çš„æ¯”å€¼ã€‚æ¯”å¦‚ä»¥ä¸‹å‚æ•°å°±æ˜¯è®¾ç½®è€å¹´ä»£ä¸æ–°ç”Ÿä»£å†…å­˜çš„æ¯”å€¼ä¸º 1ã€‚ä¹Ÿå°±æ˜¯è¯´è€å¹´ä»£å’Œæ–°ç”Ÿä»£æ‰€å æ¯”å€¼ä¸º 1ï¼š1ï¼Œæ–°ç”Ÿä»£å æ•´ä¸ªå †æ ˆçš„ 1/2ã€‚&#xA;-XX:NewRatio=1 JDK 1.8 ï¼Œæ–¹æ³•åŒºï¼ˆHotSpot çš„æ°¸ä¹…ä»£ï¼‰è¢«å½»åº•ç§»é™¤äº†ï¼Œå–è€Œä»£ä¹‹æ˜¯å…ƒç©ºé—´ Metaspaceï¼Œå…ƒç©ºé—´ä½¿ç”¨çš„æ˜¯æœ¬åœ°å†…å­˜ã€‚&#xA;Metaspace çš„åˆå§‹å®¹é‡å¹¶ä¸æ˜¯ -XX:MetaspaceSize è®¾ç½®ï¼Œæ— è®º -XX:MetaspaceSize é…ç½®ä»€ä¹ˆå€¼ï¼Œå¯¹äº 64 ä½ JVM æ¥è¯´ï¼ŒMetaspace çš„åˆå§‹å®¹é‡éƒ½æ˜¯ 21807104ï¼ˆçº¦ 20.8mï¼‰ã€‚å¯ä»¥å‚è€ƒ Oracle å®˜æ–¹æ–‡æ¡£ :&#xA;Specify a higher value for the option MetaspaceSize to avoid early garbage collections induced for class metadata. The amount of class metadata allocated for an application is application-dependent and general guidelines do not exist for the selection of MetaspaceSize.</description>
    </item>
    <item>
      <title>The Dataflow Model é˜…è¯»ç¬”è®°</title>
      <link>https://qiref.github.io/post/2023/05/16/the-dataflow-model-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Tue, 16 May 2023 15:26:10 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/05/16/the-dataflow-model-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</guid>
      <description>Dataflow è®¡ç®—æ¨¡å‹ Dataflow çš„æ ¸å¿ƒè®¡ç®—æ¨¡å‹éå¸¸ç®€å•ï¼Œå®ƒåªæœ‰ä¸¤ä¸ªæ¦‚å¿µï¼Œä¸€ä¸ªå«åš ParDoï¼Œå°±æ˜¯å¹¶è¡Œå¤„ç†çš„æ„æ€ï¼›å¦ä¸€ä¸ªå«åš GroupByKeyï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§ Key è¿›è¡Œåˆ†ç»„ã€‚&#xA;ParDo ParDo ç”¨æ¥è¿›è¡Œé€šç”¨çš„å¹¶è¡ŒåŒ–å¤„ç†ã€‚æ¯ä¸ªè¾“å…¥å…ƒç´ ï¼ˆè¿™ä¸ªå…ƒç´ æœ¬èº«æœ‰å¯èƒ½æ˜¯ä¸€ä¸ªæœ‰é™çš„é›†åˆï¼‰éƒ½ä¼šä½¿ç”¨ä¸€ä¸ª UDF è¿›è¡Œå¤„ç†ï¼ˆåœ¨Dataflowä¸­å«åšDoFnï¼‰ï¼Œè¾“å‡ºæ˜¯0æˆ–å¤šä¸ªè¾“å‡ºå…ƒç´ ã€‚è¿™ä¸ªä¾‹å­æ˜¯æŠŠé”®çš„å‰ç¼€è¿›è¡Œå±•å¼€ï¼Œç„¶åæŠŠå€¼å¤åˆ¶åˆ°å±•å¼€åçš„é”®æ„æˆæ–°çš„é”®å€¼å¯¹å¹¶è¾“å‡ºã€‚&#xA;GroupByKey GroupByKey ç”¨æ¥æŒ‰ Key æŠŠå…ƒç´ é‡æ–°åˆ†ç»„ã€‚&#xA;ParDo æ“ä½œå› ä¸ºæ˜¯å¯¹æ¯ä¸ªè¾“å…¥çš„å…ƒç´ è¿›è¡Œå¤„ç†ï¼Œå› æ­¤å¾ˆè‡ªç„¶åœ°å°±å¯ä»¥é€‚ç”¨äºæ— è¾¹ç•Œçš„æ•°æ®ã€‚è€Œ GroupByKey æ“ä½œï¼Œåœ¨æŠŠæ•°æ®å‘é€åˆ°ä¸‹æ¸¸è¿›è¡Œæ±‡æ€»å‰ï¼Œéœ€è¦æ”¶é›†åˆ°æŒ‡å®šçš„é”®å¯¹åº”çš„æ‰€æœ‰æ•°æ®ã€‚å¦‚æœè¾“å…¥æºæ˜¯æ— è¾¹ç•Œçš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸çŸ¥é“ä½•æ—¶æ‰èƒ½æ”¶é›†åˆ°æ‰€æœ‰çš„æ•°æ®ã€‚æ‰€ä»¥é€šå¸¸çš„è§£å†³æ–¹æ¡ˆæ˜¯å¯¹æ•°æ®ä½¿ç”¨çª—å£æ“ä½œã€‚&#xA;çª—å£ æ—¶é—´è¯­ä¹‰ çª—å£é€šå¸¸åŸºäºæ—¶é—´ï¼Œæ—¶é—´å¯¹äºçª—å£æ¥è¯´æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œåœ¨æµå¼è®¡ç®—ä¸­ï¼Œæœ‰ processing-time å’Œ event-time ä¸¤ç§æ—¶é—´è¯­ä¹‰ï¼Œå…·ä½“å‚è€ƒï¼š æ—¶é—´è¯­ä¹‰&#xA;çª—å£åˆ†ç±» å›ºå®šçª—å£ï¼ˆFixed Windowï¼‰å›ºå®šåŒºé—´ï¼ˆäº’ä¸é‡å ï¼‰çš„çª—å£ï¼Œå¯ä»¥åŸºäºæ—¶é—´ï¼Œä¹Ÿå¯ä»¥åŸºäºæ•°é‡ï¼›å°†äº‹ä»¶åˆ†é…åˆ°ä¸åŒåŒºé—´çš„çª—å£ä¸­ï¼Œåœ¨é€šè¿‡çª—å£è¾¹ç•Œåï¼Œçª—å£å†…çš„æ‰€æœ‰äº‹ä»¶ä¼šå‘é€ç»™è®¡ç®—å‡½æ•°è¿›è¡Œè®¡ç®—ï¼›&#xA;æ»‘åŠ¨çª—å£ï¼ˆSliding Windowï¼‰å›ºå®šåŒºé—´ä½†å¯ä»¥é‡å çš„çª—å£ï¼Œéœ€è¦æŒ‡å®šçª—å£åŒºé—´ä»¥åŠæ»‘åŠ¨æ­¥é•¿ï¼ŒåŒºé—´é‡å æ„å‘³ç€åŒä¸€ä¸ªäº‹ä»¶ä¼šåˆ†é…åˆ°ä¸åŒçª—å£å‚ä¸è®¡ç®—ã€‚ çª—å£åŒºé—´å†³å®šä½•æ—¶è§¦å‘è®¡ç®—ï¼Œæ»‘åŠ¨æ­¥é•¿å†³å®šä½•æ—¶åˆ›å»ºä¸€ä¸ªæ–°çš„çª—å£ï¼›&#xA;ä¼šè¯çª—å£ï¼ˆSession Windowï¼‰ä¼šè¯çª—å£é€šå¸¸åŸºäºç”¨æˆ·çš„ä¼šè¯ï¼Œé€šè¿‡å®šä¹‰ä¼šè¯çš„è¶…æ—¶æ—¶é—´ï¼Œå°†äº‹ä»¶åˆ†å‰²åˆ°ä¸åŒçš„ä¼šè¯ä¸­ï¼› ä¾‹å¦‚ï¼Œæœ‰ä¸ªå®¢æœèŠå¤©ç³»ç»Ÿï¼Œå¦‚æœç”¨æˆ·è¶…è¿‡ 30 åˆ†é’Ÿæ²¡æœ‰äº’åŠ¨ï¼Œåˆ™è®¤ä¸ºä¸€æ¬¡ä¼šè¯ç»“æŸï¼Œå½“å®¢æˆ·ä¸‹æ¬¡è¿›å…¥ï¼Œå°±æ˜¯ä¸€ä¸ªæ–°çš„ä¼šè¯äº†ã€‚&#xA;çª—å£åˆ†é…ä¸åˆå¹¶ Dataflow æ¨¡å‹é‡Œï¼Œéœ€è¦çš„ä¸åªæ˜¯ GroupByKeyï¼Œå®é™…åœ¨ç»Ÿè®¡æ•°æ®çš„æ—¶å€™ï¼Œå¾€å¾€éœ€è¦çš„æ˜¯ GroupByKeyAndWindowã€‚ç»Ÿè®¡ä¸€ä¸ªä¸è€ƒè™‘ä»»ä½•æ—¶é—´çª—å£çš„æ•°æ®ï¼Œå¾€å¾€æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼› Dataflow æ¨¡å‹æå‡ºï¼š&#xA;ä»æ¨¡å‹ç®€åŒ–çš„è§’åº¦ä¸Šï¼ŒæŠŠæ‰€æœ‰çš„çª—å£ç­–ç•¥éƒ½å½“åšéå¯¹é½çª—å£ï¼Œè€Œåº•å±‚å®ç°æ¥è´Ÿè´£æŠŠå¯¹é½çª—å£ä½œä¸ºä¸€ä¸ªç‰¹ä¾‹è¿›è¡Œä¼˜åŒ–ã€‚ çª—å£æ“ä½œå¯ä»¥è¢«åˆ†éš”ä¸ºä¸¤ä¸ªäº’ç›¸ç›¸å…³çš„æ“ä½œï¼š set&amp;lt;Window&amp;gt; AssignWindows(T datum) å³çª—å£åˆ†é…æ“ä½œã€‚è¿™ä¸ªæ“ä½œæŠŠå…ƒç´ åˆ†é…åˆ° 0 æˆ–å¤šä¸ªçª—å£ä¸­å»ã€‚ set&amp;lt;window&amp;gt; MergeWindows(Set&amp;lt;Window&amp;gt; windows) å³çª—å£åˆå¹¶æ“ä½œï¼Œè¿™ä¸ªæ“ä½œåœ¨æ±‡æ€»æ—¶åˆå¹¶çª—å£ã€‚ è€Œåœ¨å®é™…çš„é€»è¾‘å®ç°å±‚é¢ï¼ŒDataflow æœ€é‡è¦çš„ä¸¤ä¸ªå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ AssignWindows å‡½æ•°å’Œ MergeWindows å‡½æ•°ã€‚ çª—å£åˆ†é… æ¯ä¸€ä¸ªåŸå§‹çš„äº‹ä»¶ï¼Œåœ¨ä¸šåŠ¡å¤„ç†å‡½æ•°ä¹‹å‰ï¼Œå…¶å®éƒ½æ˜¯ï¼ˆkey, value, event_timeï¼‰è¿™æ ·ä¸€ä¸ªä¸‰å…ƒç»„ã€‚è€Œ AssignWindows è¦åšçš„ï¼Œå°±æ˜¯æŠŠè¿™ä¸ªä¸‰å…ƒç»„ï¼Œæ ¹æ®æˆ‘ä»¬çš„å¤„ç†é€»è¾‘ï¼Œå˜æˆï¼ˆkey, value, event_time, windowï¼‰è¿™æ ·çš„å››å…ƒç»„ã€‚</description>
    </item>
    <item>
      <title>å †å’Œå †æ’åº</title>
      <link>https://qiref.github.io/post/2023/05/12/%E5%A0%86%E5%92%8C%E5%A0%86%E6%8E%92%E5%BA%8F/</link>
      <pubDate>Fri, 12 May 2023 17:01:04 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/05/12/%E5%A0%86%E5%92%8C%E5%A0%86%E6%8E%92%E5%BA%8F/</guid>
      <description>å † å †çš„æœ¬è´¨æ˜¯æ ‘ï¼Œç”¨æ•°ç»„è¡¨ç¤ºçš„å®Œå…¨äºŒå‰æ ‘ï¼›&#xA;å®šä¹‰ ä¸€æ£µæ·±åº¦ä¸ºkä¸”æœ‰ 2^k - 1 ä¸ªç»“ç‚¹çš„äºŒå‰æ ‘ç§°ä¸ºæ»¡äºŒå‰æ ‘ã€‚&#xA;æ ¹æ®äºŒå‰æ ‘çš„æ€§è´¨2, æ»¡äºŒå‰æ ‘æ¯ä¸€å±‚çš„ç»“ç‚¹ä¸ªæ•°éƒ½è¾¾åˆ°äº†æœ€å¤§å€¼, å³æ»¡äºŒå‰æ ‘çš„ç¬¬iå±‚ä¸Šæœ‰ 2^(i-1) ä¸ªç»“ç‚¹ (iâ‰¥1) ã€‚&#xA;å¦‚æœå¯¹æ»¡äºŒå‰æ ‘çš„ç»“ç‚¹è¿›è¡Œç¼–å·, çº¦å®šç¼–å·ä»æ ¹ç»“ç‚¹èµ·, è‡ªä¸Šè€Œä¸‹, è‡ªå·¦è€Œå³ã€‚åˆ™æ·±åº¦ä¸ºkçš„, æœ‰nä¸ªç»“ç‚¹çš„äºŒå‰æ ‘, å½“ä¸”ä»…å½“å…¶æ¯ä¸€ä¸ªç»“ç‚¹éƒ½ä¸æ·±åº¦ä¸ºkçš„æ»¡äºŒå‰æ ‘ä¸­ç¼–å·ä»1è‡³nçš„ç»“ç‚¹ä¸€ä¸€å¯¹åº”æ—¶, ç§°ä¹‹ä¸ºå®Œå…¨äºŒå‰æ ‘ã€‚&#xA;ä»æ»¡äºŒå‰æ ‘å’Œå®Œå…¨äºŒå‰æ ‘çš„å®šä¹‰å¯ä»¥çœ‹å‡º, æ»¡äºŒå‰æ ‘æ˜¯å®Œå…¨äºŒå‰æ ‘çš„ç‰¹æ®Šå½¢æ€, å³å¦‚æœä¸€æ£µäºŒå‰æ ‘æ˜¯æ»¡äºŒå‰æ ‘, åˆ™å®ƒå¿…å®šæ˜¯å®Œå…¨äºŒå‰æ ‘ã€‚&#xA;å‚è€ƒï¼š https://baike.baidu.com/item/%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91/7773232&#xA;æ€§è´¨ arrï¼š[2 3 4 52 2 2 1] idxï¼š 0 1 2 3 4 5 6 i ä¸‹æ ‡å’Œå…ƒç´ ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼š&#xA;å·¦å­èŠ‚ç‚¹ï¼š2*i+1 å³å­èŠ‚ç‚¹ï¼š2*i+2 çˆ¶èŠ‚ç‚¹ï¼š(i-1)/2 å¤§æ ¹å † å®Œå…¨äºŒå‰æ ‘é‡Œï¼Œæ¯ä¸€ä¸ªå­æ ‘çš„æœ€å¤§å€¼æ˜¯æ ¹èŠ‚ç‚¹ï¼›&#xA;å°æ ¹å † å®Œå…¨äºŒå‰æ ‘é‡Œï¼Œæ¯ä¸€ä¸ªå­æ ‘çš„æœ€å°å€¼æ˜¯æ ¹èŠ‚ç‚¹ï¼›&#xA;å †æ’åº å®šä¹‰å † // maxHeap å®šä¹‰ä¸€ä¸ªå¤§æ ¹å † type maxHeap struct { Data []int Count int } func NewMaxHeap(size int) *maxHeap { return &amp;amp;maxHeap{ Data: make([]int, size), Count: 0, } } æ’å…¥æ•°æ® æ’å…¥æ•°æ®æ—¶ï¼Œæ˜¯å¾€æ•°ç»„æœ€åå¢åŠ å…ƒç´ ï¼Œç”±äºéœ€è¦ä¿è¯å¤§æ ¹å †çš„æ€§è´¨ï¼Œå¦‚æœæ–°åŠ å…¥çš„å…ƒç´ æ¯”çˆ¶èŠ‚ç‚¹å¤§ï¼Œåˆ™è·Ÿçˆ¶èŠ‚ç‚¹äº¤æ¢ä½ç½®ï¼Œä»¥æ­¤ç±»æ¨ï¼Œä¸€ç›´åˆ°æ ¹èŠ‚ç‚¹ï¼Œè¿™ä¸ªäº¤æ¢æµç¨‹å®Œæˆåï¼Œæ–°å…ƒç´ æ’å…¥å°±å®Œæˆäº†ã€‚</description>
    </item>
    <item>
      <title>Chandy-Lamport ç®—æ³•ç¬”è®°</title>
      <link>https://qiref.github.io/post/2023/05/08/chandy-lamport-%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Mon, 08 May 2023 22:38:42 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/05/08/chandy-lamport-%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/</guid>
      <description>å‰è¨€ Global Snapshotï¼ˆGlobal Stateï¼‰ï¼šå…¨å±€å¿«ç…§ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿåœ¨ Failure Recovery çš„æ—¶å€™éå¸¸æœ‰ç”¨ï¼Œä¹Ÿæ˜¯å¹¿æ³›åº”ç”¨åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæ›´å¤šæ˜¯åˆ†å¸ƒå¼è®¡ç®—ç³»ç»Ÿä¸­çš„ä¸€ç§å®¹é”™å¤„ç†ç†è®ºåŸºç¡€ã€‚&#xA;åœ¨ Chandy-Lamport ç®—æ³•ä¸­ï¼Œä¸ºäº†å®šä¹‰åˆ†å¸ƒå¼ç³»ç»Ÿçš„ Global Snapshotï¼Œå…ˆå°†åˆ†å¸ƒå¼ç³»ç»Ÿç®€åŒ–æˆæœ‰é™ä¸ªè¿›ç¨‹å’Œè¿›ç¨‹ä¹‹é—´çš„ channel ç»„æˆï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæœ‰å‘å›¾ ï¼ˆGAGï¼‰ï¼šèŠ‚ç‚¹æ˜¯è¿›ç¨‹ï¼Œè¾¹æ˜¯ channelã€‚å› ä¸ºæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™äº›è¿›ç¨‹æ˜¯è¿è¡Œåœ¨ä¸åŒçš„ç‰©ç†æœºå™¨ä¸Šçš„ã€‚é‚£ä¹ˆä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿçš„ Global Snapshot å°±æ˜¯æœ‰è¿›ç¨‹çš„çŠ¶æ€å’Œ channel ä¸­çš„ message ç»„æˆï¼Œè¿™ä¸ªä¹Ÿæ˜¯åˆ†å¸ƒå¼å¿«ç…§ç®—æ³•éœ€è¦è®°å½•çš„ã€‚å› æ­¤ï¼ŒChandy-Lamport ç®—æ³•è§£å†³äº†åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨ Failure Recovery æ—¶ï¼Œå¯ä»¥ä» Global Snapshot ä¸­æ¢å¤çš„é—®é¢˜ï¼›&#xA;ç®—æ³•è¿‡ç¨‹ å‰ææ¡ä»¶åŠå®šä¹‰ processï¼ˆPnï¼‰ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„è¿›ç¨‹ï¼Œç”¨ P1ï¼ŒP2ï¼ŒP3 è¡¨ç¤ºï¼› channelï¼šåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼ŒPn ä¸ Pm é€šä¿¡çš„ç®¡é“ï¼ŒC12 è¡¨ç¤ºä» P1 åˆ° P2 çš„ channelï¼Œåä¹‹ï¼ŒC32 è¡¨ç¤ºä» P3 åˆ° P2çš„ channelï¼› messageï¼šåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼ŒPn ä¸ Pm ä¹‹é—´å‘é€çš„ä¸šåŠ¡æ¶ˆæ¯ï¼›M23 è¡¨ç¤ºä» P2 åˆ° P3 çš„ messageï¼› markerï¼šåœ¨ Chandy-Lamport ç®—æ³•ä¸­ï¼ŒPn ä¸ Pm ä¹‹é—´å‘é€çš„æ ‡è®°æ¶ˆæ¯ï¼Œä¸åŒäºä¸šåŠ¡çš„ messageï¼Œmarker æ˜¯ç”± Chandy-Lamport ç®—æ³•å®šä¹‰ï¼Œç”¨äºå¸®åŠ©å®ç°å¿«ç…§ç®—æ³•ï¼› snapshot/stateï¼šéƒ½è¡¨ç¤ºå¿«ç…§ï¼ŒåŒæ—¶åŒ…æ‹¬è¿›ç¨‹æœ¬èº«çš„çŠ¶æ€å’Œ messageï¼›ä¸‹æ–‡ä¸­ç»Ÿä¸€å…¨å±€å¿«ç…§å« snapshotï¼Œprocess æœ¬åœ°å¿«ç…§å« stateï¼› Chandy-Lamport ç®—æ³•æœ‰ä¸€äº›å‰ææ¡ä»¶ï¼š</description>
    </item>
    <item>
      <title>Goè¯­è¨€ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹</title>
      <link>https://qiref.github.io/post/2023/04/28/go%E8%AF%AD%E8%A8%80%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/</link>
      <pubDate>Fri, 28 Apr 2023 15:57:51 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/04/28/go%E8%AF%AD%E8%A8%80%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B/</guid>
      <description>type Request struct { Name string } type XxHandler struct { RequestQueue chan *Request } func (o *XxHandler) String() string { if b, err := json.Marshal(o); err != nil { return &amp;quot;&amp;quot; } else { return string(b) } } // Start å¯åŠ¨é˜Ÿåˆ—ç›‘å¬ func (o *XxHandler) Start() { go func() { for request := range o.RequestQueue { go o.Process(request) } }() } // AppendTask å‘é˜Ÿåˆ—ä¸­å¢åŠ task func (o *XxHandler) AppendTask(request *Request) { if request == nil { return } o.</description>
    </item>
    <item>
      <title>Goè¯­è¨€å®ç° bitmap</title>
      <link>https://qiref.github.io/post/2023/04/28/go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0-bitmap/</link>
      <pubDate>Fri, 28 Apr 2023 11:24:38 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/04/28/go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0-bitmap/</guid>
      <description>ç®—æ³•è¯´æ˜ Bitmapç®—æ³•æ˜¯ä¸€ç§åŸºäºä½è¿ç®—çš„æ•°æ®ç»“æ„ï¼Œç”¨äºè§£å†³å¤§è§„æ¨¡æ•°æ®çš„å¿«é€ŸæŸ¥æ‰¾å’Œç»Ÿè®¡é—®é¢˜ã€‚å…¶åŸºæœ¬åŸç†æ˜¯å°†ä¸€ä¸ªå¤§æ•°æ®é›†åˆæ˜ å°„åˆ°ä¸€ä¸ªäºŒè¿›åˆ¶å‘é‡ä¸­ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ å¯¹åº”äºæ•°æ®é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œå‘é‡ä¸­çš„æ¯ä¸€ä½è¡¨ç¤ºè¯¥å…ƒç´ æ˜¯å¦å­˜åœ¨äºé›†åˆä¸­ã€‚&#xA;å…·ä½“æ¥è¯´ï¼ŒBitmapç®—æ³•é€šè¿‡ä½¿ç”¨ä¸€ä¸ªä½å›¾ï¼ˆbitmapï¼‰æ¥è¡¨ç¤ºä¸€ä¸ªæ•°æ®é›†åˆï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ å¯¹åº”ä¸€ä¸ªä½ã€‚å¦‚æœæŸä¸ªå…ƒç´ åœ¨æ•°æ®é›†åˆä¸­å‡ºç°ï¼Œåˆ™å°†å…¶å¯¹åº”çš„ä½è®¾ç½®ä¸º1ï¼Œå¦åˆ™å°†å…¶å¯¹åº”çš„ä½è®¾ç½®ä¸º0ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥å¿«é€Ÿåœ°è¿›è¡Œé›†åˆæ“ä½œï¼Œå¦‚å¹¶é›†ã€äº¤é›†å’Œå·®é›†ç­‰ã€‚&#xA;Bitmapç®—æ³•çš„ä¸»è¦ä¼˜ç‚¹åœ¨äºå…¶ç©ºé—´æ•ˆç‡é«˜ï¼Œå¯ä»¥ç”¨è¾ƒå°çš„ç©ºé—´å­˜å‚¨å¤§è§„æ¨¡æ•°æ®é›†åˆã€‚å¦å¤–ï¼ŒBitmapç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¹Ÿéå¸¸ä½ï¼Œå¯ä»¥å¿«é€Ÿåœ°è¿›è¡Œé›†åˆæ“ä½œã€‚&#xA;å¦‚ä½•ç”¨æ•°ç»„è¡¨ç¤ºä¸€ä¸ª bitmap ä»¥ 1byte ä¸ºä¾‹ï¼š8ä½èƒ½è¡¨ç¤º8ä¸ªå…ƒç´ ï¼Œ 0-7 å·å¯¹åº”äº† b[0] ä¸‹æ ‡ï¼Œ 8-15 å·å¯¹åº”äº† b[1] ä¸‹æ ‡ï¼Œä»¥æ­¤ç±»æ¨ã€‚&#xA;å› æ­¤ï¼Œæ•°ç»„ä¸‹æ ‡ n è·Ÿbitmapå…ƒç´ åºå· bitmapIdx çš„å…³ç³»ä¸ºï¼šn = bitmapIdx &amp;gt;&amp;gt; 3&#xA;å€¼å¦‚ä½•æ˜ å°„åˆ° bitmap æ•°ç»„ å½“æ‰¾åˆ°äº† å…ƒç´ åºå· n åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ä¹‹åï¼Œå¦‚ä½•ç»™ b[n] èµ‹å€¼å‘¢ï¼Ÿ&#xA;1 &amp;lt;&amp;lt; (bitmapIdx &amp;amp; 7) ç­‰åŒäº 1 &amp;lt;&amp;lt; (bitmapIdx % 8)&#xA;(bitmapIdx % 8) æ‰¾åˆ°åœ¨äº†åœ¨æ•°ç»„ b[n] ä¸­çš„ç¬¬ m ä½ï¼Œç„¶å 1 &amp;lt;&amp;lt; m ä¹‹åï¼Œå°±ç›¸å½“äºç»™æ•°ç»„èµ‹å€¼ï¼ŒæŠŠç¬¬ m ä½ ç½®ä¸º1ã€‚&#xA;éªŒè¯ åŒæ ·ä»¥ 1byte ä¸ºä¾‹ï¼šå€Ÿç”¨ä¸Šè¿°ç»“è®ºï¼Œç¬¬ 24 å·å…ƒç´ ï¼Œå¯¹åº”çš„æ•°ç»„ä¸‹æ ‡ n ä¸ºï¼šn = 24 &amp;gt;&amp;gt; 3 ç»“æœä¸º3, b[3]ï¼›</description>
    </item>
    <item>
      <title>Goè¯­è¨€å®ç° LRU</title>
      <link>https://qiref.github.io/post/2023/04/27/go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0-lru/</link>
      <pubDate>Thu, 27 Apr 2023 21:43:12 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/04/27/go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0-lru/</guid>
      <description>LRUï¼ˆLeast Recently Usedï¼‰ç®—æ³•ï¼Œå³æœ€è¿‘æœ€å°‘ä½¿ç”¨ç®—æ³•;å…¶åŸºæœ¬æ€æƒ³æ˜¯ï¼Œå¦‚æœä¸€ä¸ªæ•°æ®æœ€è¿‘è¢«è®¿é—®è¿‡ï¼Œé‚£ä¹ˆå®ƒåœ¨æœªæ¥è¢«è®¿é—®çš„æ¦‚ç‡ä¹Ÿä¼šå¾ˆé«˜ï¼›åä¹‹ï¼Œå¦‚æœä¸€ä¸ªæ•°æ®å¾ˆä¹…éƒ½æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œé‚£ä¹ˆå®ƒåœ¨æœªæ¥è¢«è®¿é—®çš„æ¦‚ç‡å°±ç›¸å¯¹è¾ƒä½ã€‚å› æ­¤ï¼ŒLRUç®—æ³•é€‰æ‹©æ·˜æ±°æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„æ•°æ®ï¼Œå³é€‰æ‹©æœ€é•¿æ—¶é—´æ²¡æœ‰è¢«è®¿é—®è¿‡çš„æ•°æ®è¿›è¡Œæ·˜æ±°ã€‚&#xA;å…·ä½“æ¥è¯´ï¼ŒLRUç®—æ³•é€šå¸¸ä½¿ç”¨ä¸€ä¸ªåŒå‘é“¾è¡¨å’Œä¸€ä¸ªå“ˆå¸Œè¡¨æ¥å®ç°ã€‚åŒå‘é“¾è¡¨ä¸­çš„èŠ‚ç‚¹æŒ‰ç…§æœ€è¿‘è®¿é—®æ—¶é—´çš„é¡ºåºæ’åˆ—ï¼Œæœ€è¿‘è®¿é—®çš„èŠ‚ç‚¹æ’åœ¨é“¾è¡¨å¤´éƒ¨ï¼Œæœ€ä¹…æœªè®¿é—®çš„èŠ‚ç‚¹æ’åœ¨é“¾è¡¨å°¾éƒ¨ã€‚å“ˆå¸Œè¡¨ä¸­å­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„åœ°å€ï¼Œä»¥ä¾¿å¿«é€ŸæŸ¥æ‰¾å’Œåˆ é™¤ã€‚&#xA;å½“éœ€è¦è®¿é—®ä¸€ä¸ªæ•°æ®æ—¶ï¼ŒLRUç®—æ³•é¦–å…ˆåœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾è¯¥æ•°æ®ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™å°†å¯¹åº”çš„èŠ‚ç‚¹ç§»åŠ¨åˆ°é“¾è¡¨å¤´éƒ¨ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™å°†è¯¥æ•°æ®æ·»åŠ åˆ°é“¾è¡¨å¤´éƒ¨ï¼Œå¹¶åœ¨å“ˆå¸Œè¡¨ä¸­åˆ›å»ºå¯¹åº”çš„èŠ‚ç‚¹ã€‚&#xA;å½“éœ€è¦æ·˜æ±°æ•°æ®æ—¶ï¼ŒLRUç®—æ³•é€‰æ‹©é“¾è¡¨å°¾éƒ¨çš„èŠ‚ç‚¹è¿›è¡Œæ·˜æ±°ï¼Œå¹¶åœ¨å“ˆå¸Œè¡¨ä¸­åˆ é™¤å¯¹åº”çš„èŠ‚ç‚¹ã€‚&#xA;golang å®ç° LRU ç®—æ³•ï¼š&#xA;package lru import ( &amp;quot;container/list&amp;quot; &amp;quot;errors&amp;quot; &amp;quot;sync&amp;quot; ) // LRU implements a non-thread safe fixed size LRU cache type LRU struct { size int evictList *list.List items map[interface{}]*list.Element } // entry is used to hold a value in the evictList type entry struct { key interface{} value interface{} } // NewLRU constructs an LRU of the given size func NewLRU(size int) (*LRU, error) { if size &amp;lt;= 0 { return nil, errors.</description>
    </item>
    <item>
      <title>Flinkå†…å­˜æ¨¡å‹</title>
      <link>https://qiref.github.io/post/2023/03/28/flink%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/</link>
      <pubDate>Tue, 28 Mar 2023 20:31:01 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/03/28/flink%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/</guid>
      <description>Java å †å¤–å†…å­˜ import sun.nio.ch.DirectBuffer; import java.nio.ByteBuffer; import java.util.concurrent.TimeUnit; public class OutHeapMem { public static void main(String[] args) throws Exception { // åˆ†é… 1G ç›´æ¥å†…å­˜ ByteBuffer byteBuffer = ByteBuffer.allocateDirect(1024 * 1024 * 1024); TimeUnit.SECONDS.sleep(30); System.out.println(&amp;quot;clean start&amp;quot;); // æ¸…é™¤ç›´æ¥å†…å­˜ ((DirectBuffer) byteBuffer).cleaner().clean(); System.out.println(&amp;quot;clean finished&amp;quot;); TimeUnit.SECONDS.sleep(30); } } # åˆ†é…å†…å­˜ Memory used total max usage heap 21M 165M 3641M 0.59% ps_eden_space 3M 64M 1344M 0.29% ps_survivor_space 0K 10752K 10752K 0.00% ps_old_gen 17M 91M 2731M 0.</description>
    </item>
    <item>
      <title>Flinkç±»åŠ è½½æœºåˆ¶</title>
      <link>https://qiref.github.io/post/2023/03/24/flink%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/</link>
      <pubDate>Fri, 24 Mar 2023 16:13:22 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/03/24/flink%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/</guid>
      <description>flink ç±»åŠ è½½é…ç½®è¯´æ˜ Flink ä½œä¸ºåŸºäº JVM çš„æ¡†æ¶ï¼Œåœ¨ flink-conf.yaml ä¸­æä¾›äº†æ§åˆ¶ç±»åŠ è½½ç­–ç•¥çš„å‚æ•° classloader.resolve-orderï¼Œå¯é€‰é¡¹æœ‰ child-firstï¼ˆé»˜è®¤ï¼‰å’Œ parent-firstã€‚&#xA;Key Default Type Description classloader.resolve-order &amp;ldquo;child-first&amp;rdquo; String Defines the class resolution strategy when loading classes from user code, meaning whether to first check the user code jar (&amp;ldquo;child-first&amp;rdquo;) or the application classpath (&amp;ldquo;parent-first&amp;rdquo;). The default settings indicate to load classes first from the user code jar, which means that user code jars can include and load different dependencies than Flink uses (transitively).</description>
    </item>
    <item>
      <title>JavaåŒäº²å§”æ´¾</title>
      <link>https://qiref.github.io/post/2023/03/24/java%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE/</link>
      <pubDate>Fri, 24 Mar 2023 15:46:27 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/03/24/java%E5%8F%8C%E4%BA%B2%E5%A7%94%E6%B4%BE/</guid>
      <description>ç±»åŠ è½½å™¨ Javaè¯­è¨€ç³»ç»Ÿä¸­æ”¯æŒä»¥ä¸‹4ç§ç±»åŠ è½½å™¨ï¼š&#xA;Bootstrap ClassLoader å¯åŠ¨ç±»åŠ è½½å™¨ï¼Œä¸»è¦è´Ÿè´£åŠ è½½Javaæ ¸å¿ƒç±»åº“ï¼Œ%JRE_HOME%\libä¸‹çš„rt.jarã€resources.jarã€charsets.jarå’Œclassç­‰ï¼› Extension ClassLoader æ ‡å‡†æ‰©å±•ç±»åŠ è½½å™¨ï¼Œä¸»è¦è´Ÿè´£åŠ è½½ç›®å½•%JRE_HOME%\lib\extç›®å½•ä¸‹çš„jaråŒ…å’Œclassæ–‡ä»¶ï¼› Application ClassLoader åº”ç”¨ç±»åŠ è½½å™¨ï¼Œä¸»è¦è´Ÿè´£åŠ è½½å½“å‰åº”ç”¨çš„classpathä¸‹çš„æ‰€æœ‰ç±»ï¼› User ClassLoader ç”¨æˆ·è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼Œç”¨æˆ·è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨,å¯åŠ è½½æŒ‡å®šè·¯å¾„çš„classæ–‡ä»¶ï¼› åŒäº²å§”æ´¾ ç±»åŠ è½½å™¨é‡‡ç”¨äº†åŒäº²å§”æ´¾æ¨¡å¼ï¼Œå…¶å·¥ä½œåŸç†æ˜¯ï¼Œå¦‚æœä¸€ä¸ªç±»åŠ è½½å™¨æ”¶åˆ°äº†ç±»åŠ è½½è¯·æ±‚ï¼Œå®ƒå¹¶ä¸ä¼šè‡ªå·±å…ˆå»åŠ è½½ï¼Œè€Œæ˜¯æŠŠè¿™ä¸ªè¯·æ±‚å§”æ‰˜ç»™çˆ¶ç±»çš„åŠ è½½å™¨å»æ‰§è¡Œï¼Œå¦‚æœçˆ¶ç±»åŠ è½½å™¨è¿˜å­˜åœ¨å…¶çˆ¶ç±»åŠ è½½å™¨ï¼Œåˆ™è¿›ä¸€æ­¥å‘ä¸Šå§”æ‰˜ï¼Œä¾æ¬¡é€’å½’ï¼Œè¯·æ±‚æœ€ç»ˆå°†åˆ°è¾¾é¡¶å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨ï¼Œå¦‚æœçˆ¶ç±»åŠ è½½å™¨å¯ä»¥å®Œæˆç±»åŠ è½½ä»»åŠ¡ï¼Œå°±æˆåŠŸè¿”å›ï¼Œå€˜è‹¥çˆ¶ç±»åŠ è½½å™¨æ— æ³•å®Œæˆæ­¤åŠ è½½ä»»åŠ¡ï¼Œå­åŠ è½½å™¨æ‰ä¼šå°è¯•è‡ªå·±å»åŠ è½½ï¼Œè¿™å°±æ˜¯åŒäº²å§”æ´¾æ¨¡å¼ã€‚&#xA;åŒäº²å§”æ´¾æ¨¡å¼çš„å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ&#xA;Java ç±»éšç€å®ƒçš„ç±»åŠ è½½å™¨ä¸€èµ·å…·å¤‡äº†ä¸€ç§å¸¦æœ‰ä¼˜å…ˆçº§çš„å±‚æ¬¡å…³ç³»ï¼Œé€šè¿‡è¿™ç§å±‚æ¬¡å…³ç³»å¯ä»¥é¿å…ç±»çš„é‡å¤åŠ è½½ï¼Œå½“çˆ¶ç±»åŠ è½½å™¨å·²ç»åŠ è½½è¿‡ä¸€æ¬¡æ—¶ï¼Œæ²¡æœ‰å¿…è¦å­ç±»å†å»åŠ è½½ä¸€æ¬¡ã€‚ è€ƒè™‘åˆ°å®‰å…¨å› ç´ ï¼ŒJava æ ¸å¿ƒ Api ç±»ä¸ä¼šè¢«éšæ„æ›¿æ¢ï¼Œæ ¸å¿ƒç±»æ°¸è¿œæ˜¯è¢«ä¸Šå±‚çš„ç±»åŠ è½½å™¨åŠ è½½ã€‚å¦‚æœæˆ‘ä»¬è‡ªå·±å®šä¹‰äº†ä¸€ä¸ª java.lang.String ç±»ï¼Œå®ƒä¼šä¼˜å…ˆå§”æ´¾ç»™ BootStrapClassLoader å»åŠ è½½ï¼ŒåŠ è½½å®Œäº†å°±ç›´æ¥è¿”å›äº†ã€‚ å¦‚æœæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª java.lang.ExtStringï¼Œèƒ½è¢«åŠ è½½å—ï¼Ÿç­”æ¡ˆä¹Ÿæ˜¯ä¸èƒ½çš„ï¼Œå› ä¸º java.lang åŒ…æ˜¯æœ‰æƒé™æ§åˆ¶çš„ï¼Œè‡ªå®šä¹‰äº†è¿™ä¸ªåŒ…ï¼Œä¼šæŠ¥ä¸€ä¸ªé”™å¦‚ä¸‹ï¼š&#xA;java.lang.SecurityException: Prohibited package name: java.lang æºç åˆ†æ protected Class&amp;lt;?&amp;gt; loadClass(String name, boolean resolve) throws ClassNotFoundException { synchronized (getClassLoadingLock(name)) { // é¦–å…ˆï¼Œæ£€æŸ¥è¿™ä¸ªç±»æ˜¯å¦å·²ç»è¢«åŠ è½½äº†ï¼Œæœ€ç»ˆå®ç°æ˜¯ä¸€ä¸ª native æœ¬åœ°å®ç° Class&amp;lt;?&amp;gt; c = findLoadedClass(name); // å¦‚æœè¿˜æ²¡æœ‰è¢«åŠ è½½ï¼Œåˆ™å¼€å§‹åŠ è½½ if (c == null) { long t0 = System.nanoTime(); try { // é¦–å…ˆå¦‚æœçˆ¶åŠ è½½å™¨ä¸ä¸ºç©ºï¼Œåˆ™ä½¿ç”¨çˆ¶ç±»åŠ è½½å™¨åŠ è½½ã€‚Launcher ç±»é‡Œæåˆ°çš„ parent å°±åœ¨è¿™é‡Œä½¿ç”¨çš„ã€‚ if (parent !</description>
    </item>
    <item>
      <title>Goè¯­è¨€å•ä¾‹æ¨¡å¼</title>
      <link>https://qiref.github.io/post/2023/03/24/go%E8%AF%AD%E8%A8%80%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</link>
      <pubDate>Fri, 24 Mar 2023 10:47:42 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/03/24/go%E8%AF%AD%E8%A8%80%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</guid>
      <description>é”™è¯¯ç¤ºä¾‹ type singleton struct {} var instance *singleton func GetInstance() *singleton { if instance == nil { instance = &amp;amp;singleton{} // ä¸æ˜¯å¹¶å‘å®‰å…¨çš„ } return instance } ä¸ä¼˜é›…ç¤ºä¾‹ func GetInstance() *singleton { mu.Lock() // å¦‚æœå®ä¾‹å­˜åœ¨æ²¡æœ‰å¿…è¦åŠ é” defer mu.Unlock() if instance == nil { instance = &amp;amp;singleton{} } return instance } åŠ é”å¯ä»¥ä¿è¯æ¯æ¬¡æ‹¿åˆ°ç›¸åŒå®ä¾‹ï¼Œä½†æ˜¯å¦‚æœå·²ç»å®ä¾‹åŒ–ï¼Œå†è°ƒç”¨å‡½æ•°ï¼Œä¾ç„¶æœ‰é”å­˜åœ¨ï¼Œæµªè´¹æ€§èƒ½ï¼Œä¸å¤Ÿä¼˜é›…ï¼›&#xA;ä¼˜é›…ç¤ºä¾‹ import ( &amp;quot;sync&amp;quot; ) type singleton struct {} var instance *singleton var once sync.Once func GetInstance() *singleton { once.Do(func() { instance = &amp;amp;singleton{} }) return instance } è¯¥å®ç°åˆ©ç”¨sync.</description>
    </item>
    <item>
      <title>Flinkåå‹</title>
      <link>https://qiref.github.io/post/2023/03/23/flink%E5%8F%8D%E5%8E%8B/</link>
      <pubDate>Thu, 23 Mar 2023 16:37:37 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/03/23/flink%E5%8F%8D%E5%8E%8B/</guid>
      <description>ä»€ä¹ˆæ˜¯åå‹ å¦‚æœä½ çœ‹åˆ°ä¸€ä¸ª Task å‘ç”ŸÂ åå‹è­¦å‘Šï¼ˆä¾‹å¦‚ï¼šÂ Highï¼‰ï¼Œæ„å‘³ç€å®ƒç”Ÿäº§æ•°æ®çš„é€Ÿç‡æ¯”ä¸‹æ¸¸ Task æ¶ˆè´¹æ•°æ®çš„é€Ÿç‡è¦å¿«ã€‚ åœ¨å·¥ä½œæµä¸­æ•°æ®è®°å½•æ˜¯ä»ä¸Šæ¸¸å‘ä¸‹æ¸¸æµåŠ¨çš„ï¼ˆä¾‹å¦‚ï¼šä» Source åˆ° Sinkï¼‰ã€‚åå‹æ²¿ç€ç›¸åçš„æ–¹å‘ä¼ æ’­ï¼Œæ²¿ç€æ•°æ®æµå‘ä¸Šæ¸¸ä¼ æ’­ã€‚&#xA;ä»¥ä¸€ä¸ªç®€å•çš„Â Source -&amp;gt; SinkÂ Job ä¸ºä¾‹ã€‚å¦‚æœçœ‹åˆ°Â SourceÂ å‘ç”Ÿäº†è­¦å‘Šï¼Œæ„å‘³ç€Â SinkÂ æ¶ˆè´¹æ•°æ®çš„é€Ÿç‡æ¯”Â SourceÂ ç”Ÿäº§æ•°æ®çš„é€Ÿç‡è¦æ…¢ã€‚Â SinkÂ æ­£åœ¨å‘ä¸Šæ¸¸çš„Â SourceÂ ç®—å­äº§ç”Ÿåå‹ã€‚&#xA;Taskï¼ˆSubTaskï¼‰çš„æ¯ä¸ªå¹¶è¡Œå®ä¾‹éƒ½å¯ä»¥ç”¨ä¸‰ä¸ªä¸€ç»„çš„æŒ‡æ ‡è¯„ä»·ï¼š&#xA;backPressureTimeMsPerSecondï¼Œsubtask è¢«åå‹çš„æ—¶é—´ idleTimeMsPerSecondï¼Œsubtask ç­‰å¾…æŸç±»å¤„ç†çš„æ—¶é—´ busyTimeMsPerSecondï¼Œsubtask å®é™…å·¥ä½œæ—¶é—´ åœ¨ä»»ä½•æ—¶é—´ç‚¹ï¼Œè¿™ä¸‰ä¸ªæŒ‡æ ‡ç›¸åŠ éƒ½çº¦ç­‰äº1000msã€‚ æŒ‡æ ‡å€¼è¯´æ˜ï¼š&#xA;OK: 0 &amp;lt;= æ¯”ä¾‹ &amp;lt;= 0.10 LOW: 0.10 &amp;lt; æ¯”ä¾‹ &amp;lt;= 0.5 HIGH: 0.5 &amp;lt; æ¯”ä¾‹ &amp;lt;= 1 åå‹é—®é¢˜å®šä½ å¯ä»¥çœ‹å„ä¸ªoperatorçš„metricsçš„æŒ‡æ ‡ï¼Œæ¯”å¦‚ï¼šbuffers.outPoolUsageã€buffers.inPoolUsageã€buffers.inputFloatingBuffersUsageã€buffers.inputExclusiveBuffersUsageï¼›&#xA;æ¥æ”¶ç«¯å…±ç”¨ä¸€ä¸ªLocalBufferPoolï¼Œæ¥æ”¶ç«¯æ¯ä¸ªChannelåœ¨åˆå§‹åŒ–é˜¶æ®µéƒ½ä¼šåˆ†é…å›ºå®šæ•°é‡çš„Buffer(Exclusive Buffer)ã€‚å¦‚æœæŸä¸€æ—¶åˆ»æ¥æ”¶ç«¯æ¥å—åˆ°çš„æ•°é‡å¤ªå¤šï¼ŒExclusive Bufferå°±ä¼šè€—å°½ï¼Œæ­¤æ—¶å°±ä¼šå‘BufferPoolç”³è¯·å‰©ä½™çš„Floating Bufferï¼ˆé™¤äº†Exclusive Bufferï¼Œå…¶ä»–çš„éƒ½æ˜¯Floating Buffer,å¤‡ç”¨Bufferï¼‰ï¼›inPoolUsage = floatingBuffersUsage + exclusiveBuffersUsage&#xA;è‹¥ inPoolUsage ä½ï¼Œè€Œ outPoolUsage ä½ï¼Œåˆ™è¯´æ˜å®Œå…¨æ²¡æœ‰èƒŒå‹ç°è±¡ã€‚ è‹¥ inPoolUsage ä½ï¼Œè€Œ outPoolUsage é«˜ï¼Œåˆ™è¯´æ˜å¤„äºä¸´æ—¶çŠ¶æ€ï¼Œå¯èƒ½æ˜¯èƒŒå‹åˆšå¼€å§‹ï¼Œä¹Ÿå¯èƒ½æ˜¯åˆšç»“æŸï¼Œéœ€è¦å†è§‚å¯Ÿã€‚ è‹¥ inPoolUsage é«˜ï¼Œè€Œ outPoolUsage ä½ï¼Œé‚£ä¹ˆé€šå¸¸æƒ…å†µä¸‹è¿™ä¸ªç®—å­å°±æ˜¯èƒŒå‹çš„æ ¹æºäº†ã€‚ è‹¥ inPoolUsage é«˜ï¼Œè€Œ outPoolUsage é«˜ï¼Œåˆ™è¯´æ˜è¿™ä¸ªç®—å­æ˜¯è¢«å…¶ä»–ä¸‹æ¸¸ç®—å­åå‹è€Œæ¥çš„ï¼Œå¹¶ä¸æ˜¯å…ƒå‡¶ã€‚ åœ¨åå‹å®šä½è¿‡ç¨‹ä¸­ï¼Œå»ºè®®å…³é—­ Operator Chaining ä¼˜åŒ–ï¼Œè¿™æ ·æ‰€æœ‰çš„ç®—å­å¯ä»¥å•ç‹¬æ‹†åˆ†å‡ºæ¥ï¼Œä¸ä¼šç›¸äº’å¹²æ‰°ï¼š</description>
    </item>
    <item>
      <title>Arthasç«ç„°å›¾ä½¿ç”¨</title>
      <link>https://qiref.github.io/post/2023/03/22/arthas%E7%81%AB%E7%84%B0%E5%9B%BE%E4%BD%BF%E7%94%A8/</link>
      <pubDate>Wed, 22 Mar 2023 21:29:21 +0800</pubDate>
      <guid>https://qiref.github.io/post/2023/03/22/arthas%E7%81%AB%E7%84%B0%E5%9B%BE%E4%BD%BF%E7%94%A8/</guid>
      <description>arthas ç«ç„°å›¾ç›¸å…³å‘½ä»¤ arthas ä¸­ profiler å‘½ä»¤æ”¯æŒç”Ÿæˆåº”ç”¨çƒ­ç‚¹çš„ç«ç„°å›¾ã€‚æœ¬è´¨ä¸Šæ˜¯é€šè¿‡ä¸æ–­çš„é‡‡æ ·ï¼Œç„¶åæŠŠæ”¶é›†åˆ°çš„é‡‡æ ·ç»“æœç”Ÿæˆç«ç„°å›¾ã€‚&#xA;å¯åŠ¨arthasï¼š&#xA;java -jar arthas-boot.jar å¼€å§‹æ”¶é›†ç«ç„°å›¾ï¼š&#xA;[arthas@1]$ profiler start Profiling started [arthas@1]$ profiler status Profiling is running for 6 seconds [arthas@1]$ profiler status Profiling is running for 27 seconds [arthas@1]$ profiler getSamples 2 [arthas@1]$ profiler getSamples 4 [arthas@1]$ profiler stop --file /tmp/cpu-result-1.html OK profiler output file: /tmp/cpu-result-1.html å‘½ä»¤è¯´æ˜ï¼š&#xA;profiler start å¼€å¯ç«ç„°å›¾æ”¶é›†ï¼› profiler status æŸ¥çœ‹ç«ç„°å›¾æ”¶é›†çš„çŠ¶æ€ï¼Œä¼šæ˜¾ç¤ºå½“å‰å·²ç»é‡‡é›†å¤šé•¿æ—¶é—´ï¼› profiler getSamples è·å–å·²é‡‡é›†çš„ sample çš„æ•°é‡ï¼Œç†è®ºä¸Šï¼Œsample è¶Šå¤šï¼Œç»“æœè¶Šå‡†ç¡®ï¼› profiler stop --file /tmp/cpu-result-1.html åœæ­¢å½“å‰ç«ç„°å›¾æ”¶é›†ï¼Œä¼šè¾“å‡ºåˆ°æ–‡ä»¶ä¸­å»ï¼Œç”Ÿæˆçš„æ–‡ä»¶å°±æ˜¯ç«ç„°å›¾ï¼› å…³é”®å‚æ•°è¯´æ˜ event -e, &amp;ndash;event é»˜è®¤é‡‡é›† CPU ä¿¡æ¯ï¼Œå¯è®¾ï¼šcpu, alloc, lock, cache-misses etc</description>
    </item>
    <item>
      <title>Flink Appendæµã€Retractæµã€Upsertæµ</title>
      <link>https://qiref.github.io/post/2022/03/13/flink-append%E6%B5%81retract%E6%B5%81upsert%E6%B5%81/</link>
      <pubDate>Sun, 13 Mar 2022 11:16:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2022/03/13/flink-append%E6%B5%81retract%E6%B5%81upsert%E6%B5%81/</guid>
      <description>æ‘˜è¦ï¼š ä»‹ç» Flink ä¸­ Appendæµã€Retractæµã€Upsertæµçš„å«ä¹‰ã€‚&#xA;Appendæµ Retractæµ Upsertæµ Appendæµ åœ¨ Append æµä¸­ï¼Œä»…é€šè¿‡ INSERT æ“ä½œä¿®æ”¹çš„åŠ¨æ€è¡¨ï¼Œå¯ä»¥é€šè¿‡è¾“å‡ºæ’å…¥çš„è¡Œè½¬æ¢ä¸ºæµã€‚&#xA;Retractæµ retract æµåŒ…å«ä¸¤ç§ç±»å‹çš„ messageï¼š add messages å’Œ retract messages ã€‚&#xA;é€šè¿‡å°†INSERT æ“ä½œç¼–ç ä¸º add messageã€å°† DELETE æ“ä½œç¼–ç ä¸º retract messageã€å°† UPDATE æ“ä½œç¼–ç ä¸ºæ›´æ–°(å…ˆå‰)è¡Œçš„ retract message å’Œæ›´æ–°(æ–°)è¡Œçš„ add messageï¼Œå°†åŠ¨æ€è¡¨è½¬æ¢ä¸º retract æµã€‚&#xA;OPERATOR ENCODE insert add update retract -&amp;gt; add delete retract Upsertæµ upsert æµåŒ…å«ä¸¤ç§ç±»å‹çš„ messageï¼š upsert messages å’Œdelete messagesã€‚&#xA;è½¬æ¢ä¸º upsert æµçš„åŠ¨æ€è¡¨éœ€è¦(å¯èƒ½æ˜¯ç»„åˆçš„)å”¯ä¸€é”®ã€‚é€šè¿‡å°† INSERT å’Œ UPDATE æ“ä½œç¼–ç ä¸º upsert messageï¼Œå°† DELETE æ“ä½œç¼–ç ä¸º delete message ï¼Œå°†å…·æœ‰å”¯ä¸€é”®çš„åŠ¨æ€è¡¨è½¬æ¢ä¸ºæµã€‚æ¶ˆè´¹æµçš„ç®—å­éœ€è¦çŸ¥é“å”¯ä¸€é”®çš„å±æ€§ï¼Œä»¥ä¾¿æ­£ç¡®åœ°åº”ç”¨ messageã€‚ä¸ retract æµçš„ä¸»è¦åŒºåˆ«åœ¨äº UPDATE æ“ä½œæ˜¯ç”¨å•ä¸ª message ç¼–ç çš„ï¼Œå› æ­¤æ•ˆç‡æ›´é«˜ã€‚</description>
    </item>
    <item>
      <title>Flink Checkpointæœºåˆ¶</title>
      <link>https://qiref.github.io/post/2022/03/04/flink-checkpoint%E6%9C%BA%E5%88%B6/</link>
      <pubDate>Fri, 04 Mar 2022 11:16:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2022/03/04/flink-checkpoint%E6%9C%BA%E5%88%B6/</guid>
      <description>æ‘˜è¦ï¼š å¦‚æœæŠŠè¿è¡Œä¸­çš„ Flink ç¨‹åºæ¯”åšä¸€æ¡æ²³æµï¼ŒCheckpoint å°±æ˜¯ä¸€ä¸ªç›¸æœºï¼Œå®šæœŸåœ°å¯¹æ²³æµè¿›è¡Œæ‹ç…§ï¼Œè®°å½•æ²³æ°´çš„çŠ¶æ€ã€‚æœ¬æ–‡ä»¥è‡ªé¡¶å‘ä¸‹çš„è§†è§’ï¼Œä»ç†è®ºåˆ°å®ç°ï¼Œåˆ†æ Flink ä¸­çš„ Checkpoint æœºåˆ¶ï¼›&#xA;ç†è®ºåŸºç¡€ asynchronous barrier snapshotting ç®—æ³•æ­¥éª¤ ç®—æ³•åœ¨ Flink ä¸­çš„å®ç° Flink Checkpoint æ•´ä½“æµç¨‹ Flink Checkpoint Barrier Alignment Flink Checkpoint ä½¿ç”¨ Flink Job é‡å¯ç­–ç•¥ Flink Job å¼€å¯ Checkpoint ç†è®ºåŸºç¡€ asynchronous barrier snapshotting Flink Checkpoint æœºåˆ¶æ˜¯å¼‚æ­¥å±éšœå¿«ç…§ï¼ˆasynchronous barrier snapshotting, ABSï¼‰ç®—æ³•çš„ä¸€ç§å®ç°ï¼Œè€Œ ABS ç®—æ³•åŸºäº Chandy-Lamport çš„å˜ç§ï¼Œä½†æ•°æ®æ¨¡å‹æ˜¯è¿˜æ˜¯åŸºäº Chandy-Lamportï¼›&#xA;åœ¨ flink ä¸­ï¼Œä½œä¸šç®—å­è¢«æŠ½è±¡ä¸º DAGï¼ŒèŠ‚ç‚¹ä¸º operatorï¼Œè¾¹æ˜¯æ¯ä¸€ä¸ª operator çš„ streamï¼ˆchannelï¼‰ï¼Œä¸ Chandy-Lamport çš„æ•°æ®æ¨¡å‹æ­£å¥½å»åˆï¼›&#xA;ABS ç®—æ³•æŠŠ Chandy-Lamport ä¸­çš„ marker æ¶ˆæ¯æ¢æˆäº† barrierï¼Œä½œç”¨æ˜¯ä¸€è‡´çš„ï¼Œéƒ½æ˜¯åˆ‡åˆ† snapshotï¼›&#xA;ABS ç®—æ³• ä¸­ asynchronous æ˜¯å¼‚æ­¥çš„æ„æ€ï¼Œå½“ç®—å­æ”¶é½ barrier å¹¶è§¦å‘å¿«ç…§ä¹‹åï¼Œä¸ä¼šç­‰å¾…å¿«ç…§æ•°æ®å…¨éƒ¨å†™å…¥çŠ¶æ€åç«¯ï¼Œè€Œæ˜¯ä¸€è¾¹åå°å†™å…¥ï¼Œä¸€è¾¹ç«‹åˆ»ç»§ç»­å¤„ç†æ•°æ®æµï¼Œå¹¶å°† barrier å‘é€åˆ°ä¸‹æ¸¸ï¼Œå®ç°äº†æœ€å°åŒ–å»¶è¿Ÿã€‚å½“ç„¶ï¼Œå¼•å…¥å¼‚æ­¥æ€§ä¹‹åï¼Œæ‰€æœ‰æœ‰çŠ¶æ€çš„ç®—å­éƒ½éœ€è¦ä¸ŠæŠ¥ ackï¼Œå¦åˆ™ JobManager å°±æ— æ³•ç¡®è®¤ä¸€æ¬¡ snapshot æ˜¯å¦å®Œæˆã€‚</description>
    </item>
    <item>
      <title>Flinkæ—¶é—´è¯­ä¹‰</title>
      <link>https://qiref.github.io/post/2022/02/25/flink%E6%97%B6%E9%97%B4%E8%AF%AD%E4%B9%89/</link>
      <pubDate>Fri, 25 Feb 2022 11:16:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2022/02/25/flink%E6%97%B6%E9%97%B4%E8%AF%AD%E4%B9%89/</guid>
      <description>æ‘˜è¦ï¼š ç†è§£æµå¤„ç†ä¸­çš„æ—¶é—´è¯­ä¹‰ï¼Œå¤„ç†æ—¶é—´å’Œäº‹ä»¶æ—¶é—´ã€‚&#xA;å¦‚å›¾ï¼Œåœ¨æ— ç•Œæ•°æ®ä¸­ï¼Œéšç€æ—¶é—´æ¨ç§»ï¼Œæ•°æ®ä¸€ç›´äº§ç”Ÿï¼Œä½†çœŸå®æƒ…å†µä¸­ï¼Œå¾€å¾€åœ¨ä¸€æ®µæ—¶é—´å†…çš„æ•°æ®éƒ½æ˜¯ä¸å‡åŒ€çš„ï¼Œå¾€å¾€ä¼šå‡ºç°æ„å¤–çš„æƒ…å†µï¼Œæ¯”å¦‚åœ¨åœ°é“æ— ä¿¡å·çš„æƒ…å†µä¸‹ï¼Œæ•°æ®è™½ç„¶äº§ç”Ÿï¼Œä½†æ˜¯ä¼šæœ‰ä¸€æ®µæ—¶é—´å»¶è¿Ÿæ‰ä¼šåˆ°è¾¾æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¾‹å¦‚è™šçº¿æ¡†ä¸­çš„æ•°æ®ã€‚&#xA;å¤„ç†æ—¶é—´ å¤„ç†æ—¶é—´å°±æ˜¯æµè®¡ç®—å¤„ç†ç¨‹åºçš„æœºå™¨æœ¬åœ°æ—¶é—´ï¼ŒæŒ‰ç…§è¿™ç§æ—¶é—´è¯­ä¹‰ï¼Œåœ¨æµè®¡ç®—çš„æ—¶é—´çª—å£ä¸­ï¼Œä¸Šè¿°ä¾‹å­ä¸­çš„æ•°æ®ä¼šæŒ‰è¿™æ ·åˆ†å¸ƒï¼š&#xA;åŸºäºæœ¬åœ°æ—¶é—´ï¼Œåœ¨ç¬¬ä¸€åˆ†é’Ÿï¼Œæµå¤„ç†ç¨‹åºåªæ”¶åˆ°äº† 15ã€18 ä¸¤ä¸ªæ•°æ®ï¼Œåç»­æ•°æ®ç”±äºç½‘ç»œåŸå› ï¼Œåœ¨ 8:01:00 ä¹‹åæ‰åˆ°è¾¾æµè®¡ç®—ç¨‹åºï¼Œæ‰€ä»¥åç»­æ•°æ®åœ¨ä¸‹ä¸€ä¸ªæ—¶é—´çª—å£å†…ã€‚&#xA;äº‹ä»¶æ—¶é—´ äº‹ä»¶æ—¶é—´å°±æ˜¯äº‹ä»¶çš„å‘ç”Ÿæ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´é€šå¸¸ä¼šåœ¨æ•°æ®ä¸­ï¼ŒæŒ‰ç…§è¿™ç§æ—¶é—´è¯­ä¹‰ï¼Œåœ¨æµè®¡ç®—çš„æ—¶é—´çª—å£ä¸­ï¼Œä¸Šè¿°ä¾‹å­ä¸­çš„æ•°æ®ä¼šæŒ‰è¿™æ ·åˆ†å¸ƒï¼š&#xA;åŸºäºäº‹ä»¶æ—¶é—´ï¼Œåœ¨ç¬¬ä¸€åˆ†é’Ÿï¼Œæ•°æ®åº”è¯¥æ˜¯ï¼š15 18 9 10 ï¼Œåœ¨ç¬¬äºŒåˆ†é’Ÿï¼Œæ•°æ®åº”è¯¥æ˜¯ï¼š11 ã€‚&#xA;watermark ç”±äºäº‹ä»¶æ—¶é—´çš„çª—å£å’Œäº‹ä»¶ç›¸å…³ï¼Œé‚£ä¹ˆå¦‚æœä¸‹ä¸€ä¸ªäº‹ä»¶è¿˜æœªåˆ°è¾¾ï¼Œæµè®¡ç®—ç¨‹åºæ˜¯å¦å°±æ— é™ç­‰å¾…å‘¢ï¼Ÿ&#xA;ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œflink å¼•å…¥ watermark çš„æ¦‚å¿µï¼Œå‡å¦‚å®šä¹‰ watermark ä¸º Tï¼Œé‚£ä¹ˆåœ¨æ¯ä¸€ä¸ªæ—¶é—´çª—å£ä¸­ï¼ŒT éƒ½ä¼šå•è°ƒé€’å¢ T &amp;lt; T1ï¼Œå¹¶ä¸”ä¸‹ä¸€ä¸ªæ—¶é—´çª—å£ä¸­çš„äº‹ä»¶æ—¶é—´å¿…é¡»å¤§äº T1ï¼Œé‚£ä¹ˆæ¯ä¸€ä¸ªæ—¶é—´çª—å£çš„æ•°æ®å°±æ˜¯ä»‹äº T-T1ã€‚</description>
    </item>
    <item>
      <title>FlinkåŸºæœ¬æ¶æ„</title>
      <link>https://qiref.github.io/post/2022/02/23/flink%E5%9F%BA%E6%9C%AC%E6%9E%B6%E6%9E%84/</link>
      <pubDate>Wed, 23 Feb 2022 11:16:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2022/02/23/flink%E5%9F%BA%E6%9C%AC%E6%9E%B6%E6%9E%84/</guid>
      <description>æ‘˜è¦ï¼š é¸Ÿç° Flink æ¶æ„ï¼Œåˆ†æ Flink å†…éƒ¨ç»„ä»¶å·¥ä½œæœºåˆ¶ã€‚&#xA;Flink æ¶æ„å›¾ æäº¤ä½œä¸šæµç¨‹ Flink é›†ç¾¤æ¨¡å¼ JobManager Taskmanager ç®—å­é“¾ Slot task æ•°æ®äº¤æ¢ç­–ç•¥ Flink æ¶æ„å›¾ ä¸€ä¸ªå®Œæ•´çš„ Flink é›†ç¾¤ç”±ä¸€ä¸ª Jobmanager å’Œè‹¥å¹²ä¸ª Taskmanager ç»„æˆï¼ŒJobmanager ä¸»è¦è´Ÿè´£è°ƒåº¦ task ä»¥åŠ åè°ƒ Checkpointã€‚Taskmanager åˆ™è´Ÿè´£å…·ä½“çš„ task æ‰§è¡Œï¼Œä»¥åŠæ•°æ®æµçš„äº¤æ¢ã€‚&#xA;å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å¯åŠ¨ JobManager å’Œ TaskManagerï¼šç›´æ¥åœ¨æœºå™¨ä¸Šä½œä¸ºstandalone é›†ç¾¤å¯åŠ¨ã€åœ¨å®¹å™¨ä¸­å¯åŠ¨ã€æˆ–è€…é€šè¿‡YARNç­‰èµ„æºæ¡†æ¶ç®¡ç†å¹¶å¯åŠ¨ã€‚TaskManager è¿æ¥åˆ° JobManagersï¼Œå®£å¸ƒè‡ªå·±å¯ç”¨ï¼Œå¹¶è¢«åˆ†é…å·¥ä½œã€‚&#xA;æäº¤ä½œä¸šæµç¨‹ ä»¥ä¸€ä¸ªä½œä¸šæäº¤çš„æµç¨‹æ¥è¯´æ˜ Flink å„ä¸ªç»„ä»¶æ˜¯å¦‚ä½•äº¤äº’å’Œå·¥ä½œçš„ï¼š&#xA;Flink é›†ç¾¤æ¨¡å¼ Flink é›†ç¾¤ç±»å‹ä¸€èˆ¬æœ‰ä»¥ä¸‹å‡ ç§ï¼š&#xA;Flink Session é›†ç¾¤&#xA;è¿™ç§æ¨¡å¼ä¸‹ï¼Œé›†ç¾¤è‡ªåˆ›å»ºå¼€å§‹ï¼Œæœ€ååˆ°é›†ç¾¤ç”Ÿå‘½å‘¨æœŸç»“æŸï¼Œä¸å—ä½œä¸šå› ç´ å½±å“ï¼› é›†ç¾¤ä¸‹çš„å¤šä¸ªä½œä¸šå…±äº« å†…å­˜ã€ç½‘ç»œã€ç£ç›˜ç­‰èµ„æºï¼Œå¦‚æœé›†ç¾¤å‡ºç°å¼‚å¸¸ï¼Œè¯¥é›†ç¾¤ä¸‹çš„æ‰€æœ‰ä½œä¸šéƒ½ä¼šæ”¶åˆ°å½±å“ã€‚&#xA;ä¼˜ç‚¹ï¼šæäº¤ä½œä¸šé€Ÿåº¦å¾ˆå¿«ï¼Œæ— éœ€æå‰ç”³è¯·èµ„æºï¼› å¹¶ä¸”èµ„æºåˆ©ç”¨ç‡è¾ƒé«˜ã€‚&#xA;ç¼ºç‚¹ï¼šä½œä¸šä¹‹é—´éš”ç¦»æ€§è¾ƒå·®ï¼Œæ¨ªå‘æ‰©å±•ä¸å¤ªæ–¹ä¾¿ã€‚&#xA;Flink job é›†ç¾¤&#xA;è¿™ç§æ¨¡å¼ä¹Ÿç§° pre-job æ¨¡å¼ï¼Œé›†ç¾¤äº¤ç”± èµ„æºç®¡ç†å™¨æ‰˜ç®¡ï¼Œä¾‹å¦‚ Yarn ï¼Œéœ€è¦è¿è¡Œä½œä¸šï¼Œç¬¬ä¸€æ­¥ç”³è¯·èµ„æºï¼Œå¯åŠ¨ä¸€ä¸ª Flink é›†ç¾¤ï¼Œç¬¬äºŒæ­¥æäº¤ä½œä¸šï¼Œè¿™ç§æ¨¡å¼ä¸‹ï¼Œæ¯ä¸ªä½œä¸šä¼šç‹¬äº«ä¸€ä¸ª Flink é›†ç¾¤ã€‚</description>
    </item>
    <item>
      <title>Flink WordCount</title>
      <link>https://qiref.github.io/post/2022/02/22/flink-wordcount/</link>
      <pubDate>Tue, 22 Feb 2022 18:16:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2022/02/22/flink-wordcount/</guid>
      <description>æ‘˜è¦ï¼šFlink ä»é›¶å¼€å§‹ï¼Œä¸‹è½½é›†ç¾¤å¹¶è¿è¡Œ WordCount Jobã€‚ å®Œæ•´ä»£ç åœ°å€ï¼š https://github.com/ArchieYao/flink-learning/tree/main/hello-world&#xA;Flink æœ¬åœ°æ¨¡å¼é›†ç¾¤å®‰è£… è¿è¡ŒFlinkï¼Œéœ€æå‰å®‰è£…å¥½ Java 8 æˆ–è€… Java 11ã€‚&#xA;wget https://dlcdn.apache.org/flink/flink-1.14.3/flink-1.14.3-bin-scala_2.12.tgz tar -zxvf flink-1.14.3-bin-scala_2.12.tgz cd flink-1.14.3 ./bin/start-cluster.sh è¿è¡ŒæˆåŠŸåï¼Œå¯ä»¥åœ¨ IP:8081 è®¿é—® Flink-UI&#xA;Flink Word Count job source æ˜¯å¤šæ®µæ–‡æœ¬ï¼Œç±»å‹ï¼š DataSource ï¼Œç»è¿‡ flatMapï¼Œåˆ‡åˆ†ä¸ºæ¯ä¸ªå•è¯ï¼Œç„¶åè½¬æ¢ä¸ºï¼š(val,n) çš„æ•°æ®ï¼Œç„¶åæ ¹æ® val åˆ†ç»„ç»Ÿè®¡ï¼Œå¾—å‡º sum(n) çš„å€¼ã€‚&#xA;public static void main(String[] args) throws Exception { // åˆ›å»ºFlinkä»»åŠ¡è¿è¡Œç¯å¢ƒ final ExecutionEnvironment executionEnvironment = ExecutionEnvironment.getExecutionEnvironment(); // åˆ›å»ºDataSetï¼Œæ•°æ®æ˜¯ä¸€è¡Œä¸€è¡Œæ–‡æœ¬ DataSource&amp;lt;String&amp;gt; text = executionEnvironment.fromElements( &amp;quot;Licensed to the Apache Software Foundation (ASF) under one&amp;quot;, &amp;quot;or more contributor license agreements.</description>
    </item>
    <item>
      <title>Goè¯­è¨€cobra</title>
      <link>https://qiref.github.io/post/2022/02/19/go%E8%AF%AD%E8%A8%80cobra/</link>
      <pubDate>Sat, 19 Feb 2022 18:16:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2022/02/19/go%E8%AF%AD%E8%A8%80cobra/</guid>
      <description>æ‘˜è¦ï¼šGoè¯­è¨€ cobra æ¡†æ¶ä½¿ç”¨è¯´æ˜ï¼Œæ–‡ä¸­ä»£ç åœ°å€ï¼š https://github.com/ArchieYao/clid&#xA;cobra ç®€ä»‹ cobraæ˜¯ Go è¯­è¨€çš„ä¸€ä¸ªå‘½ä»¤è¡Œç¨‹åºåº“ï¼Œå¯ä»¥ç”¨æ¥ç¼–å†™å‘½ä»¤è¡Œç¨‹åºã€‚åŒæ—¶ï¼Œå®ƒä¹Ÿæä¾›äº†ä¸€ä¸ªè„šæ‰‹æ¶ï¼Œ ç”¨äºç”ŸæˆåŸºäº cobra çš„åº”ç”¨ç¨‹åºæ¡†æ¶ã€‚éå¸¸å¤šçŸ¥åçš„å¼€æºé¡¹ç›®ä½¿ç”¨äº† cobra åº“æ„å»ºå‘½ä»¤è¡Œï¼Œå¦‚Kubernetesã€Hugoã€etcdç­‰ã€‚&#xA;å®‰è£… cobra cobra æ˜¯ç”±å¤§åé¼é¼çš„ spf13ï¼ˆgolang å¼€å‘è€…ï¼‰ å¼€å‘çš„ï¼ŒGitHub åœ°å€ï¼šhttps://github.com/spf13/cobra&#xA;// å®‰è£… go get -u github.com/spf13/cobra # æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ cobra -h Cobra is a CLI library for Go that empowers applications. This application is a tool to generate the needed files to quickly create a Cobra application. Usage: cobra [command] Available Commands: add Add a command to a Cobra Application completion Generate the autocompletion script for the specified shell help Help about any command init Initialize a Cobra Application Flags: -a, --author string author name for copyright attribution (default &amp;quot;YOUR NAME&amp;quot;) --config string config file (default is $HOME/.</description>
    </item>
    <item>
      <title>ProtoBufæ•°æ®åè®®</title>
      <link>https://qiref.github.io/post/2022/01/11/protobuf%E6%95%B0%E6%8D%AE%E5%8D%8F%E8%AE%AE/</link>
      <pubDate>Tue, 11 Jan 2022 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2022/01/11/protobuf%E6%95%B0%E6%8D%AE%E5%8D%8F%E8%AE%AE/</guid>
      <description>æ‘˜è¦ï¼šProtoBuf(Protocol Buffers)æ˜¯ä¸€ç§è·¨å¹³å°ã€è¯­è¨€æ— å…³ã€å¯æ‰©å±•çš„åºåˆ—åŒ–ç»“æ„æ•°æ®çš„æ–¹æ³•ï¼Œå¯ç”¨äºç½‘ç»œæ•°æ®äº¤æ¢åŠæ•°æ®å­˜å‚¨ã€‚&#xA;Protocol Buffersä»‹ç» ä¸åŒäº XML ã€JSON è¿™ç§æ–‡æœ¬æ ¼å¼æ•°æ®ï¼ŒProtocol Buffers æ˜¯ä¸€ç§äºŒè¿›åˆ¶æ ¼å¼æ•°æ®ã€‚åœ¨Protocol Buffers è¯ç”Ÿä¹‹åˆï¼Œå°±è¢«èµ‹äºˆä¸¤ä¸ªç‰¹ç‚¹ï¼š&#xA;å‘å‰å…¼å®¹ï¼Œå¾ˆå®¹æ˜“å¼•å…¥æ–°å­—æ®µï¼Œåº”å¯¹å­—æ®µçš„é¢‘ç¹å˜æ›´ æ•°æ®æ ¼å¼å…·å¤‡æè¿°æ€§ï¼Œå¹¶ä¸”æ”¯æŒå¤šè¯­è¨€å¤„ç† ä¼ è¾“æ•ˆç‡é«˜ åŸºäºä»¥ä¸Šè¿™äº›ç‰¹æ€§ï¼ŒProtocol Buffers è¢«å¹¿æ³›åº”ç”¨äºå„ç§ RPC æ¡†æ¶ä¸­ï¼Œå¹¶ä¸”æ˜¯ Google çš„æ•°æ®é€šç”¨è¯­è¨€ã€‚&#xA;Protocol Buffersåè®®æ–‡ä»¶ Protocol Buffers åœ¨ä½¿ç”¨å‰éœ€è¦å…ˆå®šä¹‰å¥½åè®®æ–‡ä»¶ï¼Œä»¥ .proto ä¸ºåç¼€çš„æ–‡ä»¶å°±æ˜¯Protocol Buffers çš„åè®®æ–‡ä»¶ã€‚&#xA;Example:&#xA;// æŒ‡å®šprotobufçš„ç‰ˆæœ¬ï¼Œproto3æ˜¯æœ€æ–°çš„è¯­æ³•ç‰ˆæœ¬ syntax = &amp;quot;proto3&amp;quot;; // å®šä¹‰æ•°æ®ç»“æ„ï¼Œmessage ä½ å¯ä»¥æƒ³è±¡æˆjavaçš„classï¼Œcè¯­è¨€ä¸­çš„struct message Response { string data = 1; // å®šä¹‰ä¸€ä¸ªstringç±»å‹çš„å­—æ®µï¼Œå­—æ®µåå­—ä¸ºdata, åºå·ä¸º1 int32 status = 2; // å®šä¹‰ä¸€ä¸ªint32ç±»å‹çš„å­—æ®µï¼Œå­—æ®µåå­—ä¸ºstatus, åºå·ä¸º2 } å¦‚æœ A å’Œ B è¦åŸºäº Protocol Buffers åè®®è¿›è¡Œé€šä¿¡ï¼Œé‚£ä¹ˆåœ¨é€šä¿¡å‰ï¼ŒA å’Œ B éƒ½éœ€è¦æœ‰åŒä¸€ä»½åè®®æ–‡ä»¶ï¼Œæ‰€ä»¥åœ¨ Protocol Buffers æ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œä¸éœ€è¦æ•°æ®çš„ Schema ä¿¡æ¯ï¼›</description>
    </item>
    <item>
      <title>Log4j2æŒ‰ç…§æ—¶é—´å’Œæ—¥å¿—å¤§å°æ»šåŠ¨</title>
      <link>https://qiref.github.io/post/2021/08/25/log4j2%E6%8C%89%E7%85%A7%E6%97%B6%E9%97%B4%E5%92%8C%E6%97%A5%E5%BF%97%E5%A4%A7%E5%B0%8F%E6%BB%9A%E5%8A%A8/</link>
      <pubDate>Wed, 25 Aug 2021 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/08/25/log4j2%E6%8C%89%E7%85%A7%E6%97%B6%E9%97%B4%E5%92%8C%E6%97%A5%E5%BF%97%E5%A4%A7%E5%B0%8F%E6%BB%9A%E5%8A%A8/</guid>
      <description>æ‘˜è¦ï¼šLog4j2 æŒ‰ç…§æ—¶é—´å’Œæ—¥å¿—å¤§å°æ»šåŠ¨ã€‚&#xA;Log4j2æŒ‰ç…§æ—¶é—´å’Œæ—¥å¿—å¤§å°æ»š status = error name = PropertiesConfig #Make sure to change log file path as per your need property.filename = C:\\logs\\debug.log filters = threshold filter.threshold.type = ThresholdFilter filter.threshold.level = debug appenders = rolling appender.rolling.type = RollingFile appender.rolling.name = RollingFile appender.rolling.fileName = ${filename} appender.rolling.filePattern = debug-backup-%d{MM-dd-yy-HH-mm-ss}-%i.log.gz appender.rolling.layout.type = PatternLayout appender.rolling.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n appender.rolling.policies.type = Policies appender.rolling.policies.time.type = TimeBasedTriggeringPolicy appender.rolling.policies.time.interval = 1 appender.rolling.policies.time.modulate = true appender.</description>
    </item>
    <item>
      <title>Git-rebaseç”¨æ³•.md</title>
      <link>https://qiref.github.io/post/2021/08/09/git-rebase%E7%94%A8%E6%B3%95.md/</link>
      <pubDate>Mon, 09 Aug 2021 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/08/09/git-rebase%E7%94%A8%E6%B3%95.md/</guid>
      <description>æ‘˜è¦ï¼šGit rebase çš„ä½¿ç”¨æ–¹æ³•ã€‚&#xA;commit åˆå¹¶ å½“å¤šä¸ªcommitå­˜åœ¨æ—¶ï¼Œæäº¤MRä¼šå‡ºç°å¾ˆå¤šçš„commitï¼Œreviewä¼šå¾ˆå›°éš¾ï¼Œè¿™æ—¶å¯ä»¥å°†å¤šä¸ªcommitåˆå¹¶ä¸ºä¸€ä¸ªcommitã€‚&#xA;å‘½ä»¤è¯´æ˜ï¼š&#xA;git rebase -i [startpoint] [endpoint] å…¶ä¸­-içš„æ„æ€æ˜¯&amp;ndash;interactiveï¼Œå³å¼¹å‡ºäº¤äº’å¼çš„ç•Œé¢è®©ç”¨æˆ·ç¼–è¾‘å®Œæˆåˆå¹¶æ“ä½œï¼Œ[startpoint] [endpoint] åˆ™æŒ‡å®šäº†ä¸€ä¸ªç¼–è¾‘åŒºé—´ï¼Œå¦‚æœä¸æŒ‡å®š[endpoint]ï¼Œåˆ™è¯¥åŒºé—´çš„ç»ˆç‚¹é»˜è®¤æ˜¯å½“å‰åˆ†æ”¯HEADæ‰€æŒ‡å‘çš„commit(æ³¨ï¼šè¯¥åŒºé—´æŒ‡å®šçš„æ˜¯ä¸€ä¸ªå‰å¼€åé—­çš„åŒºé—´)ã€‚ åœ¨æŸ¥çœ‹åˆ°äº†logæ—¥å¿—åï¼Œæˆ‘ä»¬è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&#xA;git rebase -i 36224db or git rebase -i HEAD~3 # åˆå¹¶æœ€è¿‘ä¸‰æ¬¡commit æ¯ä¸€ä¸ªcommit id å‰é¢çš„pickè¡¨ç¤ºæŒ‡ä»¤ç±»å‹ï¼Œgit ä¸ºæˆ‘ä»¬æä¾›äº†ä»¥ä¸‹å‡ ä¸ªå‘½ä»¤: pickï¼šä¿ç•™è¯¥commitï¼ˆç¼©å†™:pï¼‰ rewordï¼šä¿ç•™è¯¥commitï¼Œä½†æˆ‘éœ€è¦ä¿®æ”¹è¯¥commitçš„æ³¨é‡Šï¼ˆç¼©å†™:rï¼‰ editï¼šä¿ç•™è¯¥commit, ä½†æˆ‘è¦åœä¸‹æ¥ä¿®æ”¹è¯¥æäº¤(ä¸ä»…ä»…ä¿®æ”¹æ³¨é‡Š)ï¼ˆç¼©å†™:eï¼‰ squashï¼šå°†è¯¥commitå’Œå‰ä¸€ä¸ªcommitåˆå¹¶ï¼ˆç¼©å†™:sï¼‰ fixupï¼šå°†è¯¥commitå’Œå‰ä¸€ä¸ªcommitåˆå¹¶ï¼Œä½†æˆ‘ä¸è¦ä¿ç•™è¯¥æäº¤çš„æ³¨é‡Šä¿¡æ¯ï¼ˆç¼©å†™:fï¼‰ execï¼šæ‰§è¡Œshellå‘½ä»¤ï¼ˆç¼©å†™:xï¼‰ dropï¼šæˆ‘è¦ä¸¢å¼ƒè¯¥commitï¼ˆç¼©å†™:dï¼‰&#xA;ç¤ºä¾‹ git log commit 4ab2734f3380fbdace8620f461cd04c7993b6b0b (HEAD -&amp;gt; master) Author: archieyao &amp;lt;archieyao@tencent.com&amp;gt; Date: Mon Aug 9 16:38:25 2021 +0800 add something 2 commit 60d0bbbe094c0b93903ab995879d30246bbf331e Author: archieyao &amp;lt;archieyao@tencent.com&amp;gt; Date: Mon Aug 9 16:38:02 2021 +0800 add something 1 commit 1c3c12316449cf4f340c68e22c70caa60178ba5c Author: archieyao &amp;lt;archieyao@tencent.</description>
    </item>
    <item>
      <title>Gitå·¥ç¨‹æ‹†åˆ†</title>
      <link>https://qiref.github.io/post/2021/07/08/git%E5%B7%A5%E7%A8%8B%E6%8B%86%E5%88%86/</link>
      <pubDate>Thu, 08 Jul 2021 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/07/08/git%E5%B7%A5%E7%A8%8B%E6%8B%86%E5%88%86/</guid>
      <description>æ‘˜è¦ï¼šGitå°†å·¥ç¨‹æŒ‰ç›®å½•æ‹†åˆ†ã€‚&#xA;# /project/ # ----/test/ # å°†testç›®å½•æŠ½æˆå•ç‹¬çš„å·¥ç¨‹ cd /project/test # æ‹†åˆ†å­ç›®å½• $ git subtree split -P test -b test-new-br $ mkdir ../test-new-br $ cd ../test-new-br # åˆ›å»ºå­å·¥ç¨‹ $ git init $ git pull ../project test-new-br # git log å¯ä»¥çœ‹åˆ°å†å²commit &amp;#x1f635;</description>
    </item>
    <item>
      <title>Kubernatesä¸­çš„pod</title>
      <link>https://qiref.github.io/post/2021/06/29/kubernates%E4%B8%AD%E7%9A%84pod/</link>
      <pubDate>Tue, 29 Jun 2021 10:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/29/kubernates%E4%B8%AD%E7%9A%84pod/</guid>
      <description>æ‘˜è¦ï¼šè¿è¡Œåœ¨Kubernatesä¸­çš„å®¹å™¨ï¼špodã€‚ç”±äºä¸èƒ½å°†å¤šä¸ªè¿›ç¨‹èšé›†åœ¨ä¸€ä¸ªå•ç‹¬çš„å®¹å™¨ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ›´é«˜çº§çš„ç»“æ„å°†å®¹å™¨ç»‘å®šåœ¨ä¸€èµ·ï¼Œå°†å®ƒä»¬ä½œä¸ºä¸€ä¸ªå•å…ƒè¿›è¡Œç®¡ç†ï¼Œè¿™å°±æ˜¯podè¯ç”Ÿçš„åŸå› ã€‚&#xA;podåŸºæœ¬æ¦‚å¿µ podæ˜¯Kubernetesä¸­æœ€é‡è¦çš„æ¦‚å¿µï¼Œpodæ˜¯Kubernetesä¸­éƒ¨ç½²çš„æœ€å°å•å…ƒï¼Œä¸€ä¸ªpodä¸­å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ï¼Œpodæœ‰è‡ªå·±ç‹¬ç«‹çš„ç§æœ‰IPå’Œä¸»æœºåã€‚&#xA;Kubernetes é›†ç¾¤ä¸­çš„ Pod ä¸»è¦æœ‰ä¸¤ç§ç”¨æ³•ï¼š&#xA;è¿è¡Œå•ä¸ªå®¹å™¨çš„ Podã€‚&amp;ldquo;æ¯ä¸ª Pod ä¸€ä¸ªå®¹å™¨&amp;quot;æ¨¡å‹æ˜¯æœ€å¸¸è§çš„ Kubernetes ç”¨ä¾‹ï¼› åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥å°† Pod çœ‹ä½œå•ä¸ªå®¹å™¨çš„åŒ…è£…å™¨ï¼Œå¹¶ä¸” Kubernetes ç›´æ¥ç®¡ç† Podï¼Œè€Œä¸æ˜¯å®¹å™¨ã€‚ è¿è¡Œå¤šä¸ªååŒå·¥ä½œçš„å®¹å™¨çš„ Podã€‚ Pod å¯èƒ½å°è£…ç”±å¤šä¸ªç´§å¯†è€¦åˆä¸”éœ€è¦å…±äº«èµ„æºçš„å…±å¤„å®¹å™¨ç»„æˆçš„åº”ç”¨ç¨‹åºã€‚ è¿™äº›ä½äºåŒä¸€ä½ç½®çš„å®¹å™¨å¯èƒ½å½¢æˆå•ä¸ªå†…èšçš„æœåŠ¡å•å…ƒï¼Œä¸€ä¸ªpodä¸­çš„å®¹å™¨å…±äº«ç½‘ç»œå’Œvolumeï¼Œå¹¶ä¸”podä¸­çš„å®¹å™¨å…±äº«ç›¸åŒçš„å‘½åç©ºé—´ã€‚ï¼ˆç”±äºä¸€ä¸ªpodä¸­çš„å®¹å™¨å…±äº«ç½‘ç»œï¼Œå› æ­¤ä¹Ÿå°±å…±äº«ç«¯å£å’ŒIPã€‚ï¼‰ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¦‚æœä¸æ˜¯å¤šä¸ªå®¹å™¨éœ€è¦å…±ç”¨netæˆ–volumeï¼Œå°½å¯èƒ½åœ°æŠŠä¸åŒçš„å®¹å™¨æ”¾åˆ°ä¸åŒçš„podä¸­ï¼Œæ–°å»ºä¸€ä¸ªpodä¸éœ€è¦è€—è´¹å¾ˆå¤šèµ„æºï¼ŒKuberneteså¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¯¹podè¿›è¡Œç®¡ç†å’Œæ‰©å®¹ã€ç¼©å®¹ç­‰æ“ä½œï¼Œè¿™ç§æ–¹å¼å¯ä»¥æ›´å¥½åœ°åˆ©ç”¨åŸºç¡€èµ„æºã€‚&#xA;æ€»ç»“æ¥è¯´ï¼Œpodå°±æ˜¯é€»è¾‘ä¸Šçš„ä¸»æœºã€‚&#xA;podç”Ÿå‘½å‘¨æœŸ Pendingï¼šè¡¨ç¤ºpodå·²ç»è¢«åŒæ„åˆ›å»ºï¼Œæ­£åœ¨ç­‰å¾…kube-scheduleré€‰æ‹©åˆé€‚çš„èŠ‚ç‚¹åˆ›å»ºï¼Œä¸€èˆ¬æ˜¯åœ¨å‡†å¤‡é•œåƒï¼› Runningï¼šè¡¨ç¤ºpodä¸­æ‰€æœ‰çš„å®¹å™¨å·²ç»è¢«åˆ›å»ºï¼Œå¹¶ä¸”è‡³å°‘æœ‰ä¸€ä¸ªå®¹å™¨æ­£åœ¨è¿è¡Œæˆ–è€…æ˜¯æ­£åœ¨å¯åŠ¨æˆ–è€…æ˜¯æ­£åœ¨é‡å¯ï¼› Succeededï¼šè¡¨ç¤ºæ‰€æœ‰å®¹å™¨å·²ç»æˆåŠŸç»ˆæ­¢ï¼Œå¹¶ä¸”ä¸ä¼šå†å¯åŠ¨ï¼› Failedï¼šè¡¨ç¤ºpodä¸­æ‰€æœ‰å®¹å™¨éƒ½æ˜¯é0ï¼ˆä¸æ­£å¸¸ï¼‰çŠ¶æ€é€€å‡ºï¼› Unknownï¼šè¡¨ç¤ºæ— æ³•è¯»å–PodçŠ¶æ€ï¼Œé€šå¸¸æ˜¯kube-controller-manageræ— æ³•ä¸Podé€šä¿¡ã€‚ åˆ›å»ºpodæµç¨‹ å®¢æˆ·ç«¯æäº¤Podçš„é…ç½®ä¿¡æ¯ï¼ˆå¯ä»¥æ˜¯yamlæ–‡ä»¶å®šä¹‰å¥½çš„ä¿¡æ¯ï¼‰åˆ°kube-apiserverï¼› Apiserveræ”¶åˆ°æŒ‡ä»¤åï¼Œé€šçŸ¥ç»™controller-manageråˆ›å»ºä¸€ä¸ªèµ„æºå¯¹è±¡ï¼› Controller-manageré€šè¿‡api-serverå°†podçš„é…ç½®ä¿¡æ¯å­˜å‚¨åˆ°ETCDæ•°æ®ä¸­å¿ƒä¸­ï¼› Kube-scheduleræ£€æµ‹åˆ°podä¿¡æ¯ä¼šå¼€å§‹è°ƒåº¦é¢„é€‰ï¼Œä¼šå…ˆè¿‡æ»¤æ‰ä¸ç¬¦åˆPodèµ„æºé…ç½®è¦æ±‚çš„èŠ‚ç‚¹ï¼Œç„¶åå¼€å§‹è°ƒåº¦è°ƒä¼˜ï¼Œä¸»è¦æ˜¯æŒ‘é€‰å‡ºæ›´é€‚åˆè¿è¡Œpodçš„èŠ‚ç‚¹ï¼Œç„¶åå°†podçš„èµ„æºé…ç½®å•å‘é€åˆ°nodeèŠ‚ç‚¹ä¸Šçš„kubeletç»„ä»¶ä¸Šã€‚ Kubeletæ ¹æ®schedulerå‘æ¥çš„èµ„æºé…ç½®å•è¿è¡Œpodï¼Œè¿è¡ŒæˆåŠŸåï¼Œå°†podçš„è¿è¡Œä¿¡æ¯è¿”å›ç»™schedulerï¼Œschedulerå°†è¿”å›çš„podè¿è¡ŒçŠ¶å†µçš„ä¿¡æ¯å­˜å‚¨åˆ°etcdæ•°æ®ä¸­å¿ƒã€‚ åˆ é™¤podæµç¨‹ podä»serviceçš„endpointåˆ—è¡¨ä¸­è¢«ç§»é™¤ï¼› å¦‚æœè¯¥podå®šä¹‰äº†ä¸€ä¸ªåœæ­¢å‰çš„é’©å­ï¼Œå…¶ä¼šåœ¨podå†…éƒ¨è¢«è°ƒç”¨ï¼Œåœæ­¢é’©å­ä¸€èˆ¬å®šä¹‰äº†å¦‚ä½•ä¼˜é›…çš„ç»“æŸè¿›ç¨‹ï¼› è¿›ç¨‹è¢«å‘é€TERMä¿¡å·ï¼ˆkill -14ï¼‰ï¼› å½“è¶…è¿‡ä¼˜é›…é€€å‡ºçš„æ—¶é—´åï¼ŒPodä¸­çš„æ‰€æœ‰è¿›ç¨‹éƒ½ä¼šè¢«å‘é€SIGKILLä¿¡å·ï¼ˆkill -9ï¼‰ã€‚ podå¸¸ç”¨å‘½ä»¤ kubectl describe po cluster-admin-0 -n default # è·å–æŒ‡å®šnamespacesä¸‹çš„podè¯¦æƒ…ï¼Œå¯ä»¥çœ‹å‡ºcontainerä¿¡æ¯ kubectl get pods --all-namespaces # è·å–æ‰€æœ‰namespacesä¸‹çš„pod kubectl get pods -n default # -n è·å–æŒ‡å®šnamaspacesä¸‹çš„pod kubectl get pod podname -nkube-system -oyaml # è·å–podçš„è¯¦æƒ…ï¼Œ-oyaml ä»¥yamlæ ¼å¼è¾“å‡ºï¼Œä¹Ÿå¯ä»¥ -ojson kubectl exec -it taskcenter-0 -c loglistener -noceanus /bin/bash # è¿›å…¥æŸä¸ªpodä¸‹çš„cotainer kubectl logs tke-log-agent-2687c -c loglistener # è·å–æŸä¸ªpodä¸‹cotainerçš„logï¼Œä¹Ÿå¯ä»¥åŠ  -f å‚æ•°ï¼Œç±»ä¼¼äº tail -f åˆ›å»ºpodçš„æ–¹å¼ podæœ¬èº«ä¸å…·å¤‡æ•…éšœé‡å¯ä»¥åŠå‰¯æœ¬ç­‰åŠŸèƒ½ï¼Œä¸€èˆ¬ä½¿ç”¨å…¶ä»–çš„èµ„æºåˆ›å»ºpodã€‚</description>
    </item>
    <item>
      <title>Dockeræ„å»ºGoå·¥ç¨‹é•œåƒ</title>
      <link>https://qiref.github.io/post/2021/06/23/docker%E6%9E%84%E5%BB%BAgo%E5%B7%A5%E7%A8%8B%E9%95%9C%E5%83%8F/</link>
      <pubDate>Wed, 23 Jun 2021 10:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/23/docker%E6%9E%84%E5%BB%BAgo%E5%B7%A5%E7%A8%8B%E9%95%9C%E5%83%8F/</guid>
      <description>æ‘˜è¦ï¼šDockeræ„å»ºGoå·¥ç¨‹é•œåƒã€‚&#xA;å·¥ç¨‹ å·¥ç¨‹æ˜¯ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„Http serverçš„demoï¼Œç°åœ¨å°†è¿™ä¸ªå·¥ç¨‹æ„å»ºä¸ºdockeré•œåƒã€‚&#xA;import ( &amp;quot;fmt&amp;quot; &amp;quot;log&amp;quot; &amp;quot;net/http&amp;quot; ) func Init() { log.Println(&amp;quot;start server&amp;quot;) http.HandleFunc(&amp;quot;/hello_world&amp;quot;, HelloWorld) http.Handle(&amp;quot;/test_handle&amp;quot;, &amp;amp;TestHandleStruct{content: &amp;quot;test handle&amp;quot;}) if err := http.ListenAndServe(&amp;quot;:8080&amp;quot;, nil); err != nil { log.Println(&amp;quot;start server on 8080&amp;quot;) } log.Fatal(&amp;quot;start server failed.&amp;quot;) } func main() { // å¯åŠ¨HTTPæœåŠ¡ server.Init() } æ„å»º éœ€è¦åœ¨å·¥ç¨‹æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªDockerfile&#xA;å†…å®¹å¦‚ä¸‹ï¼š&#xA;# æ‹‰å–Goè¯­è¨€çš„ç‰ˆæœ¬ FROM golang:1.16 # åœ¨å®¹å™¨å†…è®¾ç½®å·¥ä½œç›®å½• WORKDIR /app # æŠŠæ–‡ä»¶å¤åˆ¶åˆ°å½“å‰å·¥ä½œç›®å½• COPY . . FROM alpine:latest as prod # è®¾ç½®GOPROXYçš„ç¯å¢ƒå˜é‡ ENV GOPROXY=&amp;quot;https://goproxy.cn&amp;quot; # ç¼–è¯‘é¡¹ç›® #RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o .</description>
    </item>
    <item>
      <title>Dockerå…¥é—¨</title>
      <link>https://qiref.github.io/post/2021/06/21/docker%E5%85%A5%E9%97%A8/</link>
      <pubDate>Mon, 21 Jun 2021 10:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/21/docker%E5%85%A5%E9%97%A8/</guid>
      <description>æ‘˜è¦ï¼šDockerç®€å•ä½¿ç”¨ã€‚&#xA;Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼ŒåŸºäº Go è¯­è¨€å¼€å‘ï¼Œå¹¶éµä» Apache2.0 åè®®å¼€æºã€‚ Docker å¯ä»¥è®©å¼€å‘è€…æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚ å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ï¼ˆç±»ä¼¼ iPhone çš„ appï¼‰,æ›´é‡è¦çš„æ˜¯å®¹å™¨æ€§èƒ½å¼€é”€æä½ã€‚&#xA;Dockerä¸‹è½½åœ°å€ï¼šhttps://www.docker.com/get-started&#xA;å®‰è£…å®Œæˆåï¼Œæ‰å¯ä»¥æ‰§è¡Œdockerçš„ç›¸å…³å‘½ä»¤ã€‚&#xA;$ docker system info Client: Context: default Debug Mode: false Plugins: buildx: Build with BuildKit (Docker Inc., v0.5.1-docker) compose: Docker Compose (Docker Inc., 2.0.0-beta.3) scan: Docker Scan (Docker Inc., v0.8.0) Server: Containers: 0 Running: 0 Paused: 0 Stopped: 0 Images: 0 Server Version: 20.10.7 Storage Driver: overlay2 Backing Filesystem: extfs Supports d_type: true Native Overlay Diff: true userxattr: false Logging Driver: json-file Cgroup Driver: cgroupfs Cgroup Version: 1 Plugins: Volume: local Network: bridge host ipvlan macvlan null overlay Log: awslogs fluentd gcplogs gelf journald json-file local logentries splunk syslog Swarm: inactive Runtimes: runc io.</description>
    </item>
    <item>
      <title>Kubernatesç»„ä»¶</title>
      <link>https://qiref.github.io/post/2021/06/21/kubernates%E7%BB%84%E4%BB%B6/</link>
      <pubDate>Mon, 21 Jun 2021 10:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/21/kubernates%E7%BB%84%E4%BB%B6/</guid>
      <description>æ‘˜è¦ï¼šKubernatesåŸºç¡€æ¦‚å¿µåŠå…¶ç»„ä»¶ã€‚&#xA;Kubernetesæ˜¯ä¸€ä¸ªå¼€æºçš„å®¹å™¨ç¼–æ’å¼•æ“ï¼Œç”¨æ¥å¯¹å®¹å™¨åŒ–åº”ç”¨è¿›è¡Œè‡ªåŠ¨åŒ–éƒ¨ç½²ã€æ‰©ç¼©å®¹å’Œç®¡ç†ï¼Œç®€ç§°K8sï¼ŒK8s è¿™ä¸ªç¼©å†™æ˜¯å› ä¸ºkå’Œsä¹‹é—´æœ‰å…«ä¸ªå­—ç¬¦ã€‚Google åœ¨ 2014 å¹´å¼€æºäº† Kubernetes é¡¹ç›®ã€‚&#xA;æ§åˆ¶é¢ç»„ä»¶ kube-apiserver apiserveræ˜¯ Kubernetes æ§åˆ¶é¢çš„ç»„ä»¶ï¼Œ è¯¥ç»„ä»¶å…¬å¼€äº† Kubernetes APIã€‚&#xA;etcd etcd æ˜¯å…¼å…·ä¸€è‡´æ€§å’Œé«˜å¯ç”¨æ€§çš„é”®å€¼æ•°æ®åº“ï¼Œå¯ä»¥ä½œä¸ºä¿å­˜ Kubernetes æ‰€æœ‰é›†ç¾¤æ•°æ®çš„åå°æ•°æ®åº“ã€‚&#xA;kube-scheduler è´Ÿè´£ç›‘è§†æ–°åˆ›å»ºçš„ã€æœªæŒ‡å®šè¿è¡ŒèŠ‚ç‚¹ï¼ˆnodeï¼‰çš„ Podsï¼Œé€‰æ‹©èŠ‚ç‚¹è®© Pod åœ¨ä¸Šé¢è¿è¡Œã€‚&#xA;è°ƒåº¦å†³ç­–è€ƒè™‘çš„å› ç´ åŒ…æ‹¬å•ä¸ª Pod å’Œ Pod é›†åˆçš„èµ„æºéœ€æ±‚ã€ç¡¬ä»¶/è½¯ä»¶/ç­–ç•¥çº¦æŸã€äº²å’Œæ€§å’Œåäº²å’Œæ€§è§„èŒƒã€æ•°æ®ä½ç½®ã€å·¥ä½œè´Ÿè½½é—´çš„å¹²æ‰°å’Œæœ€åæ—¶é™ã€‚&#xA;kube-controller-manager ä»é€»è¾‘ä¸Šè®²ï¼Œæ¯ä¸ªæ§åˆ¶å™¨éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„è¿›ç¨‹ï¼Œ ä½†æ˜¯ä¸ºäº†é™ä½å¤æ‚æ€§ï¼Œå®ƒä»¬éƒ½è¢«ç¼–è¯‘åˆ°åŒä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¹¶åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­è¿è¡Œã€‚&#xA;è¿™äº›æ§åˆ¶å™¨åŒ…æ‹¬:&#xA;èŠ‚ç‚¹æ§åˆ¶å™¨ï¼ˆNode Controllerï¼‰: è´Ÿè´£åœ¨èŠ‚ç‚¹å‡ºç°æ•…éšœæ—¶è¿›è¡Œé€šçŸ¥å’Œå“åº” ä»»åŠ¡æ§åˆ¶å™¨ï¼ˆJob controllerï¼‰: ç›‘æµ‹ä»£è¡¨ä¸€æ¬¡æ€§ä»»åŠ¡çš„ Job å¯¹è±¡ï¼Œç„¶ååˆ›å»º Pods æ¥è¿è¡Œè¿™äº›ä»»åŠ¡ç›´è‡³å®Œæˆ ç«¯ç‚¹æ§åˆ¶å™¨ï¼ˆEndpoints Controllerï¼‰: å¡«å……ç«¯ç‚¹(Endpoints)å¯¹è±¡(å³åŠ å…¥ Service ä¸ Pod) æœåŠ¡å¸æˆ·å’Œä»¤ç‰Œæ§åˆ¶å™¨ï¼ˆService Account &amp;amp; Token Controllersï¼‰: ä¸ºæ–°çš„å‘½åç©ºé—´åˆ›å»ºé»˜è®¤å¸æˆ·å’Œ API è®¿é—®ä»¤ç‰Œ cloud-controller-manager äº‘æ§åˆ¶å™¨ç®¡ç†å™¨æ˜¯æŒ‡åµŒå…¥ç‰¹å®šäº‘çš„æ§åˆ¶é€»è¾‘çš„ æ§åˆ¶å¹³é¢ç»„ä»¶ã€‚ äº‘æ§åˆ¶å™¨ç®¡ç†å™¨å…è®¸æ‚¨é“¾æ¥é›†ç¾¤åˆ°äº‘æä¾›å•†çš„åº”ç”¨ç¼–ç¨‹æ¥å£ä¸­ï¼Œ å¹¶æŠŠå’Œè¯¥äº‘å¹³å°äº¤äº’çš„ç»„ä»¶ä¸åªå’Œæ‚¨çš„é›†ç¾¤äº¤äº’çš„ç»„ä»¶åˆ†ç¦»å¼€ã€‚ cloud-controller-manager ä»…è¿è¡Œç‰¹å®šäºäº‘å¹³å°çš„æ§åˆ¶å›è·¯ã€‚ å¦‚æœä½ åœ¨è‡ªå·±çš„ç¯å¢ƒä¸­è¿è¡Œ Kubernetesï¼Œæˆ–è€…åœ¨æœ¬åœ°è®¡ç®—æœºä¸­è¿è¡Œå­¦ä¹ ç¯å¢ƒï¼Œ æ‰€éƒ¨ç½²çš„ç¯å¢ƒä¸­ä¸éœ€è¦äº‘æ§åˆ¶å™¨ç®¡ç†å™¨ã€‚&#xA;ä¸ kube-controller-manager ç±»ä¼¼ï¼Œcloud-controller-manager å°†è‹¥å¹²é€»è¾‘ä¸Šç‹¬ç«‹çš„ æ§åˆ¶å›è·¯ç»„åˆåˆ°åŒä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œä¾›ä½ ä»¥åŒä¸€è¿›ç¨‹çš„æ–¹å¼è¿è¡Œã€‚ ä½ å¯ä»¥å¯¹å…¶æ‰§è¡Œæ°´å¹³æ‰©å®¹ï¼ˆè¿è¡Œä¸æ­¢ä¸€ä¸ªå‰¯æœ¬ï¼‰ä»¥æå‡æ€§èƒ½æˆ–è€…å¢å¼ºå®¹é”™èƒ½åŠ›ã€‚</description>
    </item>
    <item>
      <title>Goè¯­è¨€å®ç°httpServer</title>
      <link>https://qiref.github.io/post/2021/06/19/go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0httpserver/</link>
      <pubDate>Sat, 19 Jun 2021 10:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/19/go%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0httpserver/</guid>
      <description>æ‘˜è¦ï¼šä½¿ç”¨Goè¯­è¨€åŸç”ŸåŒ…å®ç°Http Serverã€‚&#xA;å¯åŠ¨ä¸€ä¸ªHttp Server ä½¿ç”¨Goè¯­è¨€åŸç”Ÿçš„net/httpåº“å¯ä»¥å¾ˆç®€å•å®ç°ä¸€ä¸ªhttp serverã€‚&#xA;log.Println(&amp;quot;start server&amp;quot;) if err := http.ListenAndServe(&amp;quot;:8080&amp;quot;, nil); err != nil { log.Println(&amp;quot;start server on 8080&amp;quot;) } log.Fatal(&amp;quot;start server failed.&amp;quot;) æ²¡é”™ï¼Œåªè¦è¿™ä¹ˆå‡ è¡Œä»£ç ï¼Œå°±å¼€å¯äº†ä¸€ä¸ªhttp serverï¼Œç›‘å¬8080ç«¯å£ã€‚&#xA;æ¥æ”¶Httpè¯·æ±‚ http.HandleFunc å¼€å¯äº†Http serveråï¼Œæ— æ³•å¤„ç†Httpè¯·æ±‚è¿™ä¸ªå°±æ˜¯ä¸ªç©ºçš„Serverï¼Œä¸‹é¢ç»™å®ƒåŠ ä¸Šå¤„ç†Http Requestçš„èƒ½åŠ›ã€‚&#xA;func init() { log.Println(&amp;quot;start server&amp;quot;) http.HandleFunc(&amp;quot;/hello_world&amp;quot;, HelloWorld) if err := http.ListenAndServe(&amp;quot;:8080&amp;quot;, nil); err != nil { log.Println(&amp;quot;start server on 8080&amp;quot;) } log.Fatal(&amp;quot;start server failed.&amp;quot;) } func HelloWorld(w http.ResponseWriter, r *http.Request) { _, err := w.Write([]byte(&amp;quot;hello world&amp;quot;)) if err !</description>
    </item>
    <item>
      <title>Goè¯­è¨€åå°„</title>
      <link>https://qiref.github.io/post/2021/06/17/go%E8%AF%AD%E8%A8%80%E5%8F%8D%E5%B0%84/</link>
      <pubDate>Thu, 17 Jun 2021 10:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/17/go%E8%AF%AD%E8%A8%80%E5%8F%8D%E5%B0%84/</guid>
      <description>æ‘˜è¦ï¼šç†è§£Goè¯­è¨€çš„åå°„æœºåˆ¶ï¼Œåå°„æ˜¯æŒ‡åœ¨ç¨‹åºè¿è¡ŒæœŸå¯¹ç¨‹åºæœ¬èº«è¿›è¡Œè®¿é—®å’Œä¿®æ”¹çš„èƒ½åŠ›ã€‚&#xA;åå°„åŸºç¡€ä¿¡æ¯ func reflectDemo() { str := &amp;quot;reflect&amp;quot; fmt.Println(reflect.ValueOf(str)) fmt.Println(reflect.TypeOf(str)) } // ç»“æœ // reflect // string reflect.ValueOf()è·å–æ•°æ®è¿è¡Œæ—¶çš„å€¼ã€‚ reflect.TypeOf()è·å–æ•°æ®ç±»å‹ä¿¡æ¯ã€‚&#xA;// Type values are comparable, such as with the == operator, // so they can be used as map keys. // Two Type values are equal if they represent identical types. type Type interface { // To compare two Values, compare the results of the Interface method. // Using == on two Values does not compare the underlying values // they represent.</description>
    </item>
    <item>
      <title>Goè¯­è¨€deferã€panicã€recover</title>
      <link>https://qiref.github.io/post/2021/06/15/go%E8%AF%AD%E8%A8%80deferpanicrecover/</link>
      <pubDate>Tue, 15 Jun 2021 10:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/15/go%E8%AF%AD%E8%A8%80deferpanicrecover/</guid>
      <description>æ‘˜è¦ï¼šç†è§£Goè¯­è¨€deferã€panicã€recoverã€‚&#xA;defer Go è¯­è¨€çš„ defer ä¼šåœ¨å½“å‰å‡½æ•°è¿”å›å‰æ‰§è¡Œä¼ å…¥çš„å‡½æ•°ï¼Œå®ƒä¼šç»å¸¸è¢«ç”¨äºå…³é—­æ–‡ä»¶æè¿°ç¬¦ã€å…³é—­æ•°æ®åº“è¿æ¥ä»¥åŠè§£é”èµ„æºï¼Œæ€»ç»“ä¸€å¥è¯å°±æ˜¯å®Œæˆå‡½æ•°æ‰§è¡Œå®Œçš„æ”¶å°¾å·¥ä½œã€‚&#xA;func DeferDemo() { defer fmt.Println(&amp;quot;this is defer println&amp;quot;) fmt.Println(&amp;quot;this is println&amp;quot;) } // è¾“å‡º // this is println // this is defer println è¿è¡Œä»¥ä¸Šä»£ç æ¯æ¬¡éƒ½æ˜¯ç¬¬äºŒä¸ªprintlnå…ˆè¾“å‡ºï¼Œç„¶åæ‰æ˜¯deferå…³é”®å­—ä¿®é¥°çš„printlnè¾“å‡ºã€‚&#xA;å¦‚æœæœ‰å¤šä¸ªdeferï¼Œè¾“å‡ºé¡ºåºåˆä¼šå¦‚ä½•ï¼Ÿ&#xA;func MultiDeferDemo() { for i := 0; i &amp;lt; 5; i++ { defer fmt.Println(&amp;quot; defer &amp;quot;, i) } } // è¾“å‡º // defer 4 // defer 3 // defer 2 // defer 1 // defer 0 æ¯æ¬¡æœ€å…ˆè¾“å‡ºçš„éƒ½æ˜¯å¾ªç¯çš„æœ€åä¸€ä¸ªprintlnï¼Œå¯ä»¥å¾—å‡ºï¼šå¤šä¸ªdeferï¼Œè¿è¡Œé¡ºåºéµå¾ªLIFOè§„åˆ™ã€‚&#xA;deferçš„å€¼ä¼ é€’é—®é¢˜ã€‚&#xA;åŸºäºdeferçš„æœºåˆ¶ï¼Œå¯ä»¥ç”¨æ¥ç»Ÿè®¡å‡½æ•°çš„æ‰§è¡Œè€—æ—¶ã€‚</description>
    </item>
    <item>
      <title>Goè¯­è¨€åŒ…ç®¡ç†</title>
      <link>https://qiref.github.io/post/2021/06/10/go%E8%AF%AD%E8%A8%80%E5%8C%85%E7%AE%A1%E7%90%86/</link>
      <pubDate>Thu, 10 Jun 2021 10:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/10/go%E8%AF%AD%E8%A8%80%E5%8C%85%E7%AE%A1%E7%90%86/</guid>
      <description>æ‘˜è¦ï¼šGoè¯­è¨€åŒ…ç®¡ç†ã€‚&#xA;åŒ…ä½¿ç”¨è§„èŒƒ åŒ…çš„ä¹ æƒ¯ç”¨æ³•ï¼š&#xA;åŒ…åä¸€èˆ¬æ˜¯å°å†™çš„ï¼Œä½¿ç”¨ä¸€ä¸ªç®€çŸ­ä¸”æœ‰æ„ä¹‰çš„åç§°ã€‚ åŒ…åä¸€èˆ¬è¦å’Œæ‰€åœ¨çš„ç›®å½•åŒåï¼Œä¹Ÿå¯ä»¥ä¸åŒï¼ŒåŒ…åä¸­ä¸èƒ½åŒ…å«- ç­‰ç‰¹æ®Šç¬¦å·ã€‚ åŒ…ä¸€èˆ¬ä½¿ç”¨åŸŸåä½œä¸ºç›®å½•åç§°ï¼Œè¿™æ ·èƒ½ä¿è¯åŒ…åçš„å”¯ä¸€æ€§ï¼Œæ¯”å¦‚ GitHub é¡¹ç›®çš„åŒ…ä¸€èˆ¬ä¼šæ”¾åˆ°GOPATH/src/github.com/userName/projectName ç›®å½•ä¸‹ã€‚ åŒ…åä¸º main çš„åŒ…ä¸ºåº”ç”¨ç¨‹åºçš„å…¥å£åŒ…ï¼Œç¼–è¯‘ä¸åŒ…å« main åŒ…çš„æºç æ–‡ä»¶æ—¶ä¸ä¼šå¾—åˆ°å¯æ‰§è¡Œæ–‡ä»¶ã€‚ ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æºç æ–‡ä»¶åªèƒ½å±äºåŒä¸€ä¸ªåŒ…ï¼ŒåŒæ ·å±äºåŒä¸€ä¸ªåŒ…çš„æºç æ–‡ä»¶ä¸èƒ½æ”¾åœ¨å¤šä¸ªæ–‡ä»¶å¤¹ä¸‹ã€‚ Go è¯­è¨€ä¸­ï¼Œæ‰€æœ‰çš„å®šä¹‰ï¼Œæ¯”å¦‚å‡½æ•°ã€å˜é‡ã€ç»“æ„ä½“ç­‰ï¼Œå¦‚æœé¦–å­—æ¯æ˜¯å¤§å†™ï¼Œé‚£ä¹ˆå°±å¯ä»¥è¢«å…¶ä»–åŒ…ä½¿ç”¨ï¼›åŒä¸€åŒ…ä¸‹ï¼Œä¸å­˜åœ¨å¼•ç”¨é—®é¢˜ã€‚&#xA;åŸºäºåŒ…çš„å°è£… åœ¨Goè¯­è¨€ä¸­å°è£…å°±æ˜¯æŠŠæŠ½è±¡å‡ºæ¥çš„å­—æ®µå’Œå¯¹å­—æ®µçš„æ“ä½œå°è£…åœ¨ä¸€èµ·ï¼Œæ•°æ®è¢«ä¿æŠ¤åœ¨å†…éƒ¨ï¼Œç¨‹åºçš„å…¶å®ƒåŒ…åªèƒ½é€šè¿‡è¢«æˆæƒçš„æ–¹æ³•ï¼Œæ‰èƒ½å¯¹å­—æ®µè¿›è¡Œæ“ä½œã€‚&#xA;å°è£…çš„å¥½å¤„ï¼š éšè—å®ç°ç»†èŠ‚ï¼› å¯ä»¥å¯¹æ•°æ®è¿›è¡ŒéªŒè¯ï¼Œä¿è¯æ•°æ®å®‰å…¨åˆç†ã€‚&#xA;å°è£…çš„å®ç°æ­¥éª¤ï¼š&#xA;å°†ç»“æ„ä½“ã€å­—æ®µçš„é¦–å­—æ¯å°å†™ï¼› ç»™ç»“æ„ä½“æ‰€åœ¨çš„åŒ…æä¾›ä¸€ä¸ªå·¥å‚æ¨¡å¼çš„å‡½æ•°ï¼Œé¦–å­—æ¯å¤§å†™ï¼Œç±»ä¼¼ä¸€ä¸ªæ„é€ å‡½æ•°ï¼› æä¾›ä¸€ä¸ªé¦–å­—æ¯å¤§å†™çš„ Set æ–¹æ³•ï¼ˆç±»ä¼¼å…¶å®ƒè¯­è¨€çš„ publicï¼‰ï¼Œç”¨äºå¯¹å±æ€§åˆ¤æ–­å¹¶èµ‹å€¼ï¼› æä¾›ä¸€ä¸ªé¦–å­—æ¯å¤§å†™çš„ Get æ–¹æ³•ï¼ˆç±»ä¼¼å…¶å®ƒè¯­è¨€çš„ publicï¼‰ï¼Œç”¨äºè·å–å±æ€§çš„å€¼ã€‚ åŒ…çš„åˆå§‹åŒ– æ¯ä¸ªåŒ…éƒ½å…è®¸æœ‰ä¸€ä¸ª init å‡½æ•°ï¼Œå½“è¿™ä¸ªåŒ…è¢«å¯¼å…¥æ—¶ï¼Œä¼šæ‰§è¡Œè¯¥åŒ…çš„è¿™ä¸ª init å‡½æ•°ï¼Œåšä¸€äº›åˆå§‹åŒ–ä»»åŠ¡ã€‚ å¯¹äº init å‡½æ•°çš„æ‰§è¡Œæœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„:&#xA;init å‡½æ•°ä¼˜å…ˆäº main å‡½æ•°æ‰§è¡Œ åœ¨ä¸€ä¸ªåŒ…å¼•ç”¨é“¾ä¸­ï¼ŒåŒ…çš„åˆå§‹åŒ–æ˜¯æ·±åº¦ä¼˜å…ˆçš„ã€‚æ¯”å¦‚ï¼Œæœ‰è¿™æ ·ä¸€ä¸ªåŒ…å¼•ç”¨å…³ç³»ï¼šmainâ†’Aâ†’Bâ†’Cï¼Œé‚£ä¹ˆåˆå§‹åŒ–é¡ºåºä¸º C.initâ†’B.initâ†’A.initâ†’main å°è£…å¼•ç”¨å®ä¾‹ å»ºç«‹å¦‚ä¸‹å·¥ç¨‹ç»“æ„ï¼Œåœ¨mainåŒ…ä¸­éœ€è¦è®¿é—®modelåŒ…ä¸­çš„å†…å®¹ã€‚&#xA;project |---src |---main -main.go |---model -student.go student.go&#xA;type student struct { Name string idCardNum string // ç§æœ‰ï¼Œå¤–éƒ¨åŒ…ä¸å¯è®¿é—® Age int8 } func NewStudent(stuName string, age int8) *student { return &amp;amp;student{ Name: stuName, Age: age, } } // å®šä¹‰ç»“æ„ä½“æ–¹æ³• func (stu *student) SetIdCardNum(idCN string) { stu.</description>
    </item>
    <item>
      <title>Goè¯­è¨€channel</title>
      <link>https://qiref.github.io/post/2021/06/09/go%E8%AF%AD%E8%A8%80channel/</link>
      <pubDate>Wed, 09 Jun 2021 21:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/09/go%E8%AF%AD%E8%A8%80channel/</guid>
      <description>æ‘˜è¦ï¼šGoè¯­è¨€ä¸­ï¼Œåç¨‹ä¹‹é—´é€šè¿‡channelç›¸äº’é€šä¿¡ï¼Œå¯ä»¥ä»ä¸€ä¸ªGoåç¨‹å°†å€¼å‘é€åˆ°é€šé“ï¼Œç„¶ååœ¨åˆ«çš„åç¨‹ä¸­æ¥æ”¶ã€‚&#xA;channel å®šä¹‰ å®šä¹‰channelçš„è¯­æ³•ä¸ºï¼šmake(chan val-type)ï¼Œval-typeå°±æ˜¯éœ€è¦ä¼ é€’å€¼çš„ç±»å‹ã€‚ chan1 &amp;lt;- val è¡¨ç¤ºå°†valå‘é€åˆ°channel chann1ä¸­ï¼Œ r := &amp;lt;- chann1è¡¨ç¤ºä»chann1ä¸­è¯»å–æ¶ˆæ¯ã€‚&#xA;func Ping(c *chan string, s string) { *c &amp;lt;- s } func Pong(c *chan string) string { return &amp;lt;-*c } // main func main() { c := make(chan string) go Ping(&amp;amp;c, &amp;quot;ping&amp;quot;) go func() { pong := Pong(&amp;amp;c) fmt.Println(pong) }() time.Sleep(time.Second * 2) } // ç»“æœ // ping éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå‘é€šé“ä¸­å‘é€æ¶ˆæ¯å’Œä»é€šé“ä¸­æ¥æ”¶æ¶ˆæ¯ï¼Œéƒ½æ˜¯é˜»å¡çš„ï¼Œå¦‚æœå‘é€å’Œæ¥æ”¶ä¸æ˜¯æˆå¯¹å‡ºç°ï¼Œå°±ä¼šå‘ç”Ÿé”™è¯¯ã€‚ å°†ä¸Šæ–‡ä¸­ä»£ç æ”¹æˆè¿™æ ·ï¼š&#xA;c := make(chan string) Ping(&amp;amp;c, &amp;quot;ping&amp;quot;) //go func() { // pong := Pong(&amp;amp;c) // fmt.</description>
    </item>
    <item>
      <title>Goè¯­è¨€æ¥å£</title>
      <link>https://qiref.github.io/post/2021/06/05/go%E8%AF%AD%E8%A8%80%E6%8E%A5%E5%8F%A3/</link>
      <pubDate>Sat, 05 Jun 2021 21:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/05/go%E8%AF%AD%E8%A8%80%E6%8E%A5%E5%8F%A3/</guid>
      <description>æ‘˜è¦ï¼šGoæ”¯æŒæ¥å£ï¼Œæ¥å£æ˜¯æ–¹æ³•ç‰¹å¾çš„å‘½åé›†åˆã€‚&#xA;goè¯­è¨€æ¥å£ goè¯­è¨€ä¸­æœ‰æ¥å£çš„æ¦‚å¿µï¼Œæ¥å£æ˜¯æ–¹æ³•ç‰¹å¾çš„å‘½åé›†åˆã€‚å®ƒæŠŠæ‰€æœ‰çš„å…·æœ‰å…±æ€§çš„æ–¹æ³•å®šä¹‰åœ¨ä¸€èµ·ï¼Œä»»ä½•å…¶ä»–ç±»å‹åªè¦å®ç°äº†è¿™äº›æ–¹æ³•å°±æ˜¯å®ç°äº†è¿™ä¸ªæ¥å£ã€‚&#xA;æ³¨æ„ï¼Œå®ç°äº†è¿™äº›æ–¹æ³•å°±ç®—å®ç°äº†è¿™ä¸ªæ¥å£ã€‚&#xA;å®šä¹‰æ¥å£ // å®šä¹‰geometryæ¥å£ type geometry interface { area() float64 peri() float64 } æ¥å£çš„å®šä¹‰ä¹Ÿæ¯”è¾ƒç®€å•ã€‚å®šä¹‰å’Œå®ç°è§„åˆ™å¦‚ä¸‹ï¼š&#xA;/* å®šä¹‰æ¥å£ */ type interface_name interface { method_name1 [return_type] method_name2 [return_type] method_name3 [return_type] ... method_namen [return_type] } /* å®šä¹‰ç»“æ„ä½“ */ type struct_name struct { /* variables */ } /* å®ç°æ¥å£æ–¹æ³• */ func (struct_name_variable struct_name) method_name1() [return_type] { /* æ–¹æ³•å®ç° */ } ... func (struct_name_variable struct_name) method_namen() [return_type] { /* æ–¹æ³•å®ç°*/ } å®ç°æ¥å£ Goè¯­è¨€ä¸­æ¥å£çš„å®ç°éƒ½æ˜¯éšå¼çš„ï¼Œé»˜è®¤å®ç°äº†æ¥å£çš„æ‰€æœ‰æ–¹æ³•å°±éšå¼åœ°å®ç°äº†æ¥å£ã€‚</description>
    </item>
    <item>
      <title>Goè¯­è¨€æŒ‡é’ˆ</title>
      <link>https://qiref.github.io/post/2021/06/05/go%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88/</link>
      <pubDate>Sat, 05 Jun 2021 21:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/05/go%E8%AF%AD%E8%A8%80%E6%8C%87%E9%92%88/</guid>
      <description>æ‘˜è¦ï¼šGoæ”¯æŒæŒ‡é’ˆï¼Œå…è®¸åœ¨ç¨‹åºä¸­é€šè¿‡å¼•ç”¨ä¼ é€’å€¼æˆ–è€…æ•°æ®ç»“æ„ã€‚&#xA;goè¯­è¨€ä¸­çš„æŒ‡é’ˆå’ŒCè¯­è¨€ä¸­çš„æŒ‡é’ˆç±»ä¼¼ï¼Œä½†æ¯”Cè¯­è¨€ä¸­çš„æŒ‡é’ˆæ›´ç®€å•ã€‚&#xA;// Goè¯­è¨€å–åœ°å€ç¬¦å·æ˜¯&amp;amp;ï¼Œæ”¾åˆ°å˜é‡å‰ä¼šè¿”å›å¯¹åº”å˜é‡çš„å†…å­˜åœ°å€ var i1 int = 1 var j = i1 fmt.Println(&amp;amp;i1) fmt.Println(&amp;amp;j) // å®šä¹‰æŒ‡é’ˆå˜é‡ var var_name *var_type s := &amp;quot;sss&amp;quot; p := 2181 var ip *string = &amp;amp;s var port *int = &amp;amp;p fmt.Println(*ip) fmt.Println(*port) å˜é‡ã€æŒ‡é’ˆå’Œåœ°å€ä¸‰è€…çš„å…³ç³»æ˜¯ï¼Œæ¯ä¸ªå˜é‡éƒ½æ‹¥æœ‰åœ°å€ï¼ŒæŒ‡é’ˆçš„å€¼å°±æ˜¯åœ°å€ã€‚&#xA;é€šè¿‡&amp;amp; è·å–å¯¹åº”å˜é‡çš„å†…å­˜åœ°å€ã€‚ é€šè¿‡* è·å–æŒ‡é’ˆçš„å€¼ï¼Œä¹Ÿå°±æ˜¯æŒ‡é’ˆå–å€¼ã€‚å–åœ°å€æ“ä½œç¬¦ &amp;amp; å’Œå–å€¼æ“ä½œç¬¦ * æ˜¯ä¸€å¯¹äº’è¡¥æ“ä½œç¬¦ï¼Œ&amp;amp; å–å‡ºåœ°å€ï¼Œ* æ ¹æ®åœ°å€å–å‡ºåœ°å€æŒ‡å‘çš„å€¼ã€‚&#xA;å˜é‡ã€æŒ‡é’ˆåœ°å€ã€æŒ‡é’ˆå˜é‡ã€å–åœ°å€ã€å–å€¼çš„ç›¸äº’å…³ç³»å’Œç‰¹æ€§å¦‚ä¸‹ï¼š&#xA;å¯¹å˜é‡è¿›è¡Œå–åœ°å€æ“ä½œä½¿ç”¨&amp;amp;æ“ä½œç¬¦ï¼Œå¯ä»¥è·å¾—è¿™ä¸ªå˜é‡çš„æŒ‡é’ˆå˜é‡ã€‚ æŒ‡é’ˆå˜é‡çš„å€¼æ˜¯æŒ‡é’ˆåœ°å€ã€‚ å¯¹æŒ‡é’ˆå˜é‡è¿›è¡Œå–å€¼æ“ä½œä½¿ç”¨*æ“ä½œç¬¦ï¼Œå¯ä»¥è·å¾—æŒ‡é’ˆå˜é‡æŒ‡å‘çš„åŸå˜é‡çš„å€¼ã€‚ é€šè¿‡New()åˆ›å»ºæŒ‡é’ˆ Goè¯­è¨€è¿˜æä¾›äº†å¦å¤–ä¸€ç§æ–¹æ³•æ¥åˆ›å»ºæŒ‡é’ˆå˜é‡ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š new(type) è¿™ä¸ªtypeå¯ä»¥ä¸ºintã€‚&#xA;// create ptr by new() func createPtr() { str := new(string) *str = &amp;quot;ssss&amp;quot; fmt.</description>
    </item>
    <item>
      <title>Goè¯­è¨€goroutine</title>
      <link>https://qiref.github.io/post/2021/06/03/go%E8%AF%AD%E8%A8%80goroutine/</link>
      <pubDate>Thu, 03 Jun 2021 21:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/03/go%E8%AF%AD%E8%A8%80goroutine/</guid>
      <description>æ‘˜è¦ï¼šGoè¯­è¨€goroutine&#xA;goroutineåç¨‹ Go åç¨‹ åœ¨æ‰§è¡Œä¸Šæ¥è¯´æ˜¯è½»é‡çº§çš„çº¿ç¨‹ã€‚goè¯­è¨€å±‚é¢å¹¶ä¸æ”¯æŒå¤šè¿›ç¨‹æˆ–å¤šçº¿ç¨‹ï¼Œä½†æ˜¯åç¨‹æ›´å¥½ç”¨ï¼Œåç¨‹è¢«ç§°ä¸ºç”¨æˆ·æ€çº¿ç¨‹ï¼Œä¸å­˜åœ¨CPUä¸Šä¸‹æ–‡åˆ‡æ¢é—®é¢˜ï¼Œæ•ˆç‡éå¸¸é«˜ã€‚&#xA;goè¯­è¨€ä¸­å¯åŠ¨ä¸€ä¸ªåç¨‹éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨æ‰§è¡Œå‡½æ•°å‰åŠ ä¸Šgoå…³é”®å­—ï¼Œå°±å¯ä»¥å¯ç”¨goroutineã€‚&#xA;func main() { // ä½¿ç”¨åŒ¿åå‡½æ•°å¯ç”¨goroutine go func() { fmt.Println(&amp;quot;goroutine&amp;quot;) }() // è°ƒç”¨å‡½æ•°å¯ç”¨goroutine go func1() } func func1() { fmt.Println(&amp;quot;f1() was called.&amp;quot;) } æ²¡é”™å°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œåœ¨goè¯­è¨€ä¸­ï¼Œgoroutineä¼šè¢«æ”¾åˆ°è¿è¡Œé˜Ÿåˆ—runtime.runqputä¸­ï¼Œç„¶åç”±è°ƒåº¦å™¨è°ƒåº¦ã€‚å¹¶éæ˜¯æ¯ä¸€ä¸ªåç¨‹éƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„çº¿ç¨‹å»æ‰§è¡Œï¼Œåç¨‹æ¯”çº¿ç¨‹çš„ç²’åº¦æ›´ç»†ã€‚&#xA;ä½†æ˜¯ä¸Šè¿°ä»£ç å¹¶ä¸ä¼šæœ‰è¾“å‡ºç»“æœï¼Œå› ä¸ºè¿˜æ²¡ç­‰func1()å‡½æ•°æ‰§è¡Œå®Œæˆï¼Œmain()å°±å·²ç»æ‰§è¡Œå®Œæˆäº†ã€‚æ‰€ä»¥åœ¨main()å‡½æ•°æ‰§è¡Œå®Œæˆä¹‹å‰sleepä¸€ä¸‹å°±å¯ä»¥çœ‹åˆ°func1()çš„æ‰§è¡Œç»“æœã€‚&#xA;time.Sleep(time.Second * 1) WaitGroup sleepè‚¯å®šæ˜¯ä¸é è°±çš„ï¼Œgoè¯­è¨€ä¸­å¯ä»¥ç­‰å¾…åç¨‹æ‰§è¡Œå®Œæˆåå†å›åˆ°ä¸»çº¿ç¨‹ã€‚&#xA;// å®šä¹‰å…¨å±€å˜é‡ var WG = sync.WaitGroup{} func main() { WG.Add(1) go func1() WG.Wait() } func func1() { fmt.Println(&amp;quot;f1() was called.&amp;quot;) WG.Done() } åœ¨è°ƒç”¨func1()ä¹‹å‰ï¼Œè°ƒç”¨å…¨å±€å˜é‡WG.Add()æ–¹æ³•ï¼Œç„¶åå¯ç”¨goroutineè°ƒç”¨func1()ï¼Œç„¶åè°ƒç”¨WG.Wait()å‡½æ•°è¿›è¡Œç­‰å¾…ï¼Œfun1()è°ƒç”¨ç»“æŸåï¼Œè°ƒç”¨WG.Done()ã€‚ é€šè¿‡è¯•éªŒå¯ä»¥å‘ç°ï¼šAdd()æ–¹æ³•ä¸­çš„æ•°å€¼ä¸Done()æ–¹æ³•çš„æ•°é‡åº”è¯¥ä¿æŒä¸€è‡´ã€‚å½“Add(2)æ—¶ï¼ŒDone()æ–¹æ³•åº”è¯¥æ‰§è¡Œä¸¤æ¬¡ã€‚ç›´åˆ° WaitGroup è®¡æ•°å™¨æ¢å¤ä¸º 0ï¼› å³æ‰€æœ‰åç¨‹çš„å·¥ä½œéƒ½å·²ç»å®Œæˆã€‚ çœ‹æºç å¯ä»¥å‘ç°ï¼ŒDone()ä¸Add()å®é™…ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°ã€‚&#xA;// Done decrements the WaitGroup counter by one.</description>
    </item>
    <item>
      <title>Goè¯­è¨€åŸºæœ¬æ•°æ®ç»“æ„</title>
      <link>https://qiref.github.io/post/2021/06/01/go%E8%AF%AD%E8%A8%80%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</link>
      <pubDate>Tue, 01 Jun 2021 21:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/06/01/go%E8%AF%AD%E8%A8%80%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</guid>
      <description>æ‘˜è¦ï¼šGoè¯­è¨€åŸºæœ¬æ•°æ®ç»“æ„&#xA;æ•°ç»„ strings := [3]string{&amp;quot;1&amp;quot;, &amp;quot;2&amp;quot;, &amp;quot;2&amp;quot;} intArray := [8]int{1, 2, 3, 4, 5, 5, 5, 55} å®šä¹‰ä¸¤ä¸ªæ•°ç»„,fmt.Println(len(strings)) å¯ä»¥ä½¿ç”¨len()å‡½æ•°å¾—åˆ°æ•°ç»„çš„é•¿åº¦ï¼Œstrings[1]å¯ä»¥è·å–æŒ‡å®šæ•°ç»„ä¸‹æ ‡çš„å…ƒç´ ã€‚&#xA;æ‰€ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å¯ä»¥éå†æ•°ç»„ï¼š&#xA;for i := 0; i &amp;lt; len(strings); i++ { fmt.Println(strings[i]) } ä¸‹æ–‡æä¾›äº†æ›´åŠ ä¼˜é›…çš„æ–¹å¼ã€‚&#xA;slice Goæ•°ç»„çš„é•¿åº¦ä¸å¯å˜ï¼ŒGoæä¾›äº†ä¸€ç§å†…ç½®ç±»å‹åˆ‡ç‰‡:sliceï¼Œä¸æ•°ç»„ç›¸æ¯”ï¼Œåˆ‡ç‰‡çš„é•¿åº¦ä¸æ˜¯å›ºå®šçš„ï¼Œå¯ä»¥åŠ¨æ€æ‰©å®¹ã€æ·»åŠ å…ƒç´ ã€‚&#xA;slice1 := make([]string, 2) fmt.Println(slice1) slice1[0] = &amp;quot;22&amp;quot; slice1[1] = &amp;quot;222&amp;quot; fmt.Println(slice1) slice1 = append(slice1, &amp;quot;33&amp;quot;, &amp;quot;44&amp;quot;, &amp;quot;55&amp;quot;) fmt.Println(slice1) fmt.Println(len(slice1)) // è£å‰ªï¼Œä»index 2 åˆ°index 4 sliceSub := slice1[2:4] fmt.Println(sliceSub) // è£å‰ªï¼Œä»index 2 åˆ°æœ€å sliceSub2 := slice1[2:] fmt.</description>
    </item>
    <item>
      <title>Goè¯­è¨€å˜é‡</title>
      <link>https://qiref.github.io/post/2021/05/31/go%E8%AF%AD%E8%A8%80%E5%8F%98%E9%87%8F/</link>
      <pubDate>Mon, 31 May 2021 21:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2021/05/31/go%E8%AF%AD%E8%A8%80%E5%8F%98%E9%87%8F/</guid>
      <description>æ‘˜è¦ï¼šGoè¯­è¨€å˜é‡&#xA;Goè¯­è¨€ä¸­çš„å˜é‡å®šä¹‰ç›¸å¯¹ä¸¥æ ¼ï¼Œå½“å®šä¹‰ä¸€ä¸ªå±€éƒ¨å˜é‡ä¸ºä½¿ç”¨æ—¶ï¼Œä¼šç¼–è¯‘æŠ¥é”™ï¼Œåœ¨goè¯­è¨€ä¸­ï¼Œæ— éœ€è¦å¤šä½™çš„ä»£ç ã€‚ä½†å…¨å±€å˜é‡é™¤å¤–ï¼Œå®šä¹‰å…¨å±€å˜é‡å…è®¸æš‚ä¸ä½¿ç”¨ã€‚&#xA;å…¨å±€å˜é‡ å…¨å±€å˜é‡å¯ä»¥è¢«å…¨å±€è®¿é—®&#xA;å®šä¹‰å…¨å±€å˜é‡ï¼š&#xA;// global variable var x, y int var ( a int b bool ) åŸºæœ¬å¸¸é‡ å¸¸é‡ä¸€ç»è¢«å®šä¹‰åæ— æ³•è¢«é‡æ–°èµ‹å€¼ï¼Œå¸¸é‡å¯ä»¥å®šä¹‰ä¸ºå…¨å±€çš„ï¼Œä¹Ÿå¯ä»¥å®šä¹‰ä¸ºå±€éƒ¨çš„ã€‚&#xA;å®šä¹‰å¸¸é‡ï¼š&#xA;// è¿™æ˜¯ä¸€ä¸ªå¸¸é‡ const CONST1 = 111 iotaå¸¸é‡ iotaï¼Œç‰¹æ®Šå¸¸é‡ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªå¯ä»¥è¢«ç¼–è¯‘å™¨ä¿®æ”¹çš„å¸¸é‡ã€‚ iota åœ¨ constå…³é”®å­—å‡ºç°æ—¶å°†è¢«é‡ç½®ä¸º 0(const å†…éƒ¨çš„ç¬¬ä¸€è¡Œä¹‹å‰)ï¼Œconst ä¸­æ¯æ–°å¢ä¸€è¡Œå¸¸é‡å£°æ˜å°†ä½¿ iota è®¡æ•°ä¸€æ¬¡(iota å¯ç†è§£ä¸º const è¯­å¥å—ä¸­çš„è¡Œç´¢å¼•)ã€‚&#xA;const ( a = iota b = iota c = iota ) // ä»¥ä¸Šå†™æ³•å¯ä»¥ç®€å†™ä¸º const ( d = iota e f ) fmt.Println(a, b, c) fmt.Println(d, e, f) // è¾“å‡ºç»“æœï¼š // 0 1 2 // 0 1 2 iotaå¸¸é‡å¯ä»¥æ¢å¤è®¡æ•°</description>
    </item>
    <item>
      <title>MySQLæ‰§è¡Œè®¡åˆ’</title>
      <link>https://qiref.github.io/post/2020/10/21/mysql%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92/</link>
      <pubDate>Wed, 21 Oct 2020 11:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2020/10/21/mysql%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92/</guid>
      <description>ä»€ä¹ˆæ˜¯SQLæ‰§è¡Œè®¡åˆ’ EXPLAINå‘½ä»¤æ˜¯æŸ¥çœ‹æŸ¥è¯¢ä¼˜åŒ–å™¨å¦‚ä½•å†³å®šæ‰§è¡ŒæŸ¥è¯¢çš„ä¸»è¦çš„æ–¹æ³•ï¼Œå­¦ä¼šè§£é‡ŠEXPLAINå°†å¸®åŠ©æˆ‘ä»¬äº†è§£SQLä¼˜åŒ–å™¨æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚æ‰§è¡Œè®¡åˆ’å¯ä»¥å‘Šè¯‰æˆ‘ä»¬SQLå¦‚ä½•ä½¿ç”¨ç´¢å¼•ï¼Œè¿æ¥æŸ¥è¯¢çš„æ‰§è¡Œé¡ºåºï¼ŒæŸ¥è¯¢çš„æ•°æ®è¡Œæ•°ã€‚ è¦ä½¿ç”¨EXPLAIN,åªéœ€è¦åœ¨æŸ¥è¯¢çš„SELECTå…³é”®å­—ä¹‹å‰å¢åŠ EXPLAINè¿™ä¸ªè¯ã€‚&#xA;MySQL [dev]&amp;gt; explain select * from TableName where Name like &#39;%c&#39;; +----+-------------+--------------+------------+------+---------------+------+---------+------+------+----------+-------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+--------------+------------+------+---------------+------+---------+------+------+----------+-------------+ | 1 | SIMPLE | ClusterGroup | NULL | ALL | NULL | NULL | NULL | NULL | 254 | 11.11 | Using where | +----+-------------+--------------+------------+------+---------------+------+---------+------+------+----------+-------------+ 1 row in set, 1 warning (0.</description>
    </item>
    <item>
      <title>Centosæ­å»ºå…¬å…±yumæº</title>
      <link>https://qiref.github.io/post/2019/12/14/centos%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1yum%E6%BA%90/</link>
      <pubDate>Sat, 14 Dec 2019 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2019/12/14/centos%E6%90%AD%E5%BB%BA%E5%85%AC%E5%85%B1yum%E6%BA%90/</guid>
      <description>æ‘˜è¦ï¼šè®°å½•åœ¨Centos7ä¸­å¦‚ä½•æŒ‚è½½ISOé•œåƒä½œyumæºï¼Œå¹¶å€ŸåŠ©httpæœåŠ¡ä½œå…¬å…±yumæºã€‚&#xA;éƒ¨ç½²yumç§æœ ä¸Šä¼ centosé•œåƒæ–‡ä»¶åˆ°æœåŠ¡å™¨&#xA;mountÂ -tÂ iso9660Â -oÂ loop centos-7-x86_64-dvd-1511.isoÂ /mnt/cdrom/ ï¼ˆå¸è½½ï¼šumoutn /mnt/cdrom)&#xA;æŒ‚è½½æˆåŠŸï¼ å°†è½¯ä»¶é“¾æ¥åˆ°httpæœåŠ¡å‘å¸ƒè·¯å¾„ä¸‹ ç¡®å®šå½“å‰æœåŠ¡å™¨æ˜¯å¦å®‰è£…äº†httpdæœåŠ¡&#xA;lnÂ -sÂ /mnt/cdrom/Â /var/www/html/CentOS7 æ£€æŸ¥httpæœåŠ¡&#xA;systemctlÂ status httpd.service å¯åŠ¨HTTPæœåŠ¡å™¨&#xA;systemctlÂ enable httpd.service systemctlÂ startÂ httpd.service ç•Œé¢æŸ¥çœ‹&#xA;cdÂ /etc/yum.repos.d/ mkdirÂ bak mvÂ centos-*Â bak viÂ CentOS-Base.repo [base] name=CentOS-$releaseverÂ -Â Base baseurl=http://192.168.67.15/CentOS7/ gpgcheck=1 gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7 åˆ†å‘åˆ°æ‰€æœ‰æœåŠ¡å™¨&#xA;scpÂ -rÂ /etc/yum.repos.d/Â hadoop-01:/etc/ scpÂ -rÂ /etc/yum.repos.d/Â hadoop-02:/etc/ æ£€æŸ¥æ˜¯å¦æ­£æˆåŠŸå®‰è£…yumÂ æº&#xA;yumÂ cleanÂ all yumÂ makecache yumÂ list å¦‚æœèƒ½çœ‹åˆ°è½¯ä»¶åˆ—è¡¨åˆ™è¯´æ˜å®‰è£…æˆåŠŸã€‚</description>
    </item>
    <item>
      <title>é€†æ³¢å…°è¡¨è¾¾å¼ç®—æ³•</title>
      <link>https://qiref.github.io/post/2019/09/04/%E9%80%86%E6%B3%A2%E5%85%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%AE%97%E6%B3%95/</link>
      <pubDate>Wed, 04 Sep 2019 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2019/09/04/%E9%80%86%E6%B3%A2%E5%85%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%AE%97%E6%B3%95/</guid>
      <description>æ‘˜è¦ï¼šå°†ä¸­ç¼€è¡¨è¾¾å¼è½¬åŒ–ä¸ºåç¼€è¡¨è¾¾å¼ï¼Œä»¥åŠè®¡ç®—åç¼€è¡¨è¾¾å¼çš„ç®—æ³•ã€‚&#xA;import org.slf4j.Logger; import org.slf4j.LoggerFactory; import java.util.HashSet; import java.util.Scanner; import java.util.Stack; /** * @author YaoQi * Date: 2019/1/5 15:45 * Modified: * Description: ä¸­ç¼€è¡¨è¾¾å¼è½¬åç¼€è¡¨è¾¾å¼ */ public class InfixToSuffixHandler { private static final Logger logger = LoggerFactory.getLogger(InfixToSuffixHandler.class); private static HashSet&amp;lt;Character&amp;gt; opStr = new HashSet&amp;lt;&amp;gt;(); static { logger.info(&amp;quot;Initialization operator&amp;quot;); opStr.add(&#39;+&#39;); opStr.add(&#39;-&#39;); opStr.add(&#39;*&#39;); opStr.add(&#39;/&#39;); logger.info(&amp;quot;Initialization finished&amp;quot;); } /** * åˆ¤æ–­å­—ç¬¦æ˜¯å¦ä¸ºæ“ä½œç¬¦ * * @param c å­—ç¬¦ * @return */ private static boolean isOpStr(char c) { return opStr.</description>
    </item>
    <item>
      <title>sparkå­¦ä¹ ç¬”è®°-RDDåŸºç¡€ç®—å­</title>
      <link>https://qiref.github.io/post/2019/07/27/spark%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-rdd%E5%9F%BA%E7%A1%80%E7%AE%97%E5%AD%90/</link>
      <pubDate>Sat, 27 Jul 2019 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2019/07/27/spark%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-rdd%E5%9F%BA%E7%A1%80%E7%AE%97%E5%AD%90/</guid>
      <description>æ‘˜è¦ï¼šå­¦ä¹ sparkè¿‡ç¨‹ä¸­çš„ç¬”è®°ï¼Œè®°å½•sparkä¸­çš„åŸºç¡€ç®—å­ï¼Œä»¥åŠRDDçš„åŸºæœ¬æ¦‚å¿µã€‚&#xA;spark transform operation æºç åœ°å€ï¼šhttps://github.com/YaoQi17/sparkLearning/tree/master/sparkRDD&#xA;æ€»ç»“ RDD(Resilient Distributed Dataset) å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼Œæ˜¯ä¸€ç»„åˆ†å¸ƒå¼çš„æ•°æ®é›†åˆï¼Œé‡Œé¢çš„å…ƒç´ å¯å¹¶è¡Œè®¡ç®—ï¼Œå¯åˆ†åŒºï¼› RDDå…è®¸ç”¨æˆ·åœ¨æ‰§è¡Œå¤šä¸ªæŸ¥è¯¢æ—¶æ˜¾ç¤ºåœ°å°†å·¥ä½œé›†ç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œä¾‹å¦‚persist()ï¼›&#xA;åˆ›å»ºæ–¹å¼ åˆ›å»ºRDDçš„ä¸¤ç§æ–¹å¼ï¼š&#xA;è¯»å–å¤–ç•Œæ–‡ä»¶ å¤–ç•Œæ–‡ä»¶ä¸å±€é™äºç³»ç»Ÿæ–‡ä»¶ï¼ŒåŒ…æ‹¬HDFSã€HBaseç­‰&#xA;sparkSession.sparkContext.textFile(&amp;quot;sparkRDD/src/main/resources/data.txt&amp;quot;) é€šè¿‡å¹¶è¡ŒåŒ–çš„æ–¹å¼åˆ›å»º val sparkSession = getDefaultSparkSession val dataArray = Array(1, 2, 3, 4, 5, 6) // åˆ›å»ºä¸€ä¸ªRDD val rdd = sparkSession.sparkContext.parallelize(dataArray) é€šè¿‡å¹¶è¡ŒåŒ–çš„æ–¹å¼åˆ›å»ºè¿˜å¯ä»¥æŒ‡å®šåˆ†åŒºçš„æ•°é‡&#xA;/** Distribute a local Scala collection to form an RDD. * * @note Parallelize acts lazily. If `seq` is a mutable collection and is altered after the call * to parallelize and before the first action on the RDD, the resultant RDD will reflect the * modified collection.</description>
    </item>
    <item>
      <title>SpringBoot HBase</title>
      <link>https://qiref.github.io/post/2019/07/11/springboot-hbase/</link>
      <pubDate>Thu, 11 Jul 2019 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2019/07/11/springboot-hbase/</guid>
      <description>æ‘˜è¦:è®°å½•è‡ªå·±å†™çš„ä¸€ä¸ªåŸºäºSpringBootæ“ä½œHBaseçš„ç»„ä»¶ï¼Œæ”¯æŒkerberosè®¤è¯æ–¹å¼è®¿é—®ï¼Œæœ¬æ–‡ç›¸å½“äºAPIæ–‡æ¡£ã€‚&#xA;HBase ç»„ä»¶æ¥å£æ–‡æ¡£ æºç åœ°å€ï¼šhttps://github.com/YaoQi17/HBase-Component&#xA;ä½¿ç”¨è¯´æ˜ åŸºæœ¬æ¦‚å¿µ&#xA;table: è¡¨&#xA;columnFamily:åˆ—æ—ï¼Œä¸€ä¸ªè¡¨ä¸‹å¯ä»¥æœ‰å¤šä¸ªåˆ—æ—ï¼Œä½†æ˜¯ä¸å»ºè®®è®¾ç½®å¤šä¸ªåˆ—æ—ï¼ŒHBaseå»ºè®®è®¾è®¡é•¿çª„å‹çš„è¡¨è€Œä¸æ˜¯çŸ­å®½å‹ã€‚&#xA;qualifier:åˆ—ï¼Œä¸€ä¸ªåˆ—æ—ä¸‹å¯ä»¥æœ‰å¤šåˆ—ï¼Œä¸€ä¸ªè¡¨ä¸­çš„åˆ—å¯ä»¥æ˜¯ä¸å¯¹é½çš„ï¼Œä½†æ˜¯è¿™æ ·æ•ˆç‡ä¸é«˜ï¼ŒåŒä¸€å¼ è¡¨ä¸­çš„åˆ—æœ€å¥½æ˜¯ç›¸åŒçš„ã€‚&#xA;cell:ä¸€åˆ—æ•°æ®ä¸‹çš„ä¸€ä¸ªå•å…ƒæ ¼ï¼Œä¸€ä¸ªåˆ—ä¸‹å¯ä»¥æœ‰å¤šä¸ªå•å…ƒæ ¼ï¼Œæ ¹æ®ç‰ˆæœ¬å·åŒºåˆ†ï¼Œé»˜è®¤æ¯æ¬¡è¯»å–æœ€æ–°ç‰ˆæœ¬çš„æ•°æ®ï¼Œcellä¸‹çš„å­˜å‚¨æ˜¯æ•°æ®æœ¬èº«ã€‚&#xA;row: è¡Œï¼Œå¤šåˆ—æ•°æ®ç»„æˆä¸€è¡Œï¼Œä¸€è¡Œä¸­æœ‰å¤šä¸ªqualifierã€‚&#xA;rowKey: è¡Œå¥ï¼Œç”¨äºå”¯ä¸€æ ‡è¯†ä¸€è¡Œæ•°æ®ï¼Œä¸€è¡Œä¸‹æœ‰å¤šåˆ—ï¼Œè¡Œå¥çš„è®¾è®¡ç›´æ¥å…³ç³»åˆ°æŸ¥è¯¢çš„æ•ˆç‡ã€‚&#xA;HBaseé…ç½® ä»¥ä¸‹é…ç½®ä¸ºæœ€åŸºç¡€é…ç½®ï¼Œç¼ºä¸€ä¸å¯ã€‚&#xA;HBase: conf: quorum: 192.168.80.234:2181,192.168.80.235:2181,192.168.80.241:2181 znodeParent: /hbase-unsecure #å¦‚æœæœ‰æ›´å¤šé…ç½®ï¼Œå†™åœ¨configä¸‹ï¼Œä¾‹å¦‚ï¼š #config: # key: value # key: value å¦‚æœéœ€è¦æ›´å¤šé…ç½®ï¼Œéœ€è¦åœ¨configä¸­é…ç½®ï¼Œä»¥key-valueçš„å½¢å¼ä¹¦å†™ã€‚&#xA;å‚æ•°è¯´æ˜ quorumæ˜¯HBaseä¸­zookeeperçš„é…ç½®ï¼ŒznodeParentæ˜¯HBaseé…ç½®åœ¨zookeeperä¸­çš„è·¯å¾„ã€‚&#xA;ç®€å•ç¤ºä¾‹ å¼•å…¥ç»„ä»¶jaråŒ…ï¼š&#xA;&amp;lt;dependency&amp;gt; &amp;lt;groupId&amp;gt;com.semptian.hbase.component&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;hbase-component&amp;lt;/artifactId&amp;gt; &amp;lt;version&amp;gt;1.0.1-SNAPSHOT&amp;lt;/version&amp;gt; &amp;lt;/dependency&amp;gt; åœ¨éœ€è¦çš„åœ°æ–¹æ³¨å…¥HBaseOperationsæ¥å£ï¼Œè¯¥æ¥å£çš„å®ç°ç±»æ˜¯HBaseTemplateï¼Œé€šè¿‡è¿™ä¸ªç±»æ¥æ“ä½œHBaseã€‚&#xA;@Autowired private HBaseOperations hBaseDao; æŸ¥è¯¢ä¸€æ¡æ•°æ®ï¼Œé€šè¿‡rowKeyæŸ¥è¯¢ï¼š&#xA;public void testQueryTable() { Result result = hBaseDao.queryByTableNameAndRowKey( &amp;quot;LBS&amp;quot;, 9223372036854775803L); System.out.println(result.isEmpty()); result.listCells().forEach(cell -&amp;gt; { System.out.println( &amp;quot;row:&amp;quot; + Bytes.toLong(CellUtil.cloneRow(cell)) + &amp;quot;,family:&amp;quot;+ Bytes.toString(CellUtil.cloneFamily(cell)) + &amp;quot;, qualifier: &amp;quot; + Bytes.</description>
    </item>
    <item>
      <title>å·¥å‚æ¨¡å¼</title>
      <link>https://qiref.github.io/post/2019/07/11/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/</link>
      <pubDate>Thu, 11 Jul 2019 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2019/07/11/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/</guid>
      <description>æ‘˜è¦ï¼šè¯¦ç»†ç»“æŸå·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰çš„ä½¿ç”¨ï¼Œä»¥åŠåœ¨Javaä¸­çš„å®ç°æ–¹å¼ã€‚&#xA;ç®€ä»‹ å·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰æ˜¯ Java ä¸­æœ€å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œå®ƒæä¾›äº†ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æœ€ä½³æ–¹å¼ã€‚å·¥å‚æ¨¡å¼ä¸»è¦æ˜¯è§£å†³åˆ›å»ºå¯¹è±¡çš„é—®é¢˜ï¼Œå…¸å‹çš„åº”ç”¨å°±æ˜¯åœ¨springä¸­çš„IOCï¼Œåè½¬æ§åˆ¶ï¼Œåè½¬æ§åˆ¶å°±æ˜¯æŠŠåˆ›å»ºå¯¹è±¡çš„æƒé™äº¤ç»™æ¡†æ¶ï¼Œæ‰€ä»¥springå°±æ˜¯ä¸€ä¸ªç”Ÿäº§å¯¹è±¡çš„å·¥å‚ã€‚&#xA;æ€è·¯ å·¥å‚æ¨¡å¼çš„æ€è·¯å°±æ˜¯è®¾è®¡ä¸€ä¸ªäº§ç”Ÿå¯¹è±¡çš„æœºåˆ¶ï¼Œè®©ç”Ÿäº§å¯¹è±¡çš„è¿‡ç¨‹äº¤ç»™ç¬¬ä¸‰æ–¹ï¼Œåœ¨å·¥å‚æ¨¡å¼ä¸­ï¼Œä¸ä¼šå¯¹å®¢æˆ·ç«¯æš´éœ²åˆ›å»ºé€»è¾‘ï¼Œå¹¶ä¸”ä½¿ç”¨é€šç”¨æ¥å£æ¥æ”¶æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚&#xA;å®ç°è¿‡ç¨‹ æ–°å»ºæŠ½è±¡çš„æ¥å£ æ–°å»ºå…·ä½“çš„å®ä½“ç±»ï¼Œå®ç°æŠ½è±¡çš„æ¥å£ åˆ›å»ºå®ä¾‹åŒ–å¯¹è±¡çš„å·¥å‚ åœ¨å®¢æˆ·ç«¯ä¸­é€šè¿‡å·¥å‚åˆ›å»ºå…·ä½“çš„å®ä½“å¯¹è±¡ï¼Œå¯¹è±¡å¯ä»¥ç”¨æŠ½è±¡æ¥å£æ¥æ”¶ã€‚ è¿™ç§æ–¹å¼æ˜¯æœ€ç®€å•çš„å®ç°æ–¹å¼ï¼š&#xA;// åˆ›å»ºæ¥å£ public interface Shape { void draw(); } // åˆ›å»ºå®ä½“ç±»Circle public class Circle implements Shape { @Override public void draw() { System.out.println(&amp;quot;drawing a circle&amp;quot;); } } // åˆ›å»ºå®ä½“ç±»Rectangle public class Rectangle implements Shape { @Override public void draw() { System.out.println(&amp;quot;drawing a Rectangle&amp;quot;); } } // åˆ›å»ºå®ä½“ç±»Square public class Square implements Shape { @Override public void draw() { System.</description>
    </item>
    <item>
      <title>Gitå­¦ä¹ ç¬”è®°</title>
      <link>https://qiref.github.io/post/2019/06/16/git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Sun, 16 Jun 2019 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2019/06/16/git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid>
      <description>æ‘˜è¦ï¼šå­¦ä¹ Gitçš„ä¸€äº›ç¬”è®°ï¼Œè®°å½•äº†Gitçš„ä¸€äº›å¸¸è§å‘½ä»¤ï¼Œä»¥åŠGitä¸­æ–‡ä»¶çš„ç”Ÿå‘½å‘¨æœŸã€‚&#xA;gitæ–‡ä»¶çŠ¶æ€å˜åŒ– çŠ¶æ€è¯´æ˜ï¼š çŠ¶æ€è½¬æ¢: æ­£å¸¸æµç¨‹ git clone ä»è¿œç¨‹æ‹‰ä¸€ä¸ªå·¥ç¨‹ä¸‹æ¥ å¢åŠ ä¸€ä¸ªæ–‡ä»¶ git status æŸ¥çœ‹çŠ¶æ€ git add æŠŠæ–‡ä»¶ä»Untracked&amp;ndash;&amp;gt;Staged git rm &amp;ndash;cached git commit æäº¤ git push æŠŠmasteråˆ†æ”¯çš„å†…å®¹æäº¤åˆ°è¿œç«¯ git diff æŸ¥çœ‹å˜åŒ– æ“ä½œå®ä¾‹ å›æ»šè¿˜æ²¡æœ‰commitçš„æ–‡ä»¶ æ“ä½œå®ä¾‹ å›æ»šæŸä¸ªæäº¤ æ“ä½œå®ä¾‹ åˆ†æ”¯æ“ä½œ æŸ¥çœ‹åˆ†æ”¯ åˆ›å»ºåˆ†æ”¯ åˆ†æ”¯ä¸Šå¢åŠ å†…å®¹ æ¨é€åˆ†æ”¯åˆ°è¿œç¨‹ ä¸¤ä¸ªåˆ†æ”¯è¿›è¡Œæ¯”è¾ƒ åˆ†æ”¯åˆå¹¶åˆ°masterä¸Š ä»è¿œç¨‹æ‹‰ä¸€ä¸ªåˆ†æ”¯ tagæ“ä½œ å…¶ä»– gitè¦†ç›–æœ¬åœ°ä¿®æ”¹ï¼Œpull è¿œç¨‹ gitä¿®æ”¹ä¸Šä¸€æ¬¡commit message gité‡å‘½ååˆ†æ”¯ gitæ–‡ä»¶çŠ¶æ€å˜åŒ– çŠ¶æ€è¯´æ˜ï¼š Untracked: åˆšæ–°åŠ çš„æ–‡ä»¶ï¼Œè¿˜æ²¡æœ‰çº³å…¥gitç®¡ç†èŒƒå›´&#xA;UnModified: å·²ç»committedçš„æ–‡ä»¶&#xA;Modified: å·²ç»committedçš„æ–‡ä»¶ï¼Œé€šè¿‡viç­‰ä¿®æ”¹åï¼Œå°±å˜æˆModified&#xA;Staged: git add åçš„æ–‡ä»¶&#xA;çŠ¶æ€è½¬æ¢: Untracked-&amp;gt;Staged: é€šè¿‡git add æ¥å®Œæˆ&#xA;UnModified-&amp;gt;Modified: ä¿®æ”¹æ–‡ä»¶å†…å®¹æ¥å®Œæˆï¼Œæ¯”å¦‚viå‘½ä»¤&#xA;Modified-&amp;gt;Staged: é€šè¿‡git add æ¥å®Œæˆ</description>
    </item>
    <item>
      <title>SpringBootä¸­ä½¿ç”¨AOP</title>
      <link>https://qiref.github.io/post/2019/06/16/springboot%E4%B8%AD%E4%BD%BF%E7%94%A8aop/</link>
      <pubDate>Sun, 16 Jun 2019 00:18:23 +0000</pubDate>
      <guid>https://qiref.github.io/post/2019/06/16/springboot%E4%B8%AD%E4%BD%BF%E7%94%A8aop/</guid>
      <description>æ‘˜è¦ï¼šSpringä¸­å¦‚ä½•ä½¿ç”¨æ³¨è§£å®ç°é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£ã€‚&#xA;åœºæ™¯ æ¯”å¦‚ç”¨æˆ·ç™»å½•ï¼Œæ¯ä¸ªè¯·æ±‚å‘èµ·ä¹‹å‰éƒ½ä¼šåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•ï¼Œå¦‚æœæ¯ä¸ªè¯·æ±‚éƒ½å»åˆ¤æ–­ä¸€æ¬¡ï¼Œé‚£å°±é‡å¤åœ°åšäº†å¾ˆå¤šäº‹æƒ…ï¼Œåªè¦æ˜¯æœ‰é‡å¤çš„åœ°æ–¹ï¼Œå°±æœ‰ä¼˜åŒ–çš„ç©ºé—´ã€‚ç°åœ¨å°±æŠŠé‡å¤çš„åœ°æ–¹æŠ½å–å‡ºæ¥ï¼Œæš‚ä¸”ç§°ä¹‹ä¸º &amp;quot; æ‹¦æˆªå™¨ &amp;ldquo;ï¼Œç„¶åæ¯æ¬¡è¯·æ±‚ä¹‹å‰å°±å…ˆç»è¿‡&amp;rdquo; æ‹¦æˆªå™¨ &amp;ldquo;ï¼Œè¿™ä¸ªç¼–ç¨‹çš„æ€æƒ³å°±å¯ä»¥ç§°ä¹‹ä¸ºé¢å‘åˆ‡é¢ç¼–ç¨‹ã€‚AOP(Aspect Oriented Program)&#xA;æœ€å…¸å‹çš„åº”ç”¨å°±æ˜¯äº‹åŠ¡ç®¡ç†å’Œæƒé™éªŒè¯ï¼Œè¿˜æœ‰æ—¥å¿—ç»Ÿè®¡ï¼Œä¸‹æ–‡ä¸­çš„æ¡ˆä¾‹å°±æ˜¯æ¥å£æ‰§è¡Œæ—¶é—´çš„ç»Ÿè®¡ã€‚&#xA;springä¸­ä½¿ç”¨AOPï¼ˆåŸºäºæ³¨è§£ï¼‰ ä¸å¾—ä¸è¯´æ³¨è§£æ˜¯ä¸ªå¾ˆå·§å¦™çš„è®¾è®¡ï¼Œä½¿ç”¨å¾ˆå°‘é‡çš„ä¿¡æ¯æè¿°æ•°æ®ï¼Œè¿™ç±»æ•°æ®ç§°ä¹‹ä¸ºå…ƒæ•°æ®ï¼Œæè¿°æ•°æ®çš„æ•°æ®ã€‚å…³äºæ³¨è§£çš„ç†è§£ï¼Œè¿™é‡Œæœ‰ä¸ªä¼ é€é—¨ï¼šhttp://www.importnew.com/10294.html&#xA;ä¸‹é¢çš„æ¡ˆä¾‹æ˜¯åœ¨springBootä¸­è¿›è¡Œçš„ï¼Œç›´è§‚åœ°æ„Ÿå—ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨æ³¨è§£å®ŒæˆAOPã€‚&#xA;@Service public class UserService { public void getUser() { //To do something System.out.println(&amp;quot;getUser() has been called&amp;quot;); try { Thread.sleep(1000); } catch (InterruptedException e) { e.printStackTrace(); } } } åˆ‡é¢æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š&#xA;@Component @Aspect public class LoggerAspect { /** * getUser()æ‰§è¡Œä¹‹å‰æ‰§è¡Œ */ @Before(&amp;quot;execution(* com.springboot.demo.service.UserService.getUser(..))&amp;quot;) public void callBefore() { System.out.println(&amp;quot;before call method&amp;quot;); System.out.println(&amp;quot;begin........................&amp;quot;); } /** * getUser()æ‰§è¡Œä¹‹åæ‰§è¡Œ */ @After(&amp;quot;execution(* com.springboot.demo.service.UserService.getUser(..))&amp;quot;) public void callAfter() { System.</description>
    </item>
    <item>
      <title>About Hugo XMin</title>
      <link>https://qiref.github.io/about/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://qiref.github.io/about/</guid>
      <description>XMin is the first Hugo theme I have designed. The original reason that I wrote it was I needed a minimal example of Hugo themes when I was writing the blogdown book. Basically I wanted a simple theme that supports a navigation menu, a home page, other single pages, lists of pages, blog posts, categories, tags, and RSS. That is all. Nothing fancy. In terms of CSS and JavaScript, I really want to keep them minimal.</description>
    </item>
  </channel>
</rss>
